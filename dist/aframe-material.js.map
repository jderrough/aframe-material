{"version":3,"sources":["webpack:///webpack/bootstrap c8bf0890c2381b0d089c","webpack:///./src/index.js","webpack:///./~/aframe-rounded/dist/aframe-rounded-component.min.js","webpack:///./src/fade/index.js","webpack:///./src/core/event.js","webpack:///./src/keyboard/index.js","webpack:///./src/utils.js","webpack:///./src/keyboard/draw.js","webpack:///./src/keyboard/assets.js","webpack:///./src/keyboard/layouts.js","webpack:///./src/keyboard/config.js","webpack:///./src/keyboard/behaviors.js","webpack:///./src/keyboard/sfx.js","webpack:///./src/keyboard/Assets.js","webpack:///./src/input/index.js","webpack:///./src/switch/index.js","webpack:///./src/switch/assets.js","webpack:///./src/switch/sfx.js","webpack:///./src/form/index.js","webpack:///./src/radio/index.js","webpack:///./src/radio/assets.js","webpack:///./src/radio/sfx.js","webpack:///./src/checkbox/index.js","webpack:///./src/checkbox/assets.js","webpack:///./src/checkbox/sfx.js","webpack:///./src/button/index.js","webpack:///./src/button/assets.js","webpack:///./src/button/sfx.js","webpack:///./src/toast/index.js","webpack:///./src/toast/assets.js","webpack:///./src/toast/sfx.js"],"names":["AFRAME","console","error","ASSETS_PATH","require","Event","opacityUpdate","opacity","el","object3D","traverse","o","material","transparent","textEntities","text","setAttribute","registerComponent","schema","duration","type","default","init","querySelectorAll","start","tick","t","Math","min","data","removeAttribute","emit","module","exports","name","dispatchEvent","CustomEvent","detail","Utils","Draw","Behaviors","SFX","isOpen","physicalKeyboard","mute","currentInput","that","numericalUI","mainUI","actionsUI","alphabeticalLayout","symbolsLayout","appendChild","numericalLayout","actionsLayout","show","showKeyboard","hide","hideKeyboard","open","openKeyboard","dismiss","dismissKeyboard","destroy","destroyKeyboard","addEventListener","inputEvent","bind","backspaceEvent","dismissEvent","document","keydownEvent","body","didFocusInputEvent","didBlurInputEvent","update","remove","removeEventListener","pause","play","e","appendString","deleteLast","blur","preventDefault","stopPropagation","key","length","registerPrimitive","defaultComponents","keyboard","mappings","preloadAssets","assets_arr","assets","querySelector","already_exists","scene","createElement","item","Array","from","children","stuff","id","asset_item","src","extend","a","b","hasOwnProperty","clone","original","isArray","slice","Object","create","getPrototypeOf","i","undefined","keys","getOwnPropertyNames","defineProperty","getOwnPropertyDescriptor","updateOpacity","hasAttribute","props","getAttribute","getWidthFactor","wrapCount","widthFactor","components","currentFont","Assets","Layouts","Config","wrapper","KEYBOARD_COLOR","numerical","index_y","key_id","value","index_x","x","KEY_WIDTH","y","alphabetical","prev_was_space","SPACE_KEY_WIDTH","symbols","actions","val_y","ACTION_WIDTH","addKeyEvents","shadow_el","aframeKeyboardShadow","letter_el","SPACE_KEY_HEIGHT","icon_el","aframeKeyboardShift","shiftKey","aframeKeyboardGlobal","aframeKeyboardBackspace","circle_el","aframeKeyboardEnter","aframeKeyboardDismiss","aframeKeyboardShiftActive","aframeKeyboardKeyIn","aframeKeyboardKeyDown","KEY_COLOR_HIGHLIGHT","KEY_COLOR_ACTIVE","SPACEBAR_COLOR_ACTIVE","SPACEBAR_COLOR_HIGHLIGHT","o_position","position","copy","child","parent","parentNode","sceneEl","THREE","Vector3","removeChild","_transitioning","animationend","setTimeout","keyClick","keyDown","keyOut","keyIn","isShiftEnabled","toUpperCase","shiftToggle","isSymbols","symbolsToggle","z","keyEl","key_type","startsWith","textEl","toLowerCase","sound","stopSound","playSound","disabled","color","align","font","letterSpacing","lineHeight","side","tabSize","placeholder","placeholderColor","maxLength","width","cursorWidth","cursorHeight","cursorColor","backgroundColor","backgroundOpacity","background","cursor","focus","blink","input","get","set","enumerable","configurable","isFocused","clearInterval","cursorInterval","setInterval","noemit","str","updateText","padding","left","right","attr","cursorTimer","clearTimeout","substring","repeat","getTextWidth","trimFirst","_widthFactor","v","geometry","visibleGlyphs","line","substr","textRatio","placeholder_props","updateCursor","enabled","fillColor","knobColor","fillColorEnabled","knobColorEnabled","fillColorDisabled","knobColorDisabled","fill","knob","switch","clickDisabled","click","on","off","disable","form","checked","label","radioColor","radioColorChecked","hitbox","outline","circle","radio","onClick","nearestForm","closest","didCheck","reverse","check","uncheck","timer","checkboxColor","checkboxColorChecked","inside","checkmark","checkbox","buttonColor","filter","shadow","button","getWidth","__width","callback","message","action","actionColor","autoshow","changeWidth","hideTimer","scale","toast"],"mappings":"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","file":"aframe-material.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c8bf0890c2381b0d089c","(()=>{\r\n  if (!AFRAME) { return console.error('AFRAME is required!'); }\r\n  if (!AFRAME.ASSETS_PATH) { AFRAME.ASSETS_PATH = \"./assets\"; }\r\n  require('aframe-rounded');\r\n  require(\"./fade\");\r\n  //require(\"./alert\"); @TODO ;)\r\n  require(\"./keyboard\");\r\n  require(\"./input\");\r\n  require(\"./switch\");\r\n  require(\"./form\");\r\n  require(\"./radio\");\r\n  require(\"./checkbox\");\r\n  require(\"./button\");\r\n  require(\"./toast\");\r\n})();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","!function(t){function e(i){if(a[i])return a[i].exports;var d=a[i]={exports:{},id:i,loaded:!1};return t[i].call(d.exports,d,d.exports,e),d.loaded=!0,d.exports}var a={};return e.m=t,e.c=a,e.p=\"\",e(0)}([function(t,e){AFRAME.registerComponent(\"rounded\",{schema:{enabled:{default:!0},width:{type:\"number\",default:1},height:{type:\"number\",default:1},radius:{type:\"number\",default:.3},topLeftRadius:{type:\"number\",default:-1},topRightRadius:{type:\"number\",default:-1},bottomLeftRadius:{type:\"number\",default:-1},bottomRightRadius:{type:\"number\",default:-1},color:{type:\"color\",default:\"#F0F0F0\"},opacity:{type:\"number\",default:1}},init:function(){this.rounded=new THREE.Mesh(this.draw(),new THREE.MeshPhongMaterial({color:new THREE.Color(this.data.color),side:THREE.DoubleSide})),this.updateOpacity(),this.el.setObject3D(\"mesh\",this.rounded)},update:function(){this.data.enabled?this.rounded&&(this.rounded.visible=!0,this.rounded.geometry=this.draw(),this.rounded.material.color=new THREE.Color(this.data.color),this.updateOpacity()):this.rounded.visible=!1},updateOpacity:function(){this.data.opacity<0&&(this.data.opacity=0),this.data.opacity>1&&(this.data.opacity=1),this.data.opacity<1?this.rounded.material.transparent=!0:this.rounded.material.transparent=!1,this.rounded.material.opacity=this.data.opacity},tick:function(){},remove:function(){this.rounded&&(this.el.object3D.remove(this.rounded),this.rounded=null)},draw:function(){function t(t,e,a,i,d,o,u,r,s){o||(o=1e-5),u||(u=1e-5),r||(r=1e-5),s||(s=1e-5),t.moveTo(e,a+o),t.lineTo(e,a+d-o),t.quadraticCurveTo(e,a+d,e+o,a+d),t.lineTo(e+i-u,a+d),t.quadraticCurveTo(e+i,a+d,e+i,a+d-u),t.lineTo(e+i,a+s),t.quadraticCurveTo(e+i,a,e+i-s,a),t.lineTo(e+r,a),t.quadraticCurveTo(e,a,e,a+r)}var e=new THREE.Shape,a=[this.data.radius,this.data.radius,this.data.radius,this.data.radius];return this.data.topLeftRadius!=-1&&(a[0]=this.data.topLeftRadius),this.data.topRightRadius!=-1&&(a[1]=this.data.topRightRadius),this.data.bottomLeftRadius!=-1&&(a[2]=this.data.bottomLeftRadius),this.data.bottomRightRadius!=-1&&(a[3]=this.data.bottomRightRadius),t(e,0,0,this.data.width,this.data.height,a[0],a[1],a[2],a[3]),new THREE.ShapeBufferGeometry(e)},pause:function(){},play:function(){}}),AFRAME.registerPrimitive(\"a-rounded\",{defaultComponents:{rounded:{}},mappings:{enabled:\"rounded.enabled\",width:\"rounded.width\",height:\"rounded.height\",radius:\"rounded.radius\",\"top-left-radius\":\"rounded.topLeftRadius\",\"top-right-radius\":\"rounded.topRightRadius\",\"bottom-left-radius\":\"rounded.bottomLeftRadius\",\"bottom-right-radius\":\"rounded.bottomRightRadius\",color:\"rounded.color\",opacity:\"rounded.opacity\"}})}]);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/aframe-rounded/dist/aframe-rounded-component.min.js\n// module id = 2\n// module chunks = 0","const Event = require('../core/event');\r\n\r\nvar opacityUpdate = function(opacity) {\r\n  this.el.object3D.traverse(function (o) {\r\n    if (o.material) {\r\n      o.material.transparent = true;\r\n      o.material.opacity = opacity;\r\n    }\r\n  });\r\n  for (let text of this.textEntities) {\r\n    text.setAttribute('opacity', opacity);\r\n  }\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// FADEIN\r\n\r\nAFRAME.registerComponent('fadein', {\r\n  schema: {\r\n    duration: { type: 'int', default: 200 },\r\n  },\r\n  init: function() {\r\n    this.textEntities = this.el.querySelectorAll('a-text');\r\n    this.opacityUpdate(0);\r\n    this.start = null;\r\n  },\r\n  tick: function (t) {\r\n    if (!this.start) { this.start = t; }\r\n    var opacity = Math.min((t - this.start) / this.data.duration, 1);\r\n    this.opacityUpdate(opacity);\r\n    if (opacity === 1) {\r\n      this.el.removeAttribute('fadein');\r\n      Event.emit(this.el, 'animationend');\r\n    }\r\n  },\r\n  opacityUpdate: opacityUpdate\r\n});\r\n\r\n// -----------------------------------------------------------------------------\r\n// FADEOUT\r\n\r\nAFRAME.registerComponent('fadeout', {\r\n  schema: {\r\n    duration: { type: 'int', default: 200 }\r\n  },\r\n  init: function() {\r\n    this.textEntities = this.el.querySelectorAll('a-text');\r\n    this.opacityUpdate(1);\r\n    this.start = null;\r\n  },\r\n  tick: function (t) {\r\n    if (!this.start) { this.start = t; }\r\n    var opacity = 1-Math.min((t - this.start) / this.data.duration, 1);\r\n    this.opacityUpdate(opacity);\r\n    if (opacity === 0) {\r\n      this.el.removeAttribute('fadeout');\r\n      Event.emit(this.el, 'animationend');\r\n    }\r\n  },\r\n  opacityUpdate: opacityUpdate\r\n});\r\n\r\n// -----------------------------------------------------------------------------\r\n// SHOW\r\n\r\nAFRAME.registerComponent('show', {\r\n  init: function() {\r\n    this.textEntities = this.el.querySelectorAll('a-text');\r\n    this.opacityUpdate(1);\r\n    this.el.removeAttribute('show');\r\n  },\r\n  opacityUpdate: opacityUpdate\r\n});\r\n\r\n// -----------------------------------------------------------------------------\r\n// HIDE\r\n\r\nAFRAME.registerComponent('hide', {\r\n  init: function() {\r\n    this.textEntities = this.el.querySelectorAll('a-text');\r\n    this.opacityUpdate(0);\r\n    this.el.removeAttribute('hide');\r\n  },\r\n  opacityUpdate: opacityUpdate\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fade/index.js","module.exports = {\r\n  emit: (el, name, data)=> {\r\n    el.dispatchEvent( new CustomEvent(name, {detail: data}) );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/event.js","const Utils = require('../utils');\r\nconst Draw = require('./draw');\r\nconst Behaviors = require('./behaviors');\r\nconst SFX = require('./sfx');\r\nconst Event = require('../core/event');\r\n\r\nAFRAME.registerComponent('keyboard', {\r\n  schema: {\r\n    isOpen: { type: \"boolean\", default: false },\r\n    physicalKeyboard: { type: \"boolean\", default: false },\r\n    mute: { type: \"boolean\", default: true }\r\n  },\r\n  currentInput: null,\r\n  init: function () {\r\n    let that = this;\r\n\r\n    // SFX\r\n    if (!this.data.mute) {\r\n      SFX.init(this.el);\r\n    }\r\n\r\n    // Draw\r\n    Draw.init( this.el );\r\n\r\n    // Init keyboard UI\r\n    let numericalUI = Draw.numericalUI(),\r\n        mainUI      = Draw.mainUI(),\r\n        actionsUI   = Draw.actionsUI();\r\n\r\n    // Create layout\r\n    this.el.alphabeticalLayout = Draw.alphabeticalLayout();\r\n    this.el.symbolsLayout = Draw.symbolsLayout();\r\n\r\n    // Append layouts to UI\r\n    numericalUI.appendChild( Draw.numericalLayout() );\r\n    mainUI.appendChild( this.el.alphabeticalLayout );\r\n    actionsUI.appendChild( Draw.actionsLayout() );\r\n\r\n    this.el.appendChild( numericalUI );\r\n    this.el.appendChild( mainUI );\r\n    this.el.appendChild( actionsUI );\r\n\r\n    // Inject methods in elements..\r\n    this.el.show = function() { Behaviors.showKeyboard(that.el); }\r\n    this.el.hide = function() { Behaviors.hideKeyboard(that.el); }\r\n    this.el.open = function() { Behaviors.openKeyboard(that.el); }\r\n    this.el.dismiss = function() { Behaviors.dismissKeyboard(that.el); }\r\n    this.el.destroy = function() { Behaviors.destroyKeyboard(that.el); }\r\n\r\n    // Set default value\r\n    this.el.setAttribute(\"scale\", \"2 2 2\");\r\n    this.el.setAttribute(\"rotation\", \"-20 0 0\");\r\n    this.el.setAttribute(\"position\", \"-1.5 -0.3 -2\");\r\n\r\n    // Register keyboard events\r\n    this.el.addEventListener('input', this.inputEvent.bind(this));\r\n    this.el.addEventListener('backspace', this.backspaceEvent.bind(this));\r\n    this.el.addEventListener('dismiss', this.dismissEvent.bind(this));\r\n\r\n    // Register global events\r\n    document.addEventListener('keydown', this.keydownEvent.bind(this));\r\n    document.body.addEventListener('didfocusinput', this.didFocusInputEvent.bind(this));\r\n    document.body.addEventListener('didblurinput', this.didBlurInputEvent.bind(this));\r\n  },\r\n  update: function () {\r\n    if (this.data.isOpen) {\r\n      Behaviors.showKeyboard(this.el);\r\n    } else {\r\n      Behaviors.hideKeyboard(this.el);\r\n    }\r\n  },\r\n  tick: function () {},\r\n  remove: function () {\r\n    this.el.removeEventListener('input', this.inputEvent.bind(this));\r\n    this.el.removeEventListener('backspace', this.backspaceEvent.bind(this));\r\n    this.el.removeEventListener('dismiss', this.dismissEvent.bind(this));\r\n\r\n    document.removeEventListener('keydown', this.keydownEvent.bind(this));\r\n    document.body.removeEventListener('didfocusinput', this.didFocusInputEvent.bind(this));\r\n    document.body.removeEventListener('didblurinput', this.didBlurInputEvent.bind(this));\r\n  },\r\n  pause: function () {},\r\n  play: function () {},\r\n\r\n  // Fired on keyboard key press\r\n  inputEvent: function(e) {\r\n    if (this.currentInput) {\r\n      this.currentInput.appendString(e.detail);\r\n    }\r\n  },\r\n\r\n  // Fired on backspace key press\r\n  backspaceEvent: function(e){\r\n    if (this.currentInput) {\r\n      this.currentInput.deleteLast();\r\n    }\r\n  },\r\n\r\n  dismissEvent: function(e){\r\n    if (this.currentInput) {\r\n      this.currentInput.blur();\r\n    }\r\n  },\r\n\r\n  // physical keyboard event\r\n  keydownEvent: function(e) {\r\n    if (this.currentInput && this.data.physicalKeyboard) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n\r\n      if (e.key === 'Enter') {\r\n        Event.emit(Behaviors.el, 'input', '\\n');\r\n        Event.emit(Behaviors.el, 'enter', '\\n');\r\n      }\r\n      else if (e.key === 'Backspace') {\r\n        Event.emit(Behaviors.el, 'backspace');\r\n      }\r\n      else if (e.key === 'Escape') {\r\n        Event.emit(Behaviors.el, 'dismiss');\r\n      }\r\n      else if (e.key.length < 2) {\r\n        Event.emit(Behaviors.el, 'input', e.key);\r\n      }\r\n    }\r\n  },\r\n\r\n  // Fired when an input has been selected\r\n  didFocusInputEvent: function(e) {\r\n    if (this.currentInput) {\r\n      this.currentInput.blur(true);\r\n    }\r\n    this.currentInput = e.detail;\r\n    if (!this.el.isOpen) {\r\n      Behaviors.openKeyboard(this.el);\r\n    }\r\n  },\r\n\r\n  // Fired when an input has been deselected\r\n  didBlurInputEvent: function(e) {\r\n    this.currentInput = null;\r\n    Behaviors.dismissKeyboard(this.el);\r\n  }\r\n});\r\n\r\nAFRAME.registerPrimitive('a-keyboard', {\r\n  defaultComponents: {\r\n    keyboard: {}\r\n  },\r\n  mappings: {\r\n    'is-open': 'keyboard.isOpen',\r\n    'physical-keyboard': 'keyboard.physicalKeyboard',\r\n    mute: 'keyboard.mute'\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/index.js","const Utils = {};\r\n\r\n/**\r\n  Utils.preloadAssets([])\r\n  Add assets to Assets managment system.\r\n*/\r\nUtils.preloadAssets = (assets_arr)=>{\r\n  let assets = document.querySelector('a-assets'), already_exists;\r\n\r\n  if (!assets) {\r\n    var scene = document.querySelector('a-scene');\r\n    assets = document.createElement('a-assets');\r\n    scene.appendChild(assets);\r\n  }\r\n\r\n  for (let item of assets_arr) {\r\n    already_exists = false;\r\n\r\n    /***** With Edge, assets.children is a HTMLCollection, not an Array! *****/\r\n    for (let stuff of Array.from(assets.children)) {\r\n      if (item.id === stuff.id) {\r\n        already_exists = true;\r\n      }\r\n    }\r\n\r\n    if (!already_exists) {\r\n      var asset_item = document.createElement(item.type);\r\n      asset_item.setAttribute('id', item.id);\r\n      asset_item.setAttribute('src', item.src);\r\n      assets.appendChild(asset_item);\r\n    }\r\n  }\r\n}\r\n\r\n\r\n/**\r\n  Utils.extend(a, b)\r\n  Assign object to other object.\r\n*/\r\nUtils.extend = function(a, b) {\r\n\tfor (let key in b) {\r\n\t\tif (b.hasOwnProperty(key)) {\r\n\t\t\ta[key] = b[key];\r\n\t\t}\r\n\t}\r\n\treturn a;\r\n};\r\n\r\n\r\nUtils.clone = function(original) {\r\n\tif (Array.isArray(original)) {\r\n\t\treturn original.slice(0);\r\n\t}\r\n\r\n\t// First create an empty object with\r\n\t// same prototype of our original source\r\n\tconst clone = Object.create(Object.getPrototypeOf(original));\r\n\tlet i = undefined;\r\n\tconst keys = Object.getOwnPropertyNames(original);\r\n\ti = 0;\r\n\twhile (i < keys.length) {\r\n\t\t// copy each property into the clone\r\n\t\tObject.defineProperty(clone, keys[i], Object.getOwnPropertyDescriptor(original, keys[i]));\r\n\t\ti++;\r\n\t}\r\n\treturn clone;\r\n};\r\n\r\n\r\nUtils.updateOpacity = function(el, opacity) {\r\n  if (el.hasAttribute('text')) {\r\n    let props = el.getAttribute('text');\r\n    if (props) {\r\n      props.opacity = opacity;\r\n      el.setAttribute('text', props);\r\n    }\r\n  }\r\n  el.object3D.traverse(function (o) {\r\n    if (o.material) {\r\n      o.material.transparent = true;\r\n      o.material.opacity = opacity;\r\n    }\r\n  });\r\n  for (let text of el.querySelectorAll('a-text')) {\r\n    text.setAttribute('opacity', opacity);\r\n  }\r\n}\r\n\r\n\r\n// Calculate the width factor\r\nUtils.getWidthFactor = function(el, wrapCount) {\r\n  let widthFactor = 0.00001;\r\n  if (el.components.text && el.components.text.currentFont) {\r\n    widthFactor = el.components.text.currentFont.widthFactor\r\n    widthFactor = ((0.5 + wrapCount) * widthFactor);\r\n  }\r\n  return widthFactor;\r\n}\r\n\r\nmodule.exports = Utils;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","const Assets = require('./assets');\r\nconst Layouts = require('./layouts');\r\nconst Config = require('./config');\r\nconst Behaviors = require('./behaviors');\r\nconst Draw = {};\r\n\r\nDraw.el = null;\r\n\r\nDraw.init = (el)=>{\r\n  Draw.el = el;\r\n  Behaviors.el = el;\r\n  Behaviors.SFX = el.SFX;\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// DRAW NUMERICAL UI\r\n\r\nDraw.numericalUI = ()=> {\r\n  var wrapper = document.createElement('a-entity');\r\n  wrapper.setAttribute('position', '0.025 0 0.12');\r\n  wrapper.setAttribute('rotation', '0 25 0');\r\n  wrapper.setAttribute('data-ui', true);\r\n\r\n  var el = document.createElement('a-rounded');\r\n  el.setAttribute('width', '0.280');\r\n  el.setAttribute('height', '0.360');\r\n  el.setAttribute('radius', '0.02');\r\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\r\n  wrapper.appendChild(el);\r\n\r\n  return wrapper;\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// DRAW MAIN UI\r\n\r\nDraw.mainUI = ()=>{\r\n  var wrapper = document.createElement('a-entity');\r\n  wrapper.setAttribute('position', '0.312 0 0');\r\n  wrapper.setAttribute('data-ui', true);\r\n\r\n  var el = document.createElement('a-rounded');\r\n  el.setAttribute('width', '0.840');\r\n  el.setAttribute('height', '0.360');\r\n  el.setAttribute('radius', '0.02');\r\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\r\n  wrapper.appendChild(el);\r\n\r\n  return wrapper;\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// DRAW ACTION UI\r\n\r\nDraw.actionsUI = ()=> {\r\n  var wrapper = document.createElement('a-entity');\r\n  wrapper.setAttribute('position', '1.180 0 0.01');\r\n  wrapper.setAttribute('rotation', '0 -25 0');\r\n  wrapper.setAttribute('data-ui', true);\r\n\r\n  var el = document.createElement('a-rounded');\r\n  el.setAttribute('width', '0.180');\r\n  el.setAttribute('height', '0.360');\r\n  el.setAttribute('radius', '0.02');\r\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\r\n  wrapper.appendChild(el);\r\n\r\n  return wrapper;\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// DRAW NUMERICAL LAYOUT\r\n\r\nDraw.numericalLayout = ()=> {\r\n  var data = Layouts.numerical;\r\n  var wrapper = document.createElement('a-entity');\r\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\r\n\r\n  let index_y = 0;\r\n  for (var i in data) {\r\n    let key_id = 'num-'+i;\r\n    let key = Draw.key(key_id, data[i].type, data[i].value);\r\n    let index_x = i%3;\r\n    let x = Config.KEY_WIDTH*index_x;\r\n    let y = Config.KEY_WIDTH*index_y;\r\n    key.setAttribute('position', `${x} -${y} 0`);\r\n    if (index_x === 2) { index_y++; }\r\n    wrapper.appendChild(key);\r\n  }\r\n\r\n  return wrapper;\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// DRAW ALPHABETICAL LAYOUT\r\n\r\nDraw.alphabeticalLayout = ()=> {\r\n  var data = Layouts.alphabetical;\r\n  var wrapper = document.createElement('a-entity');\r\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\r\n\r\n  let index_y = 0, index_x = 0, prev_was_space = false;\r\n\r\n  for (var i in data) {\r\n    let key_id = 'main-'+i;\r\n    let key = Draw.key(key_id, data[i].type, data[i].value);\r\n\r\n    let x = Config.KEY_WIDTH*index_x;\r\n    let y = Config.KEY_WIDTH*index_y;\r\n\r\n    // Add left padding on the second line\r\n    if (index_y === 1) {\r\n      x = x + Config.KEY_WIDTH/2;\r\n    }\r\n\r\n    // Add margin on the key next to the spacebar key\r\n    if (prev_was_space) {\r\n      x = x + Config.SPACE_KEY_WIDTH - Config.KEY_WIDTH + (0.055*2);\r\n    }\r\n\r\n    // Add margin to the spacebar key\r\n    if (data[i].type === 'spacebar') {\r\n      prev_was_space = true;\r\n      x = x+0.055;\r\n      y = Config.KEY_WIDTH*index_y -  0.01;\r\n    }\r\n\r\n    key.setAttribute('position', `${x} -${y} 0`);\r\n\r\n    if (index_y === 1 && index_x === 8) {\r\n      index_x = -1;\r\n      index_y++;\r\n    } else if (index_x === 9) {\r\n      index_x = -1;\r\n      index_y++;\r\n    }\r\n    index_x++;\r\n\r\n    wrapper.appendChild(key);\r\n  }\r\n\r\n  return wrapper;\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// DRAW SYMBOLS LAYOUT\r\n\r\nDraw.symbolsLayout = ()=> {\r\n  var data = Layouts.symbols;\r\n  var wrapper = document.createElement('a-entity');\r\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\r\n\r\n  let index_y = 0, index_x = 0, prev_was_space = false;\r\n\r\n  for (var i in data) {\r\n\r\n    let key_id = 'symbols-'+i;\r\n    let key = Draw.key(key_id, data[i].type, data[i].value);\r\n    let x = Config.KEY_WIDTH*index_x;\r\n    let y = Config.KEY_WIDTH*index_y;\r\n\r\n    // Add margin on the key next to the spacebar key\r\n    if (prev_was_space) {\r\n      x = x + Config.SPACE_KEY_WIDTH - Config.KEY_WIDTH + (0.055*2);\r\n    }\r\n\r\n    // Add margin to the spacebar key\r\n    if (data[i].type === 'spacebar') {\r\n      prev_was_space = true;\r\n      x = x+0.055;\r\n      y = Config.KEY_WIDTH*index_y -  0.01;\r\n    }\r\n\r\n    key.setAttribute('position', `${x} -${y} 0`);\r\n\r\n    if (index_x === 9) {\r\n      index_x = -1;\r\n      index_y++;\r\n    }\r\n    index_x++;\r\n    wrapper.appendChild(key);\r\n  }\r\n\r\n  return wrapper;\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// DRAW ACTIONS LAYOUT\r\n\r\nDraw.actionsLayout = ()=> {\r\n  var data = Layouts.actions;\r\n  var wrapper = document.createElement('a-entity');\r\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\r\n\r\n  let val_y = 0;\r\n  for (var i in data) {\r\n    let key_id = 'action-'+i;\r\n    let key = Draw.key(key_id, data[i].type, data[i].value);\r\n\r\n    key.setAttribute('position', `0 -${val_y} 0`);\r\n    if (i == 0) {\r\n      val_y += Config.ACTION_WIDTH+0.01;\r\n    }\r\n    else if (i == 1) {\r\n      val_y += Config.KEY_WIDTH+0.01;\r\n    }\r\n    wrapper.appendChild(key);\r\n  }\r\n\r\n  return wrapper;\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// DRAW KEY\r\n\r\nDraw.key = (id, type, value)=> {\r\n  var that = this;\r\n\r\n  var el = document.createElement('a-rounded');\r\n  el.setAttribute('key-id', id);\r\n  el.setAttribute('width', Config.KEY_WIDTH);\r\n  el.setAttribute('height', Config.KEY_WIDTH);\r\n  el.setAttribute('radius', '0.008');\r\n  el.setAttribute('position', '0 0 0');\r\n  el.setAttribute('key-type', type);\r\n  el.setAttribute('key-value', value);\r\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // EVENTS\r\n\r\n  Behaviors.addKeyEvents(el);\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // SHADOW\r\n\r\n  el.shadow_el = document.createElement('a-image');\r\n  el.shadow_el.setAttribute('width', Config.KEY_WIDTH*1.25);\r\n  el.shadow_el.setAttribute('height', Config.KEY_WIDTH*1.25);\r\n  el.shadow_el.setAttribute('position', Config.KEY_WIDTH/2+' '+Config.KEY_WIDTH/2+' -0.002');\r\n  el.shadow_el.setAttribute('src', Assets.aframeKeyboardShadow);\r\n  el.appendChild(el.shadow_el);\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // TEXT KEY\r\n\r\n  if (type === 'text' || type === 'spacebar' || type ===  'symbol') {\r\n    var letter_el = document.createElement('a-text');\r\n    letter_el.setAttribute('value', value);\r\n    letter_el.setAttribute('color', '#dbddde');\r\n    letter_el.setAttribute('position', Config.KEY_WIDTH/2+' '+Config.KEY_WIDTH/2+' 0.01');\r\n    letter_el.setAttribute('scale', '0.16 0.16 0.16');\r\n    letter_el.setAttribute('align', 'center');\r\n    letter_el.setAttribute('baseline', 'center');\r\n    el.appendChild(letter_el);\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // SPACEBAR KEY\r\n\r\n  if (type === 'spacebar') {\r\n    el.setAttribute('width', Config.SPACE_KEY_WIDTH);\r\n    el.setAttribute('height', Config.SPACE_KEY_HEIGHT);\r\n    el.setAttribute('color', '#404b50');\r\n    el.shadow_el.setAttribute('width', Config.SPACE_KEY_WIDTH*1.12);\r\n    el.shadow_el.setAttribute('height', Config.SPACE_KEY_HEIGHT*1.2);\r\n    el.shadow_el.setAttribute('position', Config.SPACE_KEY_WIDTH/2+' '+Config.SPACE_KEY_HEIGHT/2+' -0.02');\r\n    letter_el.setAttribute('color', '#adb1b3');\r\n    letter_el.setAttribute('scale', '0.12 0.12 0.12');\r\n    letter_el.setAttribute('position', Config.SPACE_KEY_WIDTH/2+' '+Config.SPACE_KEY_HEIGHT/2+' 0');\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // SYMBOL KEY\r\n\r\n  else if (type === 'symbol') {\r\n    letter_el.setAttribute('scale', '0.12 0.12 0.12');\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // ACTION KEY\r\n\r\n  if (type === 'backspace' || type === 'enter' || type === 'dismiss') {\r\n    el.setAttribute('width', Config.ACTION_WIDTH);\r\n    el.shadow_el.setAttribute('width', Config.ACTION_WIDTH*1.25);\r\n    el.shadow_el.setAttribute('position', Config.ACTION_WIDTH/2+' '+Config.KEY_WIDTH/2+' -0.02');\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // SHIFT KEY\r\n\r\n  if (type === 'shift') {\r\n    var icon_el = document.createElement('a-image');\r\n    icon_el.setAttribute('data-type', 'icon');\r\n    icon_el.setAttribute('width', '0.032');\r\n    icon_el.setAttribute('height', '0.032');\r\n    icon_el.setAttribute('position', '0.04 0.04 0.01')\r\n    icon_el.setAttribute('src', Assets.aframeKeyboardShift);\r\n    el.appendChild(icon_el);\r\n    Draw.el.shiftKey = el;\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // GLOBAL\r\n\r\n  else if (type === 'global') {\r\n    var icon_el = document.createElement('a-image');\r\n    icon_el.setAttribute('width', '0.032');\r\n    icon_el.setAttribute('height', '0.032');\r\n    icon_el.setAttribute('position', '0.04 0.04 0.01')\r\n    icon_el.setAttribute('src', Assets.aframeKeyboardGlobal);\r\n    el.appendChild(icon_el);\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // BACKSPACE\r\n\r\n  else if (type === 'backspace') {\r\n    var icon_el = document.createElement('a-image');\r\n    icon_el.setAttribute('width', '0.046');\r\n    icon_el.setAttribute('height', '0.046');\r\n    icon_el.setAttribute('position', '0.07 0.04 0.01')\r\n    icon_el.setAttribute('src', Assets.aframeKeyboardBackspace);\r\n    el.appendChild(icon_el);\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // ENTER\r\n\r\n  else if (type === 'enter') {\r\n    el.setAttribute('height', Config.ACTION_WIDTH);\r\n    el.shadow_el.setAttribute('height', Config.ACTION_WIDTH*1.25);\r\n    el.shadow_el.setAttribute('position', Config.ACTION_WIDTH/2+' '+Config.ACTION_WIDTH/2+' -0.02');\r\n\r\n    var circle_el = document.createElement('a-circle');\r\n    circle_el.setAttribute('color', '#4285f4');\r\n    circle_el.setAttribute('radius', 0.044);\r\n    circle_el.setAttribute('position', '0.07 0.07 0.01')\r\n    el.appendChild(circle_el);\r\n\r\n    var icon_el = document.createElement('a-image');\r\n    icon_el.setAttribute('width', '0.034');\r\n    icon_el.setAttribute('height', '0.034');\r\n    icon_el.setAttribute('position', '0.07 0.07 0.011')\r\n    icon_el.setAttribute('src', Assets.aframeKeyboardEnter);\r\n    el.appendChild(icon_el);\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // DISMISS\r\n\r\n  else if (type === 'dismiss') {\r\n    var icon_el = document.createElement('a-image');\r\n    icon_el.setAttribute('width', '0.046');\r\n    icon_el.setAttribute('height', '0.046');\r\n    icon_el.setAttribute('position', '0.07 0.04 0.01')\r\n    icon_el.setAttribute('src', Assets.aframeKeyboardDismiss);\r\n    el.appendChild(icon_el);\r\n  }\r\n\r\n  return el;\r\n}\r\n\r\nmodule.exports = Draw;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/draw.js","module.exports = {\r\n  aframeKeyboardShift: `${AFRAME.ASSETS_PATH}/images/ShiftIcon.png`,\r\n  aframeKeyboardShiftActive: `${AFRAME.ASSETS_PATH}/images/ShiftActiveIcon.png`,\r\n  aframeKeyboardGlobal: `${AFRAME.ASSETS_PATH}/images/GlobalIcon.png`,\r\n  aframeKeyboardBackspace: `${AFRAME.ASSETS_PATH}/images/BackspaceIcon.png`,\r\n  aframeKeyboardEnter: `${AFRAME.ASSETS_PATH}/images/EnterIcon.png`,\r\n  aframeKeyboardDismiss: `${AFRAME.ASSETS_PATH}/images/DismissIcon.png`,\r\n  aframeKeyboardShadow: `${AFRAME.ASSETS_PATH}/images/KeyShadow.png`,\r\n  aframeKeyboardKeyIn: `${AFRAME.ASSETS_PATH}/sounds/KeyIn.mp3`,\r\n  aframeKeyboardKeyDown: `${AFRAME.ASSETS_PATH}/sounds/KeyDown.mp3`\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/assets.js","const Layouts = {\r\n  numerical: [\r\n    { type: 'text', value: '1'},\r\n    { type: 'text', value: '2'},\r\n    { type: 'text', value: '3'},\r\n    { type: 'text', value: '4'},\r\n    { type: 'text', value: '5'},\r\n    { type: 'text', value: '6'},\r\n    { type: 'text', value: '7'},\r\n    { type: 'text', value: '8'},\r\n    { type: 'text', value: '9'},\r\n    { type: 'text', value: '.'},\r\n    { type: 'text', value: '0'},\r\n    { type: 'text', value: '-'}\r\n  ],\r\n\r\n  alphabetical: [\r\n    { type: 'text', value: 'q'},\r\n    { type: 'text', value: 'w'},\r\n    { type: 'text', value: 'e'},\r\n    { type: 'text', value: 'r'},\r\n    { type: 'text', value: 't'},\r\n    { type: 'text', value: 'y'},\r\n    { type: 'text', value: 'u'},\r\n    { type: 'text', value: 'i'},\r\n    { type: 'text', value: 'o'},\r\n    { type: 'text', value: 'p'},\r\n\r\n    { type: 'text', value: 'a'},\r\n    { type: 'text', value: 's'},\r\n    { type: 'text', value: 'd'},\r\n    { type: 'text', value: 'f'},\r\n    { type: 'text', value: 'g'},\r\n    { type: 'text', value: 'h'},\r\n    { type: 'text', value: 'j'},\r\n    { type: 'text', value: 'k'},\r\n    { type: 'text', value: 'l'},\r\n\r\n    { type: 'shift'},\r\n    { type: 'text', value: 'z'},\r\n    { type: 'text', value: 'x'},\r\n    { type: 'text', value: 'c'},\r\n    { type: 'text', value: 'v'},\r\n    { type: 'text', value: 'b'},\r\n    { type: 'text', value: 'n'},\r\n    { type: 'text', value: 'm'},\r\n    { type: 'text', value: '!'},\r\n    { type: 'text', value: '?'},\r\n\r\n    { type: 'symbol', value: '#+='},\r\n    { type: 'text', value: '@'},\r\n    { type: 'spacebar', value: ''},\r\n    { type: 'text', value: ','},\r\n    { type: 'text', value: '.'}\r\n  ],\r\n\r\n  symbols: [\r\n    { type: 'text', value: '@'},\r\n    { type: 'text', value: '#'},\r\n    { type: 'text', value: '$'},\r\n    { type: 'text', value: '%'},\r\n    { type: 'text', value: '&'},\r\n    { type: 'text', value: '*'},\r\n    { type: 'text', value: '-'},\r\n    { type: 'text', value: '+'},\r\n    { type: 'text', value: '('},\r\n    { type: 'text', value: ')'},\r\n\r\n    { type: 'text', value: '~'},\r\n    { type: 'text', value: '`'},\r\n    { type: 'text', value: '\"'},\r\n    { type: 'text', value: '\\''},\r\n    { type: 'text', value: ':'},\r\n    { type: 'text', value: ';'},\r\n    { type: 'text', value: '_'},\r\n    { type: 'text', value: '='},\r\n    { type: 'text', value: '\\\\'},\r\n    { type: 'text', value: '/'},\r\n\r\n    { type: 'text', value: '{'},\r\n    { type: 'text', value: '}'},\r\n    { type: 'text', value: '['},\r\n    { type: 'text', value: ']'},\r\n    { type: 'text', value: '<'},\r\n    { type: 'text', value: '>'},\r\n    { type: 'text', value: '^'},\r\n    { type: 'text', value: '|'},\r\n    { type: 'text', value: '!'},\r\n    { type: 'text', value: '?'},\r\n\r\n    { type: 'symbol', value: 'ABC'},\r\n    { type: 'text', value: '@'},\r\n    { type: 'spacebar', value: ''},\r\n    { type: 'text', value: ','},\r\n    { type: 'text', value: '.'}\r\n  ],\r\n\r\n  actions: [\r\n    { type: 'backspace', value: 'Del'},\r\n    { type: 'enter', value: 'OK'},\r\n    { type: 'dismiss', value: 'W'},\r\n  ]\r\n}\r\n\r\nmodule.exports = Layouts;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/layouts.js","const Config = {\r\n  KEYBOARD_COLOR: \"#263238\",\r\n  KEY_COLOR_HIGHLIGHT: \"#29363c\",\r\n  KEY_COLOR_ACTIVE: \"#404b50\",\r\n  SPACEBAR_COLOR_ACTIVE: \"#3c464b\",\r\n  SPACEBAR_COLOR_HIGHLIGHT: \"#445055\",\r\n  KEY_WIDTH: 0.08,\r\n  SPACE_KEY_WIDTH: 0.368,\r\n  SPACE_KEY_HEIGHT: 0.05,\r\n  ACTION_WIDTH: 0.140,\r\n}\r\n\r\nmodule.exports = Config;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/config.js","const Assets = require('./assets');\r\nconst Config = require('./config');\r\nconst Utils = require('../utils');\r\nconst Event = require('../core/event');\r\nconst SFX = require('./sfx');\r\nconst Behaviors = {};\r\n\r\nBehaviors.el = null;\r\n\r\n// -----------------------------------------------------------------------------\r\n// KEYBOARD METHODS\r\n\r\nBehaviors.showKeyboard = function(el) {\r\n  if (el.o_position) {\r\n    el.object3D.position.copy(el.o_position);\r\n  }\r\n  el.isOpen = true;\r\n  for(let item of el.querySelectorAll('[data-ui]') ) {\r\n    for (let child of item.children) {\r\n      child.setAttribute('show', true);\r\n    }\r\n  }\r\n  let parent = el.parentNode;\r\n  if (parent) { return; }\r\n  el.sceneEl.appendChild(el);\r\n};\r\n\r\nBehaviors.hideKeyboard = function(el) {\r\n  let position = el.getAttribute(\"position\");\r\n  if (position.x !== -10000) {\r\n    if (!el.o_position) {\r\n      el.o_position = new THREE.Vector3();\r\n    }\r\n    el.o_position.copy(position);\r\n  }\r\n  el.isOpen = false;\r\n  el.setAttribute(\"position\", \"-10000 -10000 -10000\");\r\n  el.setAttribute('fadeout', {duration: 1});\r\n}\r\n\r\nBehaviors.destroyKeyboard = function(el) {\r\n  let parent = el.parentNode;\r\n  if (!parent) { return; }\r\n  parent.removeChild(el);\r\n};\r\n\r\nBehaviors.openKeyboard = function(el) {\r\n  if (el.o_position) {\r\n    el.object3D.position.copy(el.o_position);\r\n  }\r\n  el.isOpen = true;\r\n  el._transitioning = true;\r\n  let parent = el.parentNode;\r\n  if (!parent) { el.sceneEl.appendChild(el); }\r\n  for(let item of el.querySelectorAll('[data-ui]') ) {\r\n    for (let child of item.children) {\r\n      child.setAttribute('hide', true);\r\n    }\r\n    function animationend() {\r\n      item.children[0].removeEventListener('animationend', animationend)\r\n      setTimeout(function() {\r\n        item.children[1].setAttribute('fadein', {duration: 160});\r\n        Event.emit(Behaviors.el, 'didopen');\r\n        el._transitioning = false;\r\n      }, 10)\r\n    }\r\n    item.children[0].setAttribute('fadein', {duration: 160});\r\n    item.children[0].addEventListener('animationend', animationend)\r\n  }\r\n};\r\n\r\nBehaviors.dismissKeyboard = function(el) {\r\n  el._transitioning = true;\r\n  for(let item of el.querySelectorAll('[data-ui]') ) {\r\n    for (let child of item.children) {\r\n      child.setAttribute('show', true);\r\n    }\r\n    el.isOpen = false;\r\n    function animationend() {\r\n      item.children[1].removeEventListener('animationend', animationend)\r\n      setTimeout(function() {\r\n        function animationend() {\r\n          item.children[0].removeEventListener('animationend', animationend);\r\n          Behaviors.hideKeyboard(el);\r\n          Event.emit(Behaviors.el, 'diddismiss');\r\n          el._transitioning = false;\r\n        }\r\n        item.children[0].setAttribute('fadeout', {duration: 160});\r\n        item.children[0].addEventListener('animationend', animationend);\r\n      }, 10)\r\n    }\r\n    item.children[1].setAttribute('fadeout', {duration: 160});\r\n    item.children[1].addEventListener('animationend', animationend)\r\n  }\r\n};\r\n\r\n// -----------------------------------------------------------------------------\r\n// KEY EVENTS\r\n\r\nBehaviors.addKeyEvents = (el)=>{\r\n  el.addEventListener('click', Behaviors.keyClick);\r\n  el.addEventListener('mousedown', Behaviors.keyDown);\r\n  el.addEventListener('mouseup', Behaviors.keyOut);\r\n  el.addEventListener('raycaster-intersected', Behaviors.keyIn );\r\n  el.addEventListener('raycaster-intersected-cleared', Behaviors.keyOut );\r\n  //triggerdown\r\n  // https://aframe.io/docs/0.6.0/components/hand-controls.html\r\n};\r\n\r\n// -----------------------------------------------------------------------------\r\n// KEYCLICK\r\n\r\nBehaviors.keyClick = function() {\r\n  if (!Behaviors.el.data.mute) {\r\n    SFX.keyDown(Behaviors.el);\r\n  }\r\n\r\n  let type = this.getAttribute('key-type');\r\n  let value = this.getAttribute('key-value');\r\n\r\n  if (type === 'text' || type === 'spacebar') {\r\n    if (type === 'spacebar') { value = ' '; }\r\n    if (Behaviors.isShiftEnabled) {\r\n      value = value.toUpperCase();\r\n      Behaviors.shiftToggle();\r\n    }\r\n    else if (Behaviors.isSymbols) {\r\n      Behaviors.symbolsToggle();\r\n    }\r\n    Event.emit(Behaviors.el, 'input', value);\r\n  }\r\n  else if (type === 'shift') {\r\n    Behaviors.shiftToggle();\r\n  }\r\n  else if (type === 'symbol') {\r\n    Behaviors.symbolsToggle();\r\n  }\r\n  else if (type === 'backspace') {\r\n    Event.emit(Behaviors.el, 'backspace');\r\n  }\r\n  else if (type === 'enter') {\r\n    Event.emit(Behaviors.el, 'input', '\\n');\r\n    Event.emit(Behaviors.el, 'enter', '\\n');\r\n  }\r\n  else if (type === 'dismiss') {\r\n    Event.emit(Behaviors.el, 'dismiss');\r\n  }\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// KEYDOWN\r\n\r\nBehaviors.keyDown = function() {\r\n  if (Behaviors.el._transitioning) { return; }\r\n  this.object3D.position.z = 0.003;\r\n  if (this.getAttribute('key-type') === 'spacebar') {\r\n    this.setAttribute('color', Config.SPACEBAR_COLOR_ACTIVE);\r\n  } else {\r\n    this.setAttribute('color', Config.KEY_COLOR_ACTIVE);\r\n  }\r\n};\r\n\r\n// -----------------------------------------------------------------------------\r\n// KEYIN\r\n\r\nBehaviors.keyIn = function() {\r\n  if (Behaviors.el._transitioning) { return; }\r\n  if (this.object3D.children[2] && this.object3D.children[2].material && !this.object3D.children[2].material.opacity) {\r\n    return\r\n  }\r\n  if (!Behaviors.el.data.mute) {\r\n    SFX.keyIn(Behaviors.el);\r\n  }\r\n  if (this.getAttribute('key-type') === 'spacebar') {\r\n    this.setAttribute('color', Config.SPACEBAR_COLOR_HIGHLIGHT);\r\n  } else {\r\n    this.setAttribute('color', Config.KEY_COLOR_HIGHLIGHT);\r\n  }\r\n};\r\n\r\n// -----------------------------------------------------------------------------\r\n// KEYOUT\r\n\r\nBehaviors.keyOut = function() {\r\n  this.object3D.position.z = 0;\r\n  if (this.getAttribute('key-type') === 'spacebar') {\r\n    this.setAttribute('color', Config.KEY_COLOR_ACTIVE);\r\n  } else {\r\n    this.setAttribute('color', Config.KEYBOARD_COLOR);\r\n  }\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// SHIFT\r\n\r\nBehaviors.isShiftEnabled = false;\r\nBehaviors.shiftToggle = function() {\r\n  Behaviors.isShiftEnabled = !Behaviors.isShiftEnabled;\r\n\r\n  var icon_el = Behaviors.el.shiftKey.querySelector('[data-type]');\r\n  if (Behaviors.isShiftEnabled) {\r\n    icon_el.setAttribute('src', Assets.aframeKeyboardShiftActive);\r\n  } else {\r\n    icon_el.setAttribute('src', Assets.aframeKeyboardShift);\r\n  }\r\n\r\n  for ( let keyEl of document.querySelectorAll(\"[key-id]\") ) {\r\n    let key_id = keyEl.getAttribute('key-id'), key_type = keyEl.getAttribute('key-type');\r\n    if (key_id.startsWith('main-') && key_type === \"text\") {\r\n      let textEl = keyEl.querySelector('a-text');\r\n      if (textEl) {\r\n        let value = textEl.getAttribute('value').toLowerCase();\r\n        if (this.isShiftEnabled) { value = value.toUpperCase(); }\r\n        textEl.setAttribute('value', value);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// SYMBOLS\r\n\r\nBehaviors.isSymbols = false;\r\nBehaviors.symbolsToggle = function() {\r\n  Behaviors.isSymbols = !Behaviors.isSymbols;\r\n  if (!Behaviors.isSymbols) {\r\n    let parent = Behaviors.el.symbolsLayout.parentNode;\r\n    parent.removeChild(Behaviors.el.symbolsLayout);\r\n    parent.appendChild(Behaviors.el.alphabeticalLayout);\r\n    setTimeout(function() {\r\n      Utils.updateOpacity(Behaviors.el.alphabeticalLayout, 1);\r\n    }, 0)\r\n  } else {\r\n    let parent = Behaviors.el.alphabeticalLayout.parentNode;\r\n    parent.removeChild(Behaviors.el.alphabeticalLayout);\r\n    parent.appendChild(Behaviors.el.symbolsLayout);\r\n  }\r\n}\r\n\r\n\r\n\r\nmodule.exports = Behaviors;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/behaviors.js","var Assets = require('./Assets');\r\n\r\nconst SFX = {\r\n\r\n  init: function(parent) {\r\n    let el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeKeyboardKeyInSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', Assets.aframeKeyboardKeyIn);\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n\r\n    el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeKeyboardKeyDownSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', Assets.aframeKeyboardKeyDown);\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n  },\r\n\r\n  keyIn: function(parent) {\r\n    let el = parent.querySelector('[key=aframeKeyboardKeyInSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  },\r\n\r\n  keyDown: function(parent) {\r\n    let el = parent.querySelector('[key=aframeKeyboardKeyDownSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  }\r\n}\r\n\r\nmodule.exports = SFX;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/sfx.js","module.exports = {\r\n  aframeKeyboardShift: `${AFRAME.ASSETS_PATH}/images/ShiftIcon.png`,\r\n  aframeKeyboardShiftActive: `${AFRAME.ASSETS_PATH}/images/ShiftActiveIcon.png`,\r\n  aframeKeyboardGlobal: `${AFRAME.ASSETS_PATH}/images/GlobalIcon.png`,\r\n  aframeKeyboardBackspace: `${AFRAME.ASSETS_PATH}/images/BackspaceIcon.png`,\r\n  aframeKeyboardEnter: `${AFRAME.ASSETS_PATH}/images/EnterIcon.png`,\r\n  aframeKeyboardDismiss: `${AFRAME.ASSETS_PATH}/images/DismissIcon.png`,\r\n  aframeKeyboardShadow: `${AFRAME.ASSETS_PATH}/images/KeyShadow.png`,\r\n  aframeKeyboardKeyIn: `${AFRAME.ASSETS_PATH}/sounds/KeyIn.mp3`,\r\n  aframeKeyboardKeyDown: `${AFRAME.ASSETS_PATH}/sounds/KeyDown.mp3`\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/Assets.js","const Utils = require('../utils');\r\nconst Event = require('../core/event');\r\n\r\n/*\r\n@BUG: Space has not effect when no letter comes after.\r\n@TODO: <progress value=\"70\" max=\"100\">70 %</progress>\r\n*/\r\n\r\nAFRAME.registerComponent('input', {\r\n  schema: {\r\n    value: { type: \"string\", default: \"\" },\r\n    name: { type: \"string\", default: \"\" },\r\n    disabled: { type: \"boolean\", default: false },\r\n    color: { type: \"color\", default: \"#000\" },\r\n    align: { type: \"string\", default: \"left\" },\r\n    font: { type: \"string\", default: \"\" },\r\n    letterSpacing: { type: \"int\", default: 0 },\r\n    lineHeight: { type: \"string\", default: \"\" },\r\n    opacity: { type: \"number\", default: 1 },\r\n    side: { type: \"string\", default: 'front' },\r\n    tabSize: { type: \"int\", default: 4 },\r\n    placeholder: { type: \"string\", default: \"\" },\r\n    placeholderColor: { type: \"color\", default: \"#AAA\" },\r\n    maxLength: { type: \"int\", default: 0 },\r\n    type: { type: \"string\", default: \"text\" },\r\n    width: { type: \"number\", default: 1 },\r\n    cursorWidth: { type: \"number\", default: 0.01 },\r\n    cursorHeight: { type: \"number\", default: 0.08 },\r\n    cursorColor: { type: \"color\", default: \"#007AFF\" },\r\n    backgroundColor: { type: \"color\", default: \"#FFF\" },\r\n    backgroundOpacity: { type: \"number\", default: 1 },\r\n  },\r\n\r\n  init: function () {\r\n    let that = this;\r\n\r\n    this.background = document.createElement('a-rounded');\r\n    this.background.setAttribute('radius', 0.01)\r\n    this.background.setAttribute('height', 0.18)\r\n    this.background.setAttribute('side', 'double')\r\n    this.el.appendChild(this.background);\r\n\r\n    this.cursor = document.createElement('a-plane');\r\n    this.cursor.setAttribute('position', '0 0 0.003');\r\n    this.cursor.setAttribute('visible', false);\r\n    this.el.appendChild(this.cursor);\r\n\r\n    this.text = document.createElement('a-entity');\r\n    this.el.appendChild(this.text);\r\n\r\n    this.placeholder = document.createElement('a-entity');\r\n    this.placeholder.setAttribute('visible', false);\r\n    this.el.appendChild(this.placeholder);\r\n\r\n    this.el.focus = this.focus.bind(this);\r\n    this.el.blur = this.blur.bind(this);\r\n    this.el.appendString = this.appendString.bind(this);\r\n    this.el.deleteLast = this.deleteLast.bind(this);\r\n\r\n    //setTimeout(function() { that.updateText(); }, 0);\r\n    this.blink();\r\n\r\n    this.el.addEventListener('click', function() {\r\n      if (this.components.input.data.disabled) { return; }\r\n      that.focus();\r\n    });\r\n\r\n    Object.defineProperty(this.el, 'value', {\r\n      get: function() { return this.getAttribute('value'); },\r\n      set: function(value) { this.setAttribute('value', value); },\r\n      enumerable: true,\r\n      configurable: true\r\n    });\r\n  },\r\n  blink: function() {\r\n    let that = this;\r\n    if (!this.isFocused) {\r\n      that.cursor.setAttribute('visible', false);\r\n      clearInterval(this.cursorInterval);\r\n      this.cursorInterval = null;\r\n      return\r\n    }\r\n    this.cursorInterval = setInterval(function(){\r\n      that.cursor.setAttribute('visible', !that.cursor.getAttribute('visible'));\r\n    }, 500);\r\n  },\r\n  isFocused: false,\r\n  focus: function(noemit) {\r\n    if (this.isFocused) { return; }\r\n    this.isFocused = true;\r\n    this.cursor.setAttribute('visible', true);\r\n    this.blink();\r\n    Event.emit(this.el, 'focus');\r\n    if (!noemit) { Event.emit(document.body, 'didfocusinput', this.el); }\r\n  },\r\n  blur: function(noemit) {\r\n    if (!this.isFocused) { return; }\r\n    this.isFocused = false;\r\n    if (this.cursorInterval) {\r\n      clearInterval(this.cursorInterval);\r\n      this.cursorInterval = null;\r\n    }\r\n    this.cursor.setAttribute('visible', false);\r\n    Event.emit(this.el, 'blur');\r\n    if (!noemit) { Event.emit(document.body, 'didblurinput', this.el); }\r\n  },\r\n  appendString: function(data) {\r\n    if(data === '\\n') {\r\n      return this.blur();\r\n    }\r\n    let str = this.el.getAttribute(\"value\");\r\n    if (!str) { str = \"\" }\r\n    str = str+data;\r\n    this.el.setAttribute(\"value\", str)\r\n    Event.emit(this.el, 'change', str);\r\n  },\r\n  deleteLast: function() {\r\n    let str = this.el.getAttribute(\"value\");\r\n    if (!str) { str = \"\" }\r\n    str = str.slice(0, -1);\r\n    this.el.setAttribute(\"value\", str)\r\n    Event.emit(this.el, 'change', str);\r\n  },\r\n  updateText: function() {\r\n    let that = this;\r\n    let padding = {\r\n      left: 0.021,\r\n      right: 0.021\r\n    };\r\n\r\n    let props = {\r\n      color: this.data.color,\r\n      align: this.data.align,\r\n      side: this.data.side,\r\n      tabSize: this.data.tabSize,\r\n      wrapCount: 24*this.data.width,\r\n      width: this.data.width\r\n    }\r\n\r\n    // Make cursor stop blinking when typing..\r\n    // (and blinking again after typing stop).\r\n    let attr = this.text.getAttribute(\"text\");\r\n    if (attr) {\r\n      if (this.data.value !== attr.value) {\r\n        if (this.cursorInterval) {\r\n          clearInterval(this.cursorInterval);\r\n          this.cursorInterval = null;\r\n        }\r\n        if (this.cursorTimer) {\r\n          clearTimeout(this.cursorTimer);\r\n          this.cursorTimer = null;\r\n        }\r\n        this.cursor.setAttribute('visible', true);\r\n        this.cursorTimer = setTimeout(function(){\r\n          that.blink();\r\n        }, 50);\r\n      }\r\n    }\r\n\r\n    // Max length\r\n    if (this.data.maxLength) {\r\n      props.value = this.data.value.substring(0, this.data.maxLength);\r\n      this.el.setAttribute('value', props.value)\r\n    } else {\r\n      props.value = this.data.value;\r\n    }\r\n\r\n    if (this.data.type === \"password\") {\r\n      props.value = \"*\".repeat(this.data.value.length);\r\n    }\r\n\r\n    if (this.data.font.length) { props.font = this.data.font }\r\n    if (this.data.letterSpacing) { props.letterSpacing = this.data.letterSpacing; }\r\n    if (this.data.lineHeight.length) { props.lineHeight = this.data.lineHeight; }\r\n    this.text.setAttribute('visible', false);\r\n    this.text.setAttribute(\"text\", props);\r\n\r\n    function getTextWidth(el, data, trimFirst, _widthFactor) {\r\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) { return 0; }\r\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\r\n      if (!v) { return 0; }\r\n      v = v[v.length-1];\r\n      if (!v) { return 0; }\r\n      if (v.line) {\r\n        if (trimFirst) {\r\n          data.value = data.value.substr(1);\r\n        } else {\r\n          data.value = data.value.slice(0, -1);\r\n        }\r\n        el.setAttribute(\"text\", data);\r\n        return getTextWidth(el, data, trimFirst);\r\n      } else {\r\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, data.wrapCount); }\r\n        v = (v.position[0] + v.data.width) / (_widthFactor/that.data.width);\r\n        let textRatio = (v+padding.left+padding.right) / that.data.width;\r\n\r\n        if (textRatio > 1) {\r\n          if (trimFirst) {\r\n            data.value = data.value.substr(1);\r\n          } else {\r\n            data.value = data.value.slice(0, -1);\r\n          }\r\n          el.setAttribute(\"text\", data);\r\n          return getTextWidth(el, data, trimFirst, _widthFactor);\r\n        }\r\n      }\r\n      return v;\r\n    }\r\n\r\n\r\n    if (props.value.length) {\r\n      this.placeholder.setAttribute('visible', false);\r\n    } else {\r\n      this.placeholder.setAttribute('visible', true);\r\n    }\r\n\r\n    let placeholder_props = Utils.clone(props);\r\n    placeholder_props.value = this.data.placeholder;\r\n    placeholder_props.color = this.data.placeholderColor;\r\n    this.placeholder.setAttribute(\"text\", placeholder_props);\r\n\r\n    setTimeout(function() {\r\n      if (that.text.object3D) {\r\n        let children = that.text.object3D.children;\r\n        if (children[0] && children[0].geometry && children[0].geometry.visibleGlyphs) {\r\n          let v = 0;\r\n          if (children[0].geometry.visibleGlyphs.length) {\r\n            v = getTextWidth(that.text, props, true);\r\n            that.text.setAttribute('visible', true);\r\n          }\r\n          that.cursor.setAttribute('position', v+padding.left+' 0 0.003');\r\n        } else {\r\n          that.cursor.setAttribute('position', padding.left+' 0 0.003');\r\n        }\r\n      } else {  that.cursor.setAttribute('position', padding.left+' 0 0.003'); }\r\n      getTextWidth(that.placeholder, placeholder_props);\r\n    }, 0)\r\n\r\n    this.background.setAttribute('color', this.data.backgroundColor)\r\n    /*if (this.data.backgroundOpacity) {\r\n      setTimeout(function() {\r\n        Utils.updateOpacity(that.background, that.data.backgroundOpacity);\r\n      }, 0);\r\n    }*/\r\n    this.background.setAttribute('width', this.data.width);\r\n    //this.background.setAttribute('position', this.data.width/2+' 0 0');\r\n    this.background.setAttribute('position', '0 -0.09 0.001');\r\n    this.text.setAttribute('position', padding.left-0.001+this.data.width/2+' 0 0.002');\r\n    this.placeholder.setAttribute('position', padding.left-0.001+this.data.width/2+' 0 0.002');\r\n  },\r\n  updateCursor: function() {\r\n    this.cursor.setAttribute('width', this.data.cursorWidth)\r\n    this.cursor.setAttribute('height', this.data.cursorHeight)\r\n    this.cursor.setAttribute('color', this.data.cursorColor);\r\n  },\r\n  update: function () {\r\n    let that = this;\r\n    setTimeout(function() {\r\n    //  Utils.updateOpacity(that.el, that.data.opacity);\r\n    }, 0)\r\n\r\n    this.updateCursor();\r\n    this.updateText();\r\n  },\r\n  tick: function () {},\r\n  remove: function () {},\r\n  pause: function () {},\r\n  play: function () {}\r\n});\r\n\r\nAFRAME.registerPrimitive('a-input', {\r\n  defaultComponents: {\r\n    input: {}\r\n  },\r\n  mappings: {\r\n    value: 'input.value',\r\n    name: 'input.name',\r\n    disabled: 'input.disabled',\r\n    color: 'input.color',\r\n    align: 'input.align',\r\n    font: 'input.font',\r\n    'letter-spacing': 'input.letterSpacing',\r\n    'line-height': 'input.lineHeight',\r\n    'opacity': 'input.opacity',\r\n    'side': 'input.side',\r\n    'tab-size': 'input.tabSize',\r\n    placeholder: 'input.placeholder',\r\n    'placeholder-color': 'input.placeholderColor',\r\n    'max-length': 'input.maxLength',\r\n    type: 'input.type',\r\n    width: 'input.width',\r\n    'cursor-width': \"input.cursorWidth\",\r\n    'cursor-height': \"input.cursorHeight\",\r\n    'cursor-color': \"input.cursorColor\",\r\n    'background-color': 'input.backgroundColor',\r\n    'background-opacity': 'input.backgroundOpacity'\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/input/index.js","const Utils = require('../utils');\r\nconst Event = require('../core/event');\r\nconst Assets = require('./assets');\r\nconst SFX = require('./sfx');\r\n\r\nAFRAME.registerComponent('switch', {\r\n  schema: {\r\n    name: { type: \"string\", default: \"\" },\r\n    enabled: { type: 'boolean', default: false },\r\n    disabled: { type: 'boolean', default: false },\r\n    fillColor: { type: \"color\", default: \"#bababa\" },\r\n    knobColor: { type: \"color\", default: \"#f5f5f5\" },\r\n    fillColorEnabled: { type: \"color\", default: \"#80a8ff\" },\r\n    knobColorEnabled: { type: \"color\", default: \"#4076fd\" },\r\n    fillColorDisabled: { type: \"color\", default: \"#939393\" },\r\n    knobColorDisabled: { type: \"color\", default: \"#a2a2a2\" },\r\n    mute: { type: \"boolean\", default: true }\r\n  },\r\n  init: function () {\r\n    var that = this;\r\n\r\n    // Assets\r\n    Utils.preloadAssets( Assets );\r\n\r\n    // SFX\r\n    if (!this.data.mute) {\r\n      SFX.init(this.el);\r\n    }\r\n\r\n    // FILL\r\n    this.el.fill = document.createElement('a-rounded');\r\n    this.el.fill.setAttribute('width', 0.36)\r\n    this.el.fill.setAttribute('height', 0.16)\r\n    this.el.fill.setAttribute('radius', 0.08)\r\n    this.el.fill.setAttribute('side', 'double')\r\n    this.el.fill.setAttribute('position', '0 0 0.01')\r\n    this.el.appendChild(this.el.fill);\r\n\r\n    // KNOB\r\n    this.el.knob = document.createElement('a-circle');\r\n    this.el.knob.setAttribute('position', '0.06 0.08 0.02')\r\n    this.el.knob.setAttribute('radius', 0.12)\r\n    this.el.knob.setAttribute('side', 'double')\r\n    this.el.appendChild(this.el.knob);\r\n\r\n    // SHADOW\r\n    this.el.shadow_el = document.createElement('a-image');\r\n    this.el.shadow_el.setAttribute('width', 0.24*1.25);\r\n    this.el.shadow_el.setAttribute('height', 0.24*1.25);\r\n    this.el.shadow_el.setAttribute('position', '0 0 -0.001');\r\n    this.el.shadow_el.setAttribute('src', '#aframeSwitchShadow');\r\n    this.el.knob.appendChild(this.el.shadow_el);\r\n\r\n    this.el.addEventListener('click', function() {\r\n      if (this.components.switch.data.disabled) { return; }\r\n      this.setAttribute('enabled', !this.components.switch.data.enabled );\r\n      Event.emit(this, 'change', this.components.switch.data.enabled);\r\n    });\r\n    this.el.addEventListener('mousedown', function() {\r\n      if (this.components.switch.data.disabled) {\r\n        if (!this.data.mute) {\r\n          return SFX.clickDisabled(this);\r\n        }\r\n        return;\r\n      }\r\n      if (!this.data.mute) {\r\n        SFX.click(this);\r\n      }\r\n    });\r\n\r\n    Object.defineProperty(this.el, 'enabled', {\r\n      get: function() { return this.getAttribute('enabled'); },\r\n      set: function(value) { this.setAttribute('enabled', value); },\r\n      enumerable: true,\r\n      configurable: true\r\n    });\r\n  },\r\n  on: function() {\r\n    this.el.fill.setAttribute('color', this.data.fillColorEnabled)\r\n    this.el.knob.setAttribute('position', '0.32 0.08 0.02');\r\n    this.el.knob.setAttribute('color', this.data.knobColorEnabled)\r\n  },\r\n  off: function() {\r\n    this.el.fill.setAttribute('color', this.data.fillColor)\r\n    this.el.knob.setAttribute('position', '0.06 0.08 0.02');\r\n    this.el.knob.setAttribute('color', this.data.knobColor)\r\n  },\r\n  disable: function() {\r\n    this.el.fill.setAttribute('color', this.data.fillColorDisabled)\r\n    this.el.knob.setAttribute('color', this.data.knobColorDisabled)\r\n  },\r\n  update: function () {\r\n    if (this.data.enabled) {\r\n      this.on();\r\n    } else {\r\n      this.off();\r\n    }\r\n    if (this.data.disabled) {\r\n      this.disable();\r\n    }\r\n  },\r\n  tick: function () {},\r\n  remove: function () {},\r\n  pause: function () {},\r\n  play: function () {}\r\n});\r\n\r\nAFRAME.registerPrimitive('a-switch', {\r\n  defaultComponents: {\r\n    switch: {}\r\n  },\r\n  mappings: {\r\n    name: 'switch.name',\r\n    enabled: 'switch.enabled',\r\n    disabled: 'switch.disabled',\r\n    'fill-color': 'switch.fillColor',\r\n    'knob-color': 'switch.knobColor',\r\n    'fill-color-enabled': 'switch.fillColorEnabled',\r\n    'knob-color-enabled': 'switch.knobColorEnabled',\r\n    'fill-color-disabled': 'switch.fillColorDisabled',\r\n    'knob-color-disabled': 'switch.knobColorDisabled',\r\n    mute: 'switch.mute'\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/switch/index.js","module.exports = [\r\n  { type: 'img', id: 'aframeSwitchShadow', src: `${AFRAME.ASSETS_PATH}/images/SwitchShadow.png`},\r\n  { type: 'audio', id: 'aframeSwitchClick', src: `${AFRAME.ASSETS_PATH}/sounds/InputClick.mp3`},\r\n  { type: 'audio', id: 'aframeSwitchClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\r\n]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/switch/assets.js","const SFX = {\r\n\r\n  init: function(parent) {\r\n    let el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeSwitchClickSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', '#aframeSwitchClick');\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n\r\n    el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeSwitchClickDisabledSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', '#aframeSwitchClickDisabled');\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n  },\r\n\r\n  click: function(parent) {\r\n    let el = parent.querySelector('[key=aframeSwitchClickSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  },\r\n\r\n  clickDisabled: function(parent) {\r\n    let el = parent.querySelector('[key=aframeSwitchClickDisabledSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  }\r\n}\r\n\r\nmodule.exports = SFX;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/switch/sfx.js","const Utils = require('../utils');\r\nconst Event = require('../core/event');\r\n\r\nAFRAME.registerComponent('form', {\r\n  schema: {\r\n  },\r\n  init: function () {\r\n  },\r\n  update: function () {\r\n  },\r\n  tick: function () {},\r\n  remove: function () {},\r\n  pause: function () {},\r\n  play: function () {}\r\n});\r\n\r\nAFRAME.registerPrimitive('a-form', {\r\n  defaultComponents: {\r\n    form: {}\r\n  },\r\n  mappings: {\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/form/index.js","const Utils = require('../utils');\r\nconst Event = require('../core/event');\r\nconst Assets = require('./assets');\r\nconst SFX = require('./sfx');\r\n\r\nAFRAME.registerComponent('radio', {\r\n  schema: {\r\n    checked: { type: 'boolean', default: false },\r\n    disabled: { type: 'boolean', default: false },\r\n    name: { type: \"string\", default: \"\" },\r\n    value: { type: \"string\", default: \"\" },\r\n    label: { type: \"string\", default: \"\" },\r\n    radioColor: { type: \"color\", default: \"#757575\"},\r\n    radioColorChecked: { type: \"color\", default: \"#4076fd\"},\r\n    color: { type: \"color\", default: \"#757575\" },\r\n    font: { type: \"string\", default: \"\" },\r\n    letterSpacing: { type: \"int\", default: 0 },\r\n    lineHeight: { type: \"string\", default: \"\" },\r\n    opacity: { type: \"number\", default: 1 },\r\n    width: { type: \"number\", default: 1 },\r\n    mute: { type: \"boolean\", default: true }\r\n  },\r\n  init: function () {\r\n    var that = this;\r\n\r\n    // Assets\r\n    Utils.preloadAssets( Assets );\r\n\r\n    // SFX\r\n    if (!this.data.mute) {\r\n      SFX.init(this.el);\r\n    }\r\n\r\n    // HITBOX\r\n    this.hitbox = document.createElement('a-plane');\r\n    this.hitbox.setAttribute('height', 0.2);\r\n    this.hitbox.setAttribute('opacity', 0);\r\n    this.hitbox.setAttribute('position', '0 0 0.001')\r\n    this.el.appendChild(this.hitbox);\r\n\r\n    // OUTLINE\r\n    this.outline = document.createElement('a-ring');\r\n    this.outline.setAttribute('radius-outer', 0.1)\r\n    this.outline.setAttribute('radius-inner', 0.078);\r\n    this.outline.setAttribute('position', '0.1 0 0.002');\r\n    this.el.appendChild(this.outline);\r\n\r\n    // CIRCLE\r\n    this.circle = document.createElement('a-circle');\r\n    this.circle.setAttribute('radius', 0.05)\r\n    this.circle.setAttribute('position', '0.1 0 0.002');\r\n    this.el.appendChild(this.circle);\r\n\r\n    // LABEL\r\n    this.label = document.createElement('a-entity');\r\n    this.el.appendChild(this.label);\r\n\r\n    // EVENTS\r\n    this.el.addEventListener('click', function() {\r\n      if (this.components.radio.data.disabled) { return; }\r\n      this.setAttribute('checked', true);\r\n      that.onClick();\r\n    });\r\n    this.el.addEventListener('mousedown', function() {\r\n      if (this.components.radio.data.disabled) {\r\n        if (!this.data.mute) {\r\n          return SFX.clickDisabled(this);\r\n        }\r\n        return;\r\n      }\r\n      if (!this.data.mute) {\r\n        SFX.click(this);\r\n      }\r\n    });\r\n\r\n    Object.defineProperty(this.el, 'value', {\r\n      get: function() { return this.getAttribute('value'); },\r\n      set: function(value) { this.setAttribute('value', value); },\r\n      enumerable: true,\r\n      configurable: true\r\n    });\r\n  },\r\n  onClick: function(noemit) {\r\n    if (this.data.name) {\r\n      let nearestForm = this.el.closest(\"a-form\");\r\n      if (nearestForm) {\r\n        let didCheck = false;\r\n        let children = Array.from(nearestForm.querySelectorAll(`[name=${this.data.name}]`));\r\n        children.reverse();\r\n        for (let child of children) {\r\n          // Radio + not disabled\r\n          if (child.components.radio ) {\r\n            // Currently checked\r\n            if (child === this.el && child.hasAttribute('checked')) {\r\n              didCheck = true;\r\n              child.components.radio.check();\r\n              if (!noemit) { Event.emit(child, 'change', true); }\r\n            } else {\r\n              if (!didCheck && !this.data.checked && child.hasAttribute('checked')) {\r\n                didCheck = true;\r\n                child.components.radio.check();\r\n              } else {\r\n                child.components.radio.uncheck();\r\n              }\r\n            }\r\n          }\r\n        }\r\n        if (!didCheck && this.el.hasAttribute('checked')) {\r\n          this.check();\r\n          if (!noemit) { Event.emit(this.el, 'change', true); }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  check: function() {\r\n    this.outline.setAttribute('color', this.data.radioColorChecked);\r\n    this.circle.setAttribute('color', this.data.radioColorChecked);\r\n    this.circle.setAttribute('visible', true);\r\n    if (this.data.disabled) { this.disabled(); }\r\n  },\r\n  uncheck: function() {\r\n    this.outline.setAttribute('color', this.data.radioColor);\r\n    this.circle.setAttribute('visible', false);\r\n    if (this.data.disabled) { this.disabled(); }\r\n  },\r\n  disabled: function() {\r\n    this.outline.setAttribute('color', this.data.radioColor);\r\n    this.circle.setAttribute('color', this.data.radioColor);\r\n  },\r\n  update: function () {\r\n    var that = this;\r\n    this.onClick(true);\r\n\r\n    // HITBOX\r\n    this.hitbox.setAttribute('width', this.data.width)\r\n    this.hitbox.setAttribute('position', this.data.width/2+' 0 0.001');\r\n\r\n    let props = {\r\n      color: this.data.color,\r\n      align: 'left',\r\n      wrapCount: 10*(this.data.width+0.2),\r\n      width: this.data.width,\r\n    }\r\n    if (this.data.font) { props.font = this.data.font; }\r\n\r\n    // TITLE\r\n    props.value = this.data.label;\r\n    props.color = this.data.color;\r\n    this.label.setAttribute('text', props);\r\n    this.label.setAttribute('position', this.data.width/2+0.24+' 0 0.002');\r\n\r\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\r\n    function getTextWidth(el, _widthFactor) {\r\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) { return 0; }\r\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\r\n      if (!v) { return 0; }\r\n      v = v[v.length-1];\r\n      if (!v) { return 0; }\r\n      if (v.line) {\r\n        props.value = props.value.slice(0, -1);\r\n        el.setAttribute(\"text\", props);\r\n        return getTextWidth(el);\r\n      } else {\r\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, props.wrapCount); }\r\n        v = (v.position[0] + v.data.width) / (_widthFactor/that.data.width);\r\n        let textRatio = v / that.data.width;\r\n        if (textRatio > 1) {\r\n          props.value = props.value.slice(0, -1);\r\n          el.setAttribute(\"text\", props);\r\n          return getTextWidth(el, _widthFactor);\r\n        }\r\n      }\r\n      return v;\r\n    }\r\n    setTimeout(function() {\r\n      if (that.data.label.length) {\r\n        getTextWidth(that.label);\r\n      }\r\n      if (that.data.disabled) {\r\n        let timer = setInterval(function() {\r\n          if (that.outline.object3D.children[0]) {\r\n            clearInterval(timer);\r\n            Utils.updateOpacity(that.outline, 0.4);\r\n            Utils.updateOpacity(that.circle, 0.4);\r\n            Utils.updateOpacity(that.label, 0.4);\r\n          }\r\n        }, 10)\r\n      } else {\r\n        let timer = setInterval(function() {\r\n          if (that.outline.object3D.children[0]) {\r\n            clearInterval(timer);\r\n            Utils.updateOpacity(that.outline, 1);\r\n            Utils.updateOpacity(that.circle, 1);\r\n            Utils.updateOpacity(that.label, 1);\r\n          }\r\n        }, 10)\r\n      }\r\n    }, 0);\r\n  },\r\n  tick: function () {},\r\n  remove: function () {},\r\n  pause: function () {},\r\n  play: function () {}\r\n});\r\n\r\nAFRAME.registerPrimitive('a-radio', {\r\n  defaultComponents: {\r\n    radio: {}\r\n  },\r\n  mappings: {\r\n    checked: 'radio.checked',\r\n    disabled: 'radio.disabled',\r\n    name: 'radio.name',\r\n    value: 'radio.value',\r\n    label: 'radio.label',\r\n    'radio-color': 'radio.radioColor',\r\n    'radio-color-checked': 'radio.radioColorChecked',\r\n    color: 'radio.color',\r\n    align: 'radio.align',\r\n    font: 'radio.font',\r\n    'letter-spacing': 'radio.letterSpacing',\r\n    'line-height': 'radio.lineHeight',\r\n    'opacity': 'radio.opacity',\r\n    width: 'radio.width',\r\n    mute: 'radio.mute'\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/radio/index.js","module.exports = [\r\n  { type: 'audio', id: 'aframeRadioClick', src: `${AFRAME.ASSETS_PATH}/sounds/InputClick.mp3`},\r\n  { type: 'audio', id: 'aframeRadioClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\r\n]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/radio/assets.js","const SFX = {\r\n\r\n  init: function(parent) {\r\n    let el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeRadioClickSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', '#aframeRadioClick');\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n\r\n    el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeRadioClickDisabledSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', '#aframeRadioClickDisabled');\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n  },\r\n\r\n  click: function(parent) {\r\n    let el = parent.querySelector('[key=aframeRadioClickSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  },\r\n\r\n  clickDisabled: function(parent) {\r\n    let el = parent.querySelector('[key=aframeRadioClickDisabledSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  }\r\n}\r\n\r\nmodule.exports = SFX;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/radio/sfx.js","const Utils = require('../utils');\r\nconst Event = require('../core/event');\r\nconst Assets = require('./assets');\r\nconst SFX = require('./sfx');\r\n\r\nAFRAME.registerComponent('checkbox', {\r\n  schema: {\r\n    checked: { type: 'boolean', default: false },\r\n    disabled: { type: 'boolean', default: false },\r\n    name: { type: \"string\", default: \"\" },\r\n    value: { type: \"string\", default: \"\" },\r\n    label: { type: \"string\", default: \"\" },\r\n    checkboxColor: { type: \"color\", default: \"#757575\"},\r\n    checkboxColorChecked: { type: \"color\", default: \"#4076fd\"},\r\n    color: { type: \"color\", default: \"#757575\" },\r\n    font: { type: \"string\", default: \"\" },\r\n    letterSpacing: { type: \"int\", default: 0 },\r\n    lineHeight: { type: \"string\", default: \"\" },\r\n    opacity: { type: \"number\", default: 1 },\r\n    width: { type: \"number\", default: 1 },\r\n    mute: { type: \"boolean\", default: true }\r\n  },\r\n  init: function () {\r\n    var that = this;\r\n\r\n    // Assets\r\n    Utils.preloadAssets( Assets );\r\n\r\n    // SFX\r\n    if (!this.data.mute) {\r\n      SFX.init(this.el);\r\n    }\r\n\r\n    // HITBOX\r\n    this.hitbox = document.createElement('a-plane');\r\n    this.hitbox.setAttribute('height', 0.2);\r\n    this.hitbox.setAttribute('opacity', 0);\r\n    this.el.appendChild(this.hitbox);\r\n\r\n    // OUTLINE\r\n    this.outline = document.createElement('a-rounded');\r\n    this.outline.setAttribute('width', 0.2);\r\n    this.outline.setAttribute('height', 0.2);\r\n    this.outline.setAttribute('radius', 0.02);\r\n    this.outline.setAttribute('position', `0 -${0.2/2} 0.01`);\r\n    this.el.appendChild(this.outline);\r\n\r\n    // INSIDE\r\n    this.inside = document.createElement('a-rounded');\r\n    this.inside.setAttribute('width', 0.156);\r\n    this.inside.setAttribute('height', 0.156);\r\n    this.inside.setAttribute('radius', 0.01);\r\n    this.inside.setAttribute('color', \"#EEE\");\r\n    this.inside.setAttribute('position', `${0.156/8} -${0.156/2} 0.02`);\r\n    this.el.appendChild(this.inside);\r\n\r\n    // CHECKMARK\r\n    this.checkmark = document.createElement('a-image');\r\n    this.checkmark.setAttribute('width', 0.16);\r\n    this.checkmark.setAttribute('height', 0.16);\r\n    this.checkmark.setAttribute('src', \"#aframeCheckboxMark\");\r\n    this.checkmark.setAttribute('position', '0.1 0 0.03');\r\n    this.el.appendChild(this.checkmark);\r\n\r\n    // LABEL\r\n    this.label = document.createElement('a-entity');\r\n    this.el.appendChild(this.label);\r\n\r\n    // EVENTS\r\n    this.el.addEventListener('click', function() {\r\n      if (this.components.checkbox.data.disabled) { return; }\r\n      this.components.checkbox.data.checked = !this.components.checkbox.data.checked;\r\n      this.setAttribute('checked', this.components.checkbox.data.checked);\r\n      that.onClick();\r\n    });\r\n    this.el.addEventListener('mousedown', function() {\r\n      if (this.components.checkbox.data.disabled) {\r\n        if (!this.data.mute) {\r\n          return SFX.clickDisabled(this);\r\n        }\r\n        return;\r\n      }\r\n      if (!this.data.mute) {\r\n        SFX.click(this);\r\n      }\r\n    });\r\n\r\n    Object.defineProperty(this.el, 'value', {\r\n      get: function() { return this.getAttribute('value'); },\r\n      set: function(value) { this.setAttribute('value', value); },\r\n      enumerable: true,\r\n      configurable: true\r\n    });\r\n  },\r\n  onClick: function(noemit) {\r\n    if (this.data.checked) {\r\n      this.check();\r\n    } else {\r\n      this.uncheck();\r\n    }\r\n    if (!noemit) { Event.emit(this.el, 'change', this.data.checked); }\r\n  },\r\n  check: function() {\r\n    this.outline.setAttribute('color', this.data.checkboxColorChecked);\r\n    this.inside.setAttribute('color', this.data.checkboxColorChecked);\r\n    this.checkmark.setAttribute('visible', true);\r\n    if (this.data.disabled) { this.disabled(); }\r\n  },\r\n  uncheck: function() {\r\n    this.outline.setAttribute('color', this.data.checkboxColor);\r\n    this.inside.setAttribute('color', \"#EEE\");\r\n    this.checkmark.setAttribute('visible', false);\r\n    if (this.data.disabled) { this.disabled(); }\r\n  },\r\n  disabled: function() {\r\n    this.outline.setAttribute('color', this.data.checkboxColor);\r\n    this.inside.setAttribute('color', this.data.checkboxColor);\r\n  },\r\n  update: function () {\r\n    var that = this;\r\n    this.onClick(true);\r\n\r\n    // HITBOX\r\n    this.hitbox.setAttribute('width', this.data.width)\r\n    this.hitbox.setAttribute('position', this.data.width/2+' 0 0.01');\r\n\r\n    let props = {\r\n      color: this.data.color,\r\n      align: 'left',\r\n      wrapCount: 10*(this.data.width+0.2),\r\n      width: this.data.width,\r\n    }\r\n    if (this.data.font) { props.font = this.data.font; }\r\n\r\n    // TITLE\r\n    props.value = this.data.label;\r\n    props.color = this.data.color;\r\n    this.label.setAttribute('text', props);\r\n    this.label.setAttribute('position', this.data.width/2+0.24+' 0 0.01');\r\n\r\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\r\n    function getTextWidth(el, _widthFactor) {\r\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) { return 0; }\r\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\r\n      if (!v) { return 0; }\r\n      v = v[v.length-1];\r\n      if (!v) { return 0; }\r\n      if (v.line) {\r\n        props.value = props.value.slice(0, -1);\r\n        el.setAttribute(\"text\", props);\r\n        return getTextWidth(el);\r\n      } else {\r\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, props.wrapCount); }\r\n        v = (v.position[0] + v.data.width) / (_widthFactor/that.data.width);\r\n        let textRatio = v / that.data.width;\r\n        if (textRatio > 1) {\r\n          props.value = props.value.slice(0, -1);\r\n          el.setAttribute(\"text\", props);\r\n          return getTextWidth(el, _widthFactor);\r\n        }\r\n      }\r\n      return v;\r\n    }\r\n    setTimeout(function() {\r\n      if (that.data.label.length) {\r\n        getTextWidth(that.label);\r\n      }\r\n      if (that.data.disabled) {\r\n        let timer = setInterval(function() {\r\n          if (that.checkmark.object3D.children[0]) {\r\n            clearInterval(timer);\r\n            Utils.updateOpacity(that.checkmark, 0.4);\r\n            Utils.updateOpacity(that.label, 0.4);\r\n          }\r\n        }, 10)\r\n      } else {\r\n        let timer = setInterval(function() {\r\n          if (that.checkmark.object3D.children[0]) {\r\n            clearInterval(timer);\r\n            Utils.updateOpacity(that.checkmark, 1);\r\n            Utils.updateOpacity(that.label, 1);\r\n          }\r\n        }, 10)\r\n      }\r\n    }, 0);\r\n  },\r\n  tick: function () {},\r\n  remove: function () {},\r\n  pause: function () {},\r\n  play: function () {}\r\n});\r\n\r\nAFRAME.registerPrimitive('a-checkbox', {\r\n  defaultComponents: {\r\n    checkbox: {}\r\n  },\r\n  mappings: {\r\n    checked: 'checkbox.checked',\r\n    disabled: 'checkbox.disabled',\r\n    name: 'checkbox.name',\r\n    value: 'checkbox.value',\r\n    label: 'checkbox.label',\r\n    'checkbox-color': 'checkbox.checkboxColor',\r\n    'checkbox-color-checked': 'checkbox.checkboxColorChecked',\r\n    color: 'checkbox.color',\r\n    align: 'checkbox.align',\r\n    font: 'checkbox.font',\r\n    'letter-spacing': 'checkbox.letterSpacing',\r\n    'line-height': 'checkbox.lineHeight',\r\n    'opacity': 'checkbox.opacity',\r\n    width: 'checkbox.width',\r\n    mute: 'checkbox.mute'\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkbox/index.js","module.exports = [\r\n  { type: 'img', id: 'aframeCheckboxMark', src: `${AFRAME.ASSETS_PATH}/images/CheckmarkIcon.png`},\r\n  { type: 'audio', id: 'aframeCheckboxClick', src: `${AFRAME.ASSETS_PATH}/sounds/InputClick.mp3`},\r\n  { type: 'audio', id: 'aframeCheckboxClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\r\n]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkbox/assets.js","const SFX = {\r\n\r\n  init: function(parent) {\r\n    let el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeCheckboxClickSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', '#aframeCheckboxClick');\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n\r\n    el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeButtonClickDisabledSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', '#aframeButtonClickDisabled');\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n  },\r\n\r\n  click: function(parent) {\r\n    let el = parent.querySelector('[key=aframeCheckboxClickSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  },\r\n\r\n  clickDisabled: function(parent) {\r\n    let el = parent.querySelector('[key=aframeButtonClickDisabledSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  }\r\n}\r\n\r\nmodule.exports = SFX;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkbox/sfx.js","const Utils = require('../utils');\r\nconst Event = require('../core/event');\r\nconst Assets = require('./assets');\r\nconst SFX = require('./sfx');\r\n\r\nAFRAME.registerComponent('button', {\r\n  schema: {\r\n    disabled: { type: 'boolean', default: false },\r\n    type: { type: \"string\", default: \"raised\" },\r\n    name: { type: \"string\", default: \"\" },\r\n    value: { type: \"string\", default: \"Button\" },\r\n    buttonColor: { type: \"color\", default: \"#4076fd\"},\r\n    color: { type: \"color\", default: \"#FFF\" },\r\n    font: { type: \"string\", default: \"\" },\r\n    letterSpacing: { type: \"int\", default: 0 },\r\n    lineHeight: { type: \"string\", default: \"\" },\r\n    opacity: { type: \"number\", default: 1 },\r\n    width: { type: \"number\", default: 1 },\r\n    mute: { type: \"boolean\", default: true }\r\n  },\r\n  init: function () {\r\n    var that = this;\r\n\r\n    // Assets\r\n    Utils.preloadAssets( Assets.filter(function (a) { return !(that.data.mute && a.type === 'audio'); }));\r\n\r\n    // SFX\r\n    if (!this.data.mute) {\r\n      SFX.init(this.el);\r\n    }\r\n\r\n    this.wrapper = document.createElement('a-entity');\r\n    this.wrapper.setAttribute('position', '0 0 0.01')\r\n    this.el.appendChild(this.wrapper);\r\n\r\n    this.shadow = document.createElement('a-image');\r\n    this.shadow.setAttribute('height', 0.36*1.25);\r\n    this.shadow.setAttribute('src', '#aframeButtonShadow');\r\n    this.wrapper.appendChild(this.shadow);\r\n\r\n    // OUTLINE\r\n    this.outline = document.createElement('a-rounded');\r\n    this.outline.setAttribute('height', 0.36);\r\n    this.outline.setAttribute('radius', 0.03);\r\n    this.outline.setAttribute('position', `0 -${0.36/2} 0.01`);\r\n    this.wrapper.appendChild(this.outline);\r\n\r\n    // LABEL\r\n    this.label = document.createElement('a-entity');\r\n    this.outline.appendChild(this.label);\r\n\r\n    // EVENTS\r\n    this.el.addEventListener('click', function() {\r\n      if (this.components.button && this.components.button.data.disabled) { return; }\r\n      that.onClick();\r\n    });\r\n    this.el.addEventListener('mousedown', function() {\r\n      if (this.components.button && this.components.button.data.disabled) {\r\n        if (!this.components.button.data.mute) {\r\n          return SFX.clickDisabled(this);\r\n        }\r\n        return;\r\n      }\r\n      that.wrapper.setAttribute('position', `0 0 0.036`);\r\n      if (!this.components.button.data.mute) {\r\n        SFX.click(this);\r\n      }\r\n    });\r\n    this.el.addEventListener('mouseup', function() {\r\n      if (this.components.button && this.components.button.data.disabled) { return; }\r\n      that.wrapper.setAttribute('position', `0 0 0`);\r\n    });\r\n\r\n    this.el.getWidth = this.getWidth.bind(this);\r\n    Object.defineProperty(this.el, 'value', {\r\n      get: function() { return this.getAttribute('value'); },\r\n      set: function(value) { this.setAttribute('value', value); },\r\n      enumerable: true,\r\n      configurable: true\r\n    });\r\n  },\r\n  onClick: function() {\r\n    //Event.emit(this.el, 'click');\r\n  },\r\n  getWidth: function() {\r\n    return this.__width;\r\n  },\r\n  update: function () {\r\n    var that = this;\r\n    this.outline.setAttribute('color', this.data.buttonColor);\r\n\r\n    let props = {\r\n      color: this.data.color,\r\n      align: 'center',\r\n      wrapCount: 10*this.data.width,\r\n      width: this.data.width,\r\n    }\r\n    if (this.data.font) { props.font = this.data.font; }\r\n\r\n    if (this.data.type === \"flat\") {\r\n      props.color = this.data.buttonColor;\r\n    }\r\n\r\n    // TITLE\r\n    props.value = this.data.value.toUpperCase();\r\n    this.label.setAttribute('text', props);\r\n    this.label.setAttribute('position', this.data.width/2+0.24+' 0 0.01');\r\n\r\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\r\n    function getTextWidth(el, callback, _widthFactor) {\r\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) {\r\n        return setTimeout(function() {\r\n          getTextWidth(el, callback);\r\n        }, 10);\r\n       }\r\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\r\n      if (!v) {\r\n        return setTimeout(function() {\r\n          getTextWidth(el, callback);\r\n        }, 10);\r\n      }\r\n      v = v[v.length-1];\r\n      if (!v) { return callback(0); }\r\n      if (v.line) {\r\n        props.value = props.value.slice(0, -1);\r\n        el.setAttribute(\"text\", props);\r\n        return getTextWidth(el, callback);\r\n      } else {\r\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, props.wrapCount); }\r\n        v = (v.position[0] + v.data.width ) / (_widthFactor/that.data.width);\r\n        let textRatio = v / that.data.width;\r\n        if (textRatio > 1) {\r\n          props.value = props.value.slice(0, -1);\r\n          el.setAttribute(\"text\", props);\r\n          return getTextWidth(el, callback, _widthFactor);\r\n        }\r\n      }\r\n      return callback(v);\r\n    }\r\n    setTimeout(function() {\r\n      if (that.data.value.length) {\r\n        getTextWidth(that.label, (width)=>{\r\n          that.label.setAttribute('position', `${width/2+0.28/2} ${0.36/2} 0.02`);//\r\n          width = width+0.28;\r\n          that.outline.setAttribute('width', width);\r\n          that.__width = width;\r\n          that.shadow.setAttribute('width', width*1.17);\r\n          that.shadow.setAttribute('position', width/2+' 0 0');\r\n          Event.emit(that.el, 'change:width', width)\r\n        });\r\n      }\r\n\r\n      if (that.data.disabled) {\r\n        that.shadow.setAttribute('visible', false);\r\n        let timer = setInterval(function() {\r\n          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\r\n            clearInterval(timer);\r\n            Utils.updateOpacity(that.el, 0.4);\r\n          }\r\n        }, 10)\r\n      } else {\r\n        let timer = setInterval(function() {\r\n          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\r\n            clearInterval(timer);\r\n            Utils.updateOpacity(that.el, 1);\r\n          }\r\n        }, 10)\r\n      }\r\n\r\n      if (that.data.type === \"flat\") {\r\n        that.shadow.setAttribute('visible', false);\r\n        let timer = setInterval(function() {\r\n          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\r\n            clearInterval(timer);\r\n            Utils.updateOpacity(that.outline, 0);\r\n            if (that.data.disabled) {\r\n              Utils.updateOpacity(that.label, 0.4);\r\n            }\r\n          }\r\n        }, 10)\r\n      }\r\n    }, 0);\r\n  },\r\n  tick: function () {},\r\n  remove: function () {},\r\n  pause: function () {},\r\n  play: function () {}\r\n});\r\n\r\nAFRAME.registerPrimitive('a-button', {\r\n  defaultComponents: {\r\n    button: {}\r\n  },\r\n  mappings: {\r\n    disabled: 'button.disabled',\r\n    type: 'button.type',\r\n    name: 'button.name',\r\n    value: 'button.value',\r\n    'button-color': 'button.buttonColor',\r\n    color: 'button.color',\r\n    font: 'button.font',\r\n    'letter-spacing': 'button.letterSpacing',\r\n    'line-height': 'button.lineHeight',\r\n    'opacity': 'button.opacity',\r\n    'width': 'button.width',\r\n    mute: 'button.mute'\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/button/index.js","module.exports = [\r\n  { type: 'img', id: 'aframeButtonShadow', src: `${AFRAME.ASSETS_PATH}/images/ButtonShadow.png`},\r\n  { type: 'audio', id: 'aframeButtonClick', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClick.mp3`},\r\n  { type: 'audio', id: 'aframeButtonClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\r\n]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/button/assets.js","const SFX = {\r\n\r\n  init: function(parent) {\r\n    let el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeButtonClickSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', '#aframeButtonClick');\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n\r\n    el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeButtonClickDisabledSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', '#aframeButtonClickDisabled');\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n  },\r\n\r\n  click: function(parent) {\r\n    let el = parent.querySelector('[key=aframeButtonClickSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  },\r\n\r\n  clickDisabled: function(parent) {\r\n    let el = parent.querySelector('[key=aframeButtonClickDisabledSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  }\r\n}\r\n\r\nmodule.exports = SFX;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/button/sfx.js","const Utils = require('../utils');\r\nconst Event = require('../core/event');\r\nconst Assets = require('./assets');\r\nconst SFX = require('./sfx');\r\n\r\nAFRAME.registerComponent('toast', {\r\n  schema: {\r\n    message: { type: 'string', default: \"You are cool\" },\r\n    action: { type: 'string', default: \"\" },\r\n    backgroundColor: { type: \"color\", default: \"#222\" },//242f35\r\n    actionColor: { type: \"color\", default: \"#4076fd\"},\r\n    color: { type: \"color\", default: \"#FFF\" },\r\n    font: { type: \"string\", default: \"\" },\r\n    letterSpacing: { type: \"int\", default: 0 },\r\n    lineHeight: { type: \"string\", default: \"\" },\r\n    width: { type: \"number\", default: 3 },\r\n    duration: { type: 'number', default: 2000 },\r\n    autoshow: { type: 'boolean', default: true },\r\n    mute: { type: \"boolean\", default: true }\r\n  },\r\n  init: function () {\r\n    var that = this;\r\n\r\n    // Assets\r\n    Utils.preloadAssets( Assets );\r\n\r\n    // SFX\r\n    if (!this.data.mute) {\r\n      SFX.init(this.el);\r\n    }\r\n\r\n    // CONFIG\r\n    this.el.setAttribute(\"position\", `10000 10000 10000`);\r\n    this.el.setAttribute(\"rotation\", \"-25 0 0\");\r\n    this.el.setAttribute(\"scale\", \"0.3 0.3 0.3\");\r\n\r\n    // OUTLINE\r\n    this.background = document.createElement('a-rounded');\r\n    this.background.setAttribute('height', 0.44);\r\n    this.background.setAttribute('radius', 0.03);\r\n    this.background.setAttribute('position', `0 -${0.36/2} 0.001`);\r\n    this.el.appendChild(this.background);\r\n\r\n    // LABEL\r\n    this.label = document.createElement('a-entity');\r\n    this.el.appendChild(this.label);\r\n\r\n    // LABEL\r\n    this.action = document.createElement('a-button');\r\n    that.action.setAttribute('button-color', '#222')\r\n    this.el.appendChild(this.action);\r\n\r\n    function changeWidth(e){\r\n      let attr = that.label.getAttribute('text');\r\n      attr.width = that.data.width-e.detail;\r\n      attr.wrapCount = 10*attr.width;\r\n      that.label.setAttribute('text', attr);\r\n      that.label.setAttribute('position', attr.width/2+0.14+' 0.04 0.001');\r\n\r\n      this.setAttribute('position', `${that.data.width-e.detail} ${(0.44-0.36)/2} 0.001`)\r\n    }\r\n    this.action.addEventListener('change:width', changeWidth);\r\n    this.action.addEventListener('click', function() {\r\n      Event.emit(that.el, 'actionclick');\r\n    });\r\n\r\n    let timer = setInterval(function() {\r\n      if (that.action.object3D && that.action.object3D.children[0]) {\r\n        clearInterval(timer);\r\n        Utils.updateOpacity(that.el, 0);\r\n        Utils.updateOpacity(that.label, 0);\r\n        Utils.updateOpacity(that.action, 0);\r\n        if (that.data.autoshow) { that.show(); }\r\n      }\r\n    }, 10);\r\n\r\n    // METHDOS\r\n    this.el.show = this.show.bind(this);\r\n    this.el.hide = this.hide.bind(this);\r\n  },\r\n  show: function() {\r\n    if (this.hideTimer) {\r\n      clearTimeout(this.hideTimer);\r\n    }\r\n    this.el.setAttribute(\"position\", `${-this.data.width/(2/this.el.object3D.scale.x)} 0.25 -1.6`);\r\n    let that = this;\r\n    /*if (!this.el.parentNode && this.el._parentNode) {\r\n      this.el._parentNode.appendChild(this.el);\r\n    }*/\r\n    setTimeout(function() {\r\n      that.el.setAttribute('fadein', {duration: 160});\r\n      setTimeout(function() {\r\n        Utils.updateOpacity(that.label, 1);\r\n        that.action.components.button.shadow.setAttribute('visible', false);\r\n      }, 10)\r\n    }, 0)\r\n    this.hideTimer = setTimeout(function() {\r\n      that.hide();\r\n    }, this.data.duration);\r\n\r\n    if (!this.data.mute) {\r\n      SFX.show(this.el);\r\n    }\r\n  },\r\n  hide: function() {\r\n    let that = this;\r\n    setTimeout(function() {\r\n      Utils.updateOpacity(that.label, 0);\r\n      that.action.components.button.shadow.setAttribute('visible', false);\r\n      setTimeout(function() {\r\n        that.el.setAttribute('fadeout', {duration: 160});\r\n        setTimeout(function() {\r\n          /*if (that.el.parentNode) {\r\n            that.el._parentNode = that.el.parentNode;\r\n            that.el.parentNode.removeChild(that.el);\r\n          }*/\r\n          that.el.setAttribute(\"position\", `10000 10000 10000`);\r\n        }, 200);\r\n      }, 10)\r\n    }, 0);\r\n  },\r\n  update: function () {\r\n    var that = this;\r\n\r\n    // BACKGROUND\r\n    this.background.setAttribute('color', this.data.backgroundColor);\r\n    this.background.setAttribute('width', this.data.width);\r\n\r\n    let props = {\r\n      color: this.data.color,\r\n      align: 'left',\r\n      wrapCount: 10*this.data.width,\r\n      width: this.data.width,\r\n      lineHeight: 64\r\n    }\r\n    if (this.data.font) { props.font = this.data.font; }\r\n\r\n    if (this.data.type === \"flat\") {\r\n      props.color = this.data.buttonColor;\r\n    }\r\n\r\n    // MESSAGE\r\n    props.value = this.data.message\r\n    this.label.setAttribute('text', props);\r\n    this.label.setAttribute('position', this.data.width/2+0.14+' 0 0.001');\r\n\r\n    // ACTION\r\n    this.action.setAttribute('value', this.data.action.toUpperCase());\r\n    this.action.setAttribute('color', this.data.actionColor);\r\n  },\r\n  tick: function () {},\r\n  remove: function () {},\r\n  pause: function () {},\r\n  play: function () {}\r\n});\r\n\r\nAFRAME.registerPrimitive('a-toast', {\r\n  defaultComponents: {\r\n    toast: {}\r\n  },\r\n  mappings: {\r\n    message: 'toast.message',\r\n    action: 'toast.action',\r\n    'action-color': 'toast.actionColor',\r\n    'background-color': 'toast.backgroundColor',\r\n    color: 'toast.color',\r\n    font: 'toast.font',\r\n    'letter-spacing': 'toast.letterSpacing',\r\n    'line-height': 'toast.lineHeight',\r\n    'width': 'toast.width',\r\n    'duration': 'toast.duration',\r\n    'autoshow': 'toast.autoshow',\r\n    mute: 'toast.mute'\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/toast/index.js","module.exports = [\r\n  { type: 'audio', id: 'aframeToastShow', src: `${AFRAME.ASSETS_PATH}/sounds/ToastShow.mp3`}\r\n]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/toast/assets.js","const SFX = {\r\n  init: function(parent) {\r\n    let el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeToastShowSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', '#aframeToastShow');\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n  },\r\n\r\n  show: function(parent) {\r\n    let el = parent.querySelector('[key=aframeToastShowSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  }\r\n}\r\n\r\nmodule.exports = SFX;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/toast/sfx.js"],"sourceRoot":""}