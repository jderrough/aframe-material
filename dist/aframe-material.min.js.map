{"version":3,"sources":["webpack:///aframe-material.min.js","webpack:///webpack/bootstrap 180e7ac330c6ae43c270","webpack:///./src/index.js","webpack:///./~/aframe-rounded/dist/aframe-rounded-component.min.js","webpack:///./src/fade/index.js","webpack:///./src/core/event.js","webpack:///./src/keyboard/index.js","webpack:///./src/utils.js","webpack:///./src/keyboard/draw.js","webpack:///./src/keyboard/assets.js","webpack:///./src/keyboard/layouts.js","webpack:///./src/keyboard/config.js","webpack:///./src/keyboard/behaviors.js","webpack:///./src/keyboard/sfx.js","webpack:///./src/keyboard/Assets.js","webpack:///./src/input/index.js","webpack:///./src/switch/index.js","webpack:///./src/switch/assets.js","webpack:///./src/switch/sfx.js","webpack:///./src/form/index.js","webpack:///./src/radio/index.js","webpack:///./src/radio/assets.js","webpack:///./src/radio/sfx.js","webpack:///./src/checkbox/index.js","webpack:///./src/checkbox/assets.js","webpack:///./src/checkbox/sfx.js","webpack:///./src/button/index.js","webpack:///./src/button/assets.js","webpack:///./src/button/sfx.js","webpack:///./src/toast/index.js","webpack:///./src/toast/assets.js","webpack:///./src/toast/sfx.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","AFRAME","ASSETS_PATH","console","error","t","e","i","a","d","registerComponent","schema","enabled","default","width","type","height","radius","topLeftRadius","topRightRadius","bottomLeftRadius","bottomRightRadius","color","opacity","init","this","rounded","THREE","Mesh","draw","MeshPhongMaterial","Color","data","side","DoubleSide","updateOpacity","el","setObject3D","update","visible","geometry","material","transparent","tick","remove","object3D","o","u","r","s","moveTo","lineTo","quadraticCurveTo","Shape","ShapeBufferGeometry","pause","play","registerPrimitive","defaultComponents","mappings","top-left-radius","top-right-radius","bottom-left-radius","bottom-right-radius","Event","opacityUpdate","traverse","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","textEntities","Symbol","iterator","next","done","text","value","setAttribute","err","return","duration","querySelectorAll","start","Math","min","removeAttribute","emit","name","dispatchEvent","CustomEvent","detail","Draw","Behaviors","SFX","isOpen","physicalKeyboard","mute","currentInput","that","numericalUI","mainUI","actionsUI","alphabeticalLayout","symbolsLayout","appendChild","numericalLayout","actionsLayout","show","showKeyboard","hide","hideKeyboard","open","openKeyboard","dismiss","dismissKeyboard","destroy","destroyKeyboard","addEventListener","inputEvent","bind","backspaceEvent","dismissEvent","document","keydownEvent","body","didFocusInputEvent","didBlurInputEvent","removeEventListener","appendString","deleteLast","blur","preventDefault","stopPropagation","key","length","keyboard","is-open","physical-keyboard","Utils","preloadAssets","assets_arr","assets","querySelector","already_exists","scene","createElement","item","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","Array","from","children","stuff","asset_item","src","extend","b","hasOwnProperty","clone","original","isArray","slice","Object","create","getPrototypeOf","keys","getOwnPropertyNames","defineProperty","getOwnPropertyDescriptor","hasAttribute","props","getAttribute","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","getWidthFactor","wrapCount","widthFactor","components","currentFont","Assets","Layouts","Config","wrapper","KEYBOARD_COLOR","numerical","index_y","key_id","index_x","x","KEY_WIDTH","y","alphabetical","prev_was_space","SPACE_KEY_WIDTH","symbols","actions","val_y","ACTION_WIDTH","addKeyEvents","shadow_el","aframeKeyboardShadow","letter_el","SPACE_KEY_HEIGHT","icon_el","aframeKeyboardShift","shiftKey","aframeKeyboardGlobal","aframeKeyboardBackspace","circle_el","aframeKeyboardEnter","aframeKeyboardDismiss","aframeKeyboardShiftActive","aframeKeyboardKeyIn","aframeKeyboardKeyDown","KEY_COLOR_HIGHLIGHT","KEY_COLOR_ACTIVE","SPACEBAR_COLOR_ACTIVE","SPACEBAR_COLOR_HIGHLIGHT","o_position","position","copy","child","parent","parentNode","sceneEl","Vector3","removeChild","_transitioning","_loop","animationend","setTimeout","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_loop2","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","_iterator5","keyClick","keyDown","keyOut","keyIn","isShiftEnabled","toUpperCase","shiftToggle","isSymbols","symbolsToggle","z","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","keyEl","key_type","startsWith","textEl","toLowerCase","sound","stopSound","playSound","disabled","align","font","letterSpacing","lineHeight","tabSize","placeholder","placeholderColor","maxLength","cursorWidth","cursorHeight","cursorColor","backgroundColor","backgroundOpacity","background","cursor","focus","blink","input","get","set","enumerable","configurable","isFocused","cursorInterval","setInterval","clearInterval","noemit","str","updateText","getTextWidth","trimFirst","_widthFactor","v","visibleGlyphs","line","substr","textRatio","padding","left","right","attr","cursorTimer","clearTimeout","substring","repeat","placeholder_props","updateCursor","letter-spacing","line-height","tab-size","placeholder-color","max-length","cursor-width","cursor-height","cursor-color","background-color","background-opacity","fillColor","knobColor","fillColorEnabled","knobColorEnabled","fillColorDisabled","knobColorDisabled","fill","knob","switch","clickDisabled","click","on","off","disable","fill-color","knob-color","fill-color-enabled","knob-color-enabled","fill-color-disabled","knob-color-disabled","form","checked","label","radioColor","radioColorChecked","hitbox","outline","circle","radio","onClick","nearestForm","closest","didCheck","reverse","check","uncheck","timer","radio-color","radio-color-checked","checkboxColor","checkboxColorChecked","inside","checkmark","checkbox","checkbox-color","checkbox-color-checked","buttonColor","filter","shadow","button","getWidth","__width","callback","button-color","message","action","actionColor","autoshow","changeWidth","hideTimer","scale","toast","action-color"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,SAGAV,EAAA,KDMM,SAAUI,EAAQD,EAASH,GAEhCI,EAAOD,QAAUH,EAAoB,IAKhC,SAAUI,EAAQD,EAASH,GAEhC,cErDD,WACE,MAAKW,SACAA,OAAOC,cAAeD,OAAOC,YAAc,YAChDZ,EAAQ,GACRA,EAAQ,GAERA,EAAQ,GACRA,EAAQ,IACRA,EAAQ,IACRA,EAAQ,IACRA,EAAQ,IACRA,EAAQ,IACRA,EAAQ,QACRA,GAAQ,KAZca,QAAQC,MAAM,2BF4EhC,SAAUV,EAAQD,IG7ExB,SAAAY,GAAa,QAAAC,GAAAC,GAAc,GAAAC,EAAAD,GAAA,MAAAC,GAAAD,GAAAd,OAA4B,IAAAgB,GAAAD,EAAAD,IAAYd,WAAUE,GAAAY,EAAAX,QAAA,EAAiB,OAAAS,GAAAE,GAAAV,KAAAY,EAAAhB,QAAAgB,IAAAhB,QAAAa,GAAAG,EAAAb,QAAA,EAAAa,EAAAhB,QAAgE,GAAAe,KAAS,OAAAF,GAAAR,EAAAO,EAAAC,EAAAP,EAAAS,EAAAF,EAAAN,EAAA,GAAAM,EAAA,KAA+B,SAAAD,EAAAC,GAAgBL,OAAAS,kBAAA,WAAoCC,QAAQC,SAASC,SAAA,GAAWC,OAAQC,KAAA,SAAAF,QAAA,GAAwBG,QAASD,KAAA,SAAAF,QAAA,GAAwBI,QAASF,KAAA,SAAAF,QAAA,IAAyBK,eAAgBH,KAAA,SAAAF,SAAA,GAAyBM,gBAAiBJ,KAAA,SAAAF,SAAA,GAAyBO,kBAAmBL,KAAA,SAAAF,SAAA,GAAyBQ,mBAAoBN,KAAA,SAAAF,SAAA,GAAyBS,OAAQP,KAAA,QAAAF,QAAA,WAA+BU,SAAUR,KAAA,SAAAF,QAAA,IAAyBW,KAAA,WAAiBC,KAAAC,QAAA,GAAAC,OAAAC,KAAAH,KAAAI,OAAA,GAAAF,OAAAG,mBAAqER,MAAA,GAAAK,OAAAI,MAAAN,KAAAO,KAAAV,OAAAW,KAAAN,MAAAO,cAA6DT,KAAAU,gBAAAV,KAAAW,GAAAC,YAAA,OAAAZ,KAAAC,UAAiEY,OAAA,WAAmBb,KAAAO,KAAApB,QAAAa,KAAAC,UAAAD,KAAAC,QAAAa,SAAA,EAAAd,KAAAC,QAAAc,SAAAf,KAAAI,OAAAJ,KAAAC,QAAAe,SAAAnB,MAAA,GAAAK,OAAAI,MAAAN,KAAAO,KAAAV,OAAAG,KAAAU,iBAAAV,KAAAC,QAAAa,SAAA,GAAsMJ,cAAA,WAA0BV,KAAAO,KAAAT,QAAA,IAAAE,KAAAO,KAAAT,QAAA,GAAAE,KAAAO,KAAAT,QAAA,IAAAE,KAAAO,KAAAT,QAAA,GAAAE,KAAAO,KAAAT,QAAA,EAAAE,KAAAC,QAAAe,SAAAC,aAAA,EAAAjB,KAAAC,QAAAe,SAAAC,aAAA,EAAAjB,KAAAC,QAAAe,SAAAlB,QAAAE,KAAAO,KAAAT,SAAoOoB,KAAA,aAAkBC,OAAA,WAAmBnB,KAAAC,UAAAD,KAAAW,GAAAS,SAAAD,OAAAnB,KAAAC,SAAAD,KAAAC,QAAA,OAAwEG,KAAA,WAAiB,QAAAxB,KAAAC,EAAAE,EAAAD,EAAAE,EAAAqC,EAAAC,EAAAC,EAAAC,GAA8BH,MAAA,MAAAC,MAAA,MAAAC,MAAA,MAAAC,MAAA,MAAA5C,EAAA6C,OAAA5C,EAAAE,EAAAsC,GAAAzC,EAAA8C,OAAA7C,EAAAE,EAAAC,EAAAqC,GAAAzC,EAAA+C,iBAAA9C,EAAAE,EAAAC,EAAAH,EAAAwC,EAAAtC,EAAAC,GAAAJ,EAAA8C,OAAA7C,EAAAC,EAAAwC,EAAAvC,EAAAC,GAAAJ,EAAA+C,iBAAA9C,EAAAC,EAAAC,EAAAC,EAAAH,EAAAC,EAAAC,EAAAC,EAAAsC,GAAA1C,EAAA8C,OAAA7C,EAAAC,EAAAC,EAAAyC,GAAA5C,EAAA+C,iBAAA9C,EAAAC,EAAAC,EAAAF,EAAAC,EAAA0C,EAAAzC,GAAAH,EAAA8C,OAAA7C,EAAA0C,EAAAxC,GAAAH,EAAA+C,iBAAA9C,EAAAE,EAAAF,EAAAE,EAAAwC,GAAgR,GAAA1C,GAAA,GAAAqB,OAAA0B,MAAA7C,GAAAiB,KAAAO,KAAAf,OAAAQ,KAAAO,KAAAf,OAAAQ,KAAAO,KAAAf,OAAAQ,KAAAO,KAAAf,OAA8F,OAAAQ,MAAAO,KAAAd,gBAAA,IAAAV,EAAA,GAAAiB,KAAAO,KAAAd,eAAAO,KAAAO,KAAAb,iBAAA,IAAAX,EAAA,GAAAiB,KAAAO,KAAAb,gBAAAM,KAAAO,KAAAZ,mBAAA,IAAAZ,EAAA,GAAAiB,KAAAO,KAAAZ,kBAAAK,KAAAO,KAAAX,oBAAA,IAAAb,EAAA,GAAAiB,KAAAO,KAAAX,mBAAAhB,EAAAC,EAAA,IAAAmB,KAAAO,KAAAlB,MAAAW,KAAAO,KAAAhB,OAAAR,EAAA,GAAAA,EAAA,GAAAA,EAAA,GAAAA,EAAA,OAAAmB,OAAA2B,oBAAAhD,IAAsWiD,MAAA,aAAmBC,KAAA,eAAmBvD,OAAAwD,kBAAA,aAAwCC,mBAAmBhC,YAAWiC,UAAW/C,QAAA,kBAAAE,MAAA,gBAAAE,OAAA,iBAAAC,OAAA,iBAAA2C,kBAAA,wBAAAC,mBAAA,yBAAAC,qBAAA,2BAAAC,sBAAA,4BAAAzC,MAAA,gBAAAC,QAAA,yBHmF3vE,SAAU7B,EAAQD,EAASH,GAEhC,YIrFD,IAAM0E,GAAQ1E,EAAQ,GAElB2E,EAAgB,SAAS1C,GAC3BE,KAAKW,GAAGS,SAASqB,SAAS,SAAUpB,GAC9BA,EAAEL,WACJK,EAAEL,SAASC,aAAc,EACzBI,EAAEL,SAASlB,QAAUA,IAJW,IAAA4C,IAAA,EAAAC,GAAA,EAAAC,EAAAC,MAAA,KAOpC,OAAAC,GAAAC,EAAiB/C,KAAKgD,aAAtBC,OAAAC,cAAAR,GAAAI,EAAAC,EAAAI,QAAAC,MAAAV,GAAA,EAAoC,IAA3BW,GAA2BP,EAAAQ,KAClCD,GAAKE,aAAa,UAAWzD,IARK,MAAA0D,GAAAb,GAAA,EAAAC,EAAAY,EAAA,aAAAd,GAAAK,EAAAU,QAAAV,EAAAU,SAAA,WAAAd,EAAA,KAAAC,KAetCpE,QAAOS,kBAAkB,UACvBC,QACEwE,UAAYpE,KAAM,MAAOF,QAAS,MAEpCW,KAAM,WACJC,KAAKgD,aAAehD,KAAKW,GAAGgD,iBAAiB,UAC7C3D,KAAKwC,cAAc,GACnBxC,KAAK4D,MAAQ,MAEf1C,KAAM,SAAUtC,GACToB,KAAK4D,QAAS5D,KAAK4D,MAAQhF,EAChC,IAAIkB,GAAU+D,KAAKC,KAAKlF,EAAIoB,KAAK4D,OAAS5D,KAAKO,KAAKmD,SAAU,EAC9D1D,MAAKwC,cAAc1C,GACH,IAAZA,IACFE,KAAKW,GAAGoD,gBAAgB,UACxBxB,EAAMyB,KAAKhE,KAAKW,GAAI,kBAGxB6B,cAAeA,IAMjBhE,OAAOS,kBAAkB,WACvBC,QACEwE,UAAYpE,KAAM,MAAOF,QAAS,MAEpCW,KAAM,WACJC,KAAKgD,aAAehD,KAAKW,GAAGgD,iBAAiB,UAC7C3D,KAAKwC,cAAc,GACnBxC,KAAK4D,MAAQ,MAEf1C,KAAM,SAAUtC,GACToB,KAAK4D,QAAS5D,KAAK4D,MAAQhF,EAChC,IAAIkB,GAAU,EAAE+D,KAAKC,KAAKlF,EAAIoB,KAAK4D,OAAS5D,KAAKO,KAAKmD,SAAU,EAChE1D,MAAKwC,cAAc1C,GACH,IAAZA,IACFE,KAAKW,GAAGoD,gBAAgB,WACxBxB,EAAMyB,KAAKhE,KAAKW,GAAI,kBAGxB6B,cAAeA,IAMjBhE,OAAOS,kBAAkB,QACvBc,KAAM,WACJC,KAAKgD,aAAehD,KAAKW,GAAGgD,iBAAiB,UAC7C3D,KAAKwC,cAAc,GACnBxC,KAAKW,GAAGoD,gBAAgB,SAE1BvB,cAAeA,IAMjBhE,OAAOS,kBAAkB,QACvBc,KAAM,WACJC,KAAKgD,aAAehD,KAAKW,GAAGgD,iBAAiB,UAC7C3D,KAAKwC,cAAc,GACnBxC,KAAKW,GAAGoD,gBAAgB,SAE1BvB,cAAeA,KJqHX,SAAUvE,EAAQD,GAEvB,YK1MDC,GAAOD,SACLgG,KAAM,SAACrD,EAAIsD,EAAM1D,GACfI,EAAGuD,cAAe,GAAIC,aAAYF,GAAOG,OAAQ7D,QLkN/C,SAAUtC,EAAQD,EAASH,GAEhC,YMtND,IACMwG,IADQxG,EAAQ,GACTA,EAAQ,IACfyG,EAAYzG,EAAQ,IACpB0G,EAAM1G,EAAQ,IACd0E,EAAQ1E,EAAQ,EAEtBW,QAAOS,kBAAkB,YACvBC,QACEsF,QAAUlF,KAAM,UAAWF,SAAS,GACpCqF,kBAAoBnF,KAAM,UAAWF,SAAS,GAC9CsF,MAAQpF,KAAM,UAAWF,SAAS,IAEpCuF,aAAc,KACd5E,KAAM,WACJ,GAAI6E,GAAO5E,IAGNA,MAAKO,KAAKmE,MACbH,EAAIxE,KAAKC,KAAKW,IAIhB0D,EAAKtE,KAAMC,KAAKW,GAGhB,IAAIkE,GAAcR,EAAKQ,cACnBC,EAAcT,EAAKS,SACnBC,EAAcV,EAAKU,WAGvB/E,MAAKW,GAAGqE,mBAAqBX,EAAKW,qBAClChF,KAAKW,GAAGsE,cAAgBZ,EAAKY,gBAG7BJ,EAAYK,YAAab,EAAKc,mBAC9BL,EAAOI,YAAalF,KAAKW,GAAGqE,oBAC5BD,EAAUG,YAAab,EAAKe,iBAE5BpF,KAAKW,GAAGuE,YAAaL,GACrB7E,KAAKW,GAAGuE,YAAaJ,GACrB9E,KAAKW,GAAGuE,YAAaH,GAGrB/E,KAAKW,GAAG0E,KAAO,WAAaf,EAAUgB,aAAaV,EAAKjE,KACxDX,KAAKW,GAAG4E,KAAO,WAAajB,EAAUkB,aAAaZ,EAAKjE,KACxDX,KAAKW,GAAG8E,KAAO,WAAanB,EAAUoB,aAAad,EAAKjE,KACxDX,KAAKW,GAAGgF,QAAU,WAAarB,EAAUsB,gBAAgBhB,EAAKjE,KAC9DX,KAAKW,GAAGkF,QAAU,WAAavB,EAAUwB,gBAAgBlB,EAAKjE,KAG9DX,KAAKW,GAAG4C,aAAa,QAAS,SAC9BvD,KAAKW,GAAG4C,aAAa,WAAY,WACjCvD,KAAKW,GAAG4C,aAAa,WAAY,gBAGjCvD,KAAKW,GAAGoF,iBAAiB,QAAS/F,KAAKgG,WAAWC,KAAKjG,OACvDA,KAAKW,GAAGoF,iBAAiB,YAAa/F,KAAKkG,eAAeD,KAAKjG,OAC/DA,KAAKW,GAAGoF,iBAAiB,UAAW/F,KAAKmG,aAAaF,KAAKjG,OAG3DoG,SAASL,iBAAiB,UAAW/F,KAAKqG,aAAaJ,KAAKjG,OAC5DoG,SAASE,KAAKP,iBAAiB,gBAAiB/F,KAAKuG,mBAAmBN,KAAKjG,OAC7EoG,SAASE,KAAKP,iBAAiB,eAAgB/F,KAAKwG,kBAAkBP,KAAKjG,QAE7Ea,OAAQ,WACFb,KAAKO,KAAKiE,OACZF,EAAUgB,aAAatF,KAAKW,IAE5B2D,EAAUkB,aAAaxF,KAAKW,KAGhCO,KAAM,aACNC,OAAQ,WACNnB,KAAKW,GAAG8F,oBAAoB,QAASzG,KAAKgG,WAAWC,KAAKjG,OAC1DA,KAAKW,GAAG8F,oBAAoB,YAAazG,KAAKkG,eAAeD,KAAKjG,OAClEA,KAAKW,GAAG8F,oBAAoB,UAAWzG,KAAKmG,aAAaF,KAAKjG,OAE9DoG,SAASK,oBAAoB,UAAWzG,KAAKqG,aAAaJ,KAAKjG,OAC/DoG,SAASE,KAAKG,oBAAoB,gBAAiBzG,KAAKuG,mBAAmBN,KAAKjG,OAChFoG,SAASE,KAAKG,oBAAoB,eAAgBzG,KAAKwG,kBAAkBP,KAAKjG,QAEhF8B,MAAO,aACPC,KAAM,aAGNiE,WAAY,SAASnH,GACfmB,KAAK2E,cACP3E,KAAK2E,aAAa+B,aAAa7H,EAAEuF,SAKrC8B,eAAgB,SAASrH,GACnBmB,KAAK2E,cACP3E,KAAK2E,aAAagC,cAItBR,aAAc,SAAStH,GACjBmB,KAAK2E,cACP3E,KAAK2E,aAAaiC,QAKtBP,aAAc,SAASxH,GACjBmB,KAAK2E,cAAgB3E,KAAKO,KAAKkE,mBACjC5F,EAAEgI,iBACFhI,EAAEiI,kBAEY,UAAVjI,EAAEkI,KACJxE,EAAMyB,KAAKM,EAAU3D,GAAI,QAAS,MAClC4B,EAAMyB,KAAKM,EAAU3D,GAAI,QAAS,OAEjB,cAAV9B,EAAEkI,IACTxE,EAAMyB,KAAKM,EAAU3D,GAAI,aAER,WAAV9B,EAAEkI,IACTxE,EAAMyB,KAAKM,EAAU3D,GAAI,WAElB9B,EAAEkI,IAAIC,OAAS,GACtBzE,EAAMyB,KAAKM,EAAU3D,GAAI,QAAS9B,EAAEkI,OAM1CR,mBAAoB,SAAS1H,GACvBmB,KAAK2E,cACP3E,KAAK2E,aAAaiC,MAAK,GAEzB5G,KAAK2E,aAAe9F,EAAEuF,OACjBpE,KAAKW,GAAG6D,QACXF,EAAUoB,aAAa1F,KAAKW,KAKhC6F,kBAAmB,SAAS3H,GAC1BmB,KAAK2E,aAAe,KACpBL,EAAUsB,gBAAgB5F,KAAKW,OAInCnC,OAAOwD,kBAAkB,cACvBC,mBACEgF,aAEF/E,UACEgF,UAAW,kBACXC,oBAAqB,4BACrBzC,KAAM,oBNqOJ,SAAUzG,EAAQD,GAEvB,YO9XD,IAAMoJ,KAMNA,GAAMC,cAAgB,SAACC,GACrB,GAAIC,GAASnB,SAASoB,cAAc,YAAaC,QAEjD,KAAKF,EAAQ,CACX,GAAIG,GAAQtB,SAASoB,cAAc,UACnCD,GAASnB,SAASuB,cAAc,YAChCD,EAAMxC,YAAYqC,GANc,GAAA7E,IAAA,EAAAC,GAAA,EAAAC,EAAAC,MAAA,KASlC,OAAAC,GAAAC,EAAiBuE,EAAjBrE,OAAAC,cAAAR,GAAAI,EAAAC,EAAAI,QAAAC,MAAAV,GAAA,EAA6B,IAApBkF,GAAoB9E,EAAAQ,KAC3BmE,IAAiB,CADU,IAAAI,IAAA,EAAAC,GAAA,EAAAC,EAAAlF,MAAA,KAI3B,OAAAmF,GAAAC,EAAkBC,MAAMC,KAAKZ,EAAOa,UAApCnF,OAAAC,cAAA2E,GAAAG,EAAAC,EAAA9E,QAAAC,MAAAyE,GAAA,EAA+C,IAAtCQ,GAAsCL,EAAA1E,KACzCsE,GAAK1J,KAAOmK,EAAMnK,KACpBuJ,GAAiB,IANM,MAAAjE,GAAAsE,GAAA,EAAAC,EAAAvE,EAAA,aAAAqE,GAAAI,EAAAxE,QAAAwE,EAAAxE,SAAA,WAAAqE,EAAA,KAAAC,IAU3B,IAAKN,EAAgB,CACnB,GAAIa,GAAalC,SAASuB,cAAcC,EAAKtI,KAC7CgJ,GAAW/E,aAAa,KAAMqE,EAAK1J,IACnCoK,EAAW/E,aAAa,MAAOqE,EAAKW,KACpChB,EAAOrC,YAAYoD,KAvBW,MAAA9E,GAAAb,GAAA,EAAAC,EAAAY,EAAA,aAAAd,GAAAK,EAAAU,QAAAV,EAAAU,SAAA,WAAAd,EAAA,KAAAC,MAiCpCwE,EAAMoB,OAAS,SAASzJ,EAAG0J,GAC1B,IAAK,GAAI1B,KAAO0B,GACXA,EAAEC,eAAe3B,KACpBhI,EAAEgI,GAAO0B,EAAE1B,GAGb,OAAOhI,IAIRqI,EAAMuB,MAAQ,SAASC,GACtB,GAAIV,MAAMW,QAAQD,GACjB,MAAOA,GAASE,MAAM,EAKvB,IAAMH,GAAQI,OAAOC,OAAOD,OAAOE,eAAeL,IAC9C9J,EAAI+D,OACFqG,EAAOH,OAAOI,oBAAoBP,EAExC,KADA9J,EAAI,EACGA,EAAIoK,EAAKlC,QAEf+B,OAAOK,eAAeT,EAAOO,EAAKpK,GAAIiK,OAAOM,yBAAyBT,EAAUM,EAAKpK,KACrFA,GAED,OAAO6J,IAIRvB,EAAM1G,cAAgB,SAASC,EAAIb,GACjC,GAAIa,EAAG2I,aAAa,QAAS,CAC3B,GAAIC,GAAQ5I,EAAG6I,aAAa,OACxBD,KACFA,EAAMzJ,QAAUA,EAChBa,EAAG4C,aAAa,OAAQgG,IAG5B5I,EAAGS,SAASqB,SAAS,SAAUpB,GACzBA,EAAEL,WACJK,EAAEL,SAASC,aAAc,EACzBI,EAAEL,SAASlB,QAAUA,IAXiB,IAAA2J,IAAA,EAAAC,GAAA,EAAAC,EAAA9G,MAAA,KAc1C,OAAA+G,GAAAC,EAAiBlJ,EAAGgD,iBAAiB,UAArCV,OAAAC,cAAAuG,GAAAG,EAAAC,EAAA1G,QAAAC,MAAAqG,GAAA,EAAgD,IAAvCpG,GAAuCuG,EAAAtG,KAC9CD,GAAKE,aAAa,UAAWzD,IAfW,MAAA0D,GAAAkG,GAAA,EAAAC,EAAAnG,EAAA,aAAAiG,GAAAI,EAAApG,QAAAoG,EAAApG,SAAA,WAAAiG,EAAA,KAAAC,MAqB5CvC,EAAM0C,eAAiB,SAASnJ,EAAIoJ,GAClC,GAAIC,GAAc,IAKlB,OAJIrJ,GAAGsJ,WAAW5G,MAAQ1C,EAAGsJ,WAAW5G,KAAK6G,cAC3CF,EAAcrJ,EAAGsJ,WAAW5G,KAAK6G,YAAYF,YAC7CA,GAAgB,GAAMD,GAEjBC,GAGT/L,EAAOD,QAAUoJ,GPgcX,SAAUnJ,EAAQD,EAASH,GAEhC,YQriBD,IAAMsM,GAAStM,EAAQ,GACjBuM,EAAUvM,EAAQ,GAClBwM,EAASxM,EAAQ,IACjByG,EAAYzG,EAAQ,IACpBwG,IAENA,GAAK1D,GAAK,KAEV0D,EAAKtE,KAAO,SAACY,GACX0D,EAAK1D,GAAKA,EACV2D,EAAU3D,GAAKA,EACf2D,EAAUC,IAAM5D,EAAG4D,KAMrBF,EAAKQ,YAAc,WACjB,GAAIyF,GAAUlE,SAASuB,cAAc,WACrC2C,GAAQ/G,aAAa,WAAY,gBACjC+G,EAAQ/G,aAAa,WAAY,UACjC+G,EAAQ/G,aAAa,WAAW,EAEhC,IAAI5C,GAAKyF,SAASuB,cAAc,YAOhC,OANAhH,GAAG4C,aAAa,QAAS,SACzB5C,EAAG4C,aAAa,SAAU,SAC1B5C,EAAG4C,aAAa,SAAU,QAC1B5C,EAAG4C,aAAa,QAAS8G,EAAOE,gBAChCD,EAAQpF,YAAYvE,GAEb2J,GAMTjG,EAAKS,OAAS,WACZ,GAAIwF,GAAUlE,SAASuB,cAAc,WACrC2C,GAAQ/G,aAAa,WAAY,aACjC+G,EAAQ/G,aAAa,WAAW,EAEhC,IAAI5C,GAAKyF,SAASuB,cAAc,YAOhC,OANAhH,GAAG4C,aAAa,QAAS,SACzB5C,EAAG4C,aAAa,SAAU,SAC1B5C,EAAG4C,aAAa,SAAU,QAC1B5C,EAAG4C,aAAa,QAAS8G,EAAOE,gBAChCD,EAAQpF,YAAYvE,GAEb2J,GAMTjG,EAAKU,UAAY,WACf,GAAIuF,GAAUlE,SAASuB,cAAc,WACrC2C,GAAQ/G,aAAa,WAAY,gBACjC+G,EAAQ/G,aAAa,WAAY,WACjC+G,EAAQ/G,aAAa,WAAW,EAEhC,IAAI5C,GAAKyF,SAASuB,cAAc,YAOhC,OANAhH,GAAG4C,aAAa,QAAS,SACzB5C,EAAG4C,aAAa,SAAU,SAC1B5C,EAAG4C,aAAa,SAAU,QAC1B5C,EAAG4C,aAAa,QAAS8G,EAAOE,gBAChCD,EAAQpF,YAAYvE,GAEb2J,GAMTjG,EAAKc,gBAAkB,WACrB,GAAI5E,GAAO6J,EAAQI,UACfF,EAAUlE,SAASuB,cAAc,WACrC2C,GAAQ/G,aAAa,WAAY,kBAEjC,IAAIkH,GAAU,CACd,KAAK,GAAI3L,KAAKyB,GAAM,CAClB,GAAImK,GAAS,OAAO5L,EAChBiI,EAAM1C,EAAK0C,IAAI2D,EAAQnK,EAAKzB,GAAGQ,KAAMiB,EAAKzB,GAAGwE,OAC7CqH,EAAU7L,EAAE,EACZ8L,EAAIP,EAAOQ,UAAUF,EACrBG,EAAIT,EAAOQ,UAAUJ,CACzB1D,GAAIxD,aAAa,WAAeqH,EAAhC,KAAsCE,EAAtC,MACgB,IAAZH,GAAiBF,IACrBH,EAAQpF,YAAY6B,GAGtB,MAAOuD,IAMTjG,EAAKW,mBAAqB,WACxB,GAAIzE,GAAO6J,EAAQW,aACfT,EAAUlE,SAASuB,cAAc,WACrC2C,GAAQ/G,aAAa,WAAY,kBAEjC,IAAIkH,GAAU,EAAGE,EAAU,EAAGK,GAAiB,CAE/C,KAAK,GAAIlM,KAAKyB,GAAM,CAClB,GAAImK,GAAS,QAAQ5L,EACjBiI,EAAM1C,EAAK0C,IAAI2D,EAAQnK,EAAKzB,GAAGQ,KAAMiB,EAAKzB,GAAGwE,OAE7CsH,EAAIP,EAAOQ,UAAUF,EACrBG,EAAIT,EAAOQ,UAAUJ,CAGT,KAAZA,IACFG,GAAQP,EAAOQ,UAAU,GAIvBG,IACFJ,EAAIA,EAAIP,EAAOY,gBAAkBZ,EAAOQ,UAAa,KAIlC,aAAjBtK,EAAKzB,GAAGQ,OACV0L,GAAiB,EACjBJ,GAAM,KACNE,EAAIT,EAAOQ,UAAUJ,EAAW,KAGlC1D,EAAIxD,aAAa,WAAeqH,EAAhC,KAAsCE,EAAtC,MAEgB,IAAZL,GAA6B,IAAZE,GACnBA,GAAU,EACVF,KACqB,IAAZE,IACTA,GAAU,EACVF,KAEFE,IAEAL,EAAQpF,YAAY6B,GAGtB,MAAOuD,IAMTjG,EAAKY,cAAgB,WACnB,GAAI1E,GAAO6J,EAAQc,QACfZ,EAAUlE,SAASuB,cAAc,WACrC2C,GAAQ/G,aAAa,WAAY,kBAEjC,IAAIkH,GAAU,EAAGE,EAAU,EAAGK,GAAiB,CAE/C,KAAK,GAAIlM,KAAKyB,GAAM,CAElB,GAAImK,GAAS,WAAW5L,EACpBiI,EAAM1C,EAAK0C,IAAI2D,EAAQnK,EAAKzB,GAAGQ,KAAMiB,EAAKzB,GAAGwE,OAC7CsH,EAAIP,EAAOQ,UAAUF,EACrBG,EAAIT,EAAOQ,UAAUJ,CAGrBO,KACFJ,EAAIA,EAAIP,EAAOY,gBAAkBZ,EAAOQ,UAAa,KAIlC,aAAjBtK,EAAKzB,GAAGQ,OACV0L,GAAiB,EACjBJ,GAAM,KACNE,EAAIT,EAAOQ,UAAUJ,EAAW,KAGlC1D,EAAIxD,aAAa,WAAeqH,EAAhC,KAAsCE,EAAtC,MAEgB,IAAZH,IACFA,GAAU,EACVF,KAEFE,IACAL,EAAQpF,YAAY6B,GAGtB,MAAOuD,IAMTjG,EAAKe,cAAgB,WACnB,GAAI7E,GAAO6J,EAAQe,QACfb,EAAUlE,SAASuB,cAAc,WACrC2C,GAAQ/G,aAAa,WAAY,kBAEjC,IAAI6H,GAAQ,CACZ,KAAK,GAAItM,KAAKyB,GAAM,CAClB,GAAImK,GAAS,UAAU5L,EACnBiI,EAAM1C,EAAK0C,IAAI2D,EAAQnK,EAAKzB,GAAGQ,KAAMiB,EAAKzB,GAAGwE,MAEjDyD,GAAIxD,aAAa,WAAjB,MAAmC6H,EAAnC,MACS,GAALtM,EACFsM,GAASf,EAAOgB,aAAa,IAEjB,GAALvM,IACPsM,GAASf,EAAOQ,UAAU,KAE5BP,EAAQpF,YAAY6B,GAGtB,MAAOuD,IAMTjG,EAAK0C,IAAM,SAAC7I,EAAIoB,EAAMgE,GACpB,GAEI3C,GAAKyF,SAASuB,cAAc,YA4BhC,IA3BAhH,EAAG4C,aAAa,SAAUrF,GAC1ByC,EAAG4C,aAAa,QAAS8G,EAAOQ,WAChClK,EAAG4C,aAAa,SAAU8G,EAAOQ,WACjClK,EAAG4C,aAAa,SAAU,SAC1B5C,EAAG4C,aAAa,WAAY,SAC5B5C,EAAG4C,aAAa,WAAYjE,GAC5BqB,EAAG4C,aAAa,YAAaD,GAC7B3C,EAAG4C,aAAa,QAAS8G,EAAOE,gBAKhCjG,EAAUgH,aAAa3K,GAKvBA,EAAG4K,UAAYnF,SAASuB,cAAc,WACtChH,EAAG4K,UAAUhI,aAAa,QAA0B,KAAjB8G,EAAOQ,WAC1ClK,EAAG4K,UAAUhI,aAAa,SAA2B,KAAjB8G,EAAOQ,WAC3ClK,EAAG4K,UAAUhI,aAAa,WAAY8G,EAAOQ,UAAU,EAAE,IAAIR,EAAOQ,UAAU,EAAE,WAChFlK,EAAG4K,UAAUhI,aAAa,MAAO4G,EAAOqB,sBACxC7K,EAAGuE,YAAYvE,EAAG4K,WAKL,SAATjM,GAA4B,aAATA,GAAiC,WAAVA,EAAoB,CAChE,GAAImM,GAAYrF,SAASuB,cAAc,SACvC8D,GAAUlI,aAAa,QAASD,GAChCmI,EAAUlI,aAAa,QAAS,WAChCkI,EAAUlI,aAAa,WAAY8G,EAAOQ,UAAU,EAAE,IAAIR,EAAOQ,UAAU,EAAE,SAC7EY,EAAUlI,aAAa,QAAS,kBAChCkI,EAAUlI,aAAa,QAAS,UAChCkI,EAAUlI,aAAa,WAAY,UACnC5C,EAAGuE,YAAYuG,GAqCjB,GA/Ba,aAATnM,GACFqB,EAAG4C,aAAa,QAAS8G,EAAOY,iBAChCtK,EAAG4C,aAAa,SAAU8G,EAAOqB,kBACjC/K,EAAG4C,aAAa,QAAS,WACzB5C,EAAG4K,UAAUhI,aAAa,QAAgC,KAAvB8G,EAAOY,iBAC1CtK,EAAG4K,UAAUhI,aAAa,SAAkC,IAAxB8G,EAAOqB,kBAC3C/K,EAAG4K,UAAUhI,aAAa,WAAY8G,EAAOY,gBAAgB,EAAE,IAAIZ,EAAOqB,iBAAiB,EAAE,UAC7FD,EAAUlI,aAAa,QAAS,WAChCkI,EAAUlI,aAAa,QAAS,kBAChCkI,EAAUlI,aAAa,WAAY8G,EAAOY,gBAAgB,EAAE,IAAIZ,EAAOqB,iBAAiB,EAAE,OAM1E,WAATpM,GACPmM,EAAUlI,aAAa,QAAS,kBAMrB,cAATjE,GAAiC,UAATA,GAA6B,YAATA,IAC9CqB,EAAG4C,aAAa,QAAS8G,EAAOgB,cAChC1K,EAAG4K,UAAUhI,aAAa,QAA6B,KAApB8G,EAAOgB,cAC1C1K,EAAG4K,UAAUhI,aAAa,WAAY8G,EAAOgB,aAAa,EAAE,IAAIhB,EAAOQ,UAAU,EAAE,WAMxE,UAATvL,EAAkB,CACpB,GAAIqM,GAAUvF,SAASuB,cAAc,UACrCgE,GAAQpI,aAAa,YAAa,QAClCoI,EAAQpI,aAAa,QAAS,SAC9BoI,EAAQpI,aAAa,SAAU,SAC/BoI,EAAQpI,aAAa,WAAY,kBACjCoI,EAAQpI,aAAa,MAAO4G,EAAOyB,qBACnCjL,EAAGuE,YAAYyG,GACftH,EAAK1D,GAAGkL,SAAWlL,MAMhB,IAAa,WAATrB,EAAmB,CAC1B,GAAIqM,GAAUvF,SAASuB,cAAc,UACrCgE,GAAQpI,aAAa,QAAS,SAC9BoI,EAAQpI,aAAa,SAAU,SAC/BoI,EAAQpI,aAAa,WAAY,kBACjCoI,EAAQpI,aAAa,MAAO4G,EAAO2B,sBACnCnL,EAAGuE,YAAYyG,OAMZ,IAAa,cAATrM,EAAsB,CAC7B,GAAIqM,GAAUvF,SAASuB,cAAc,UACrCgE,GAAQpI,aAAa,QAAS,SAC9BoI,EAAQpI,aAAa,SAAU,SAC/BoI,EAAQpI,aAAa,WAAY,kBACjCoI,EAAQpI,aAAa,MAAO4G,EAAO4B,yBACnCpL,EAAGuE,YAAYyG,OAMZ,IAAa,UAATrM,EAAkB,CACzBqB,EAAG4C,aAAa,SAAU8G,EAAOgB,cACjC1K,EAAG4K,UAAUhI,aAAa,SAA8B,KAApB8G,EAAOgB,cAC3C1K,EAAG4K,UAAUhI,aAAa,WAAY8G,EAAOgB,aAAa,EAAE,IAAIhB,EAAOgB,aAAa,EAAE,SAEtF,IAAIW,GAAY5F,SAASuB,cAAc,WACvCqE,GAAUzI,aAAa,QAAS,WAChCyI,EAAUzI,aAAa,SAAU,MACjCyI,EAAUzI,aAAa,WAAY,kBACnC5C,EAAGuE,YAAY8G,EAEf,IAAIL,GAAUvF,SAASuB,cAAc,UACrCgE,GAAQpI,aAAa,QAAS,SAC9BoI,EAAQpI,aAAa,SAAU,SAC/BoI,EAAQpI,aAAa,WAAY,mBACjCoI,EAAQpI,aAAa,MAAO4G,EAAO8B,qBACnCtL,EAAGuE,YAAYyG,OAMZ,IAAa,YAATrM,EAAoB,CAC3B,GAAIqM,GAAUvF,SAASuB,cAAc,UACrCgE,GAAQpI,aAAa,QAAS,SAC9BoI,EAAQpI,aAAa,SAAU,SAC/BoI,EAAQpI,aAAa,WAAY,kBACjCoI,EAAQpI,aAAa,MAAO4G,EAAO+B,uBACnCvL,EAAGuE,YAAYyG,GAGjB,MAAOhL,IAGT1C,EAAOD,QAAUqG,GRgjBX,SAAUpG,EAAQD,GAEvB,YS75BDC,GAAOD,SACL4N,oBAAwBpN,OAAOC,YAA/B,wBACA0N,0BAA8B3N,OAAOC,YAArC,8BACAqN,qBAAyBtN,OAAOC,YAAhC,yBACAsN,wBAA4BvN,OAAOC,YAAnC,4BACAwN,oBAAwBzN,OAAOC,YAA/B,wBACAyN,sBAA0B1N,OAAOC,YAAjC,0BACA+M,qBAAyBhN,OAAOC,YAAhC,wBACA2N,oBAAwB5N,OAAOC,YAA/B,oBACA4N,sBAA0B7N,OAAOC,YAAjC,wBTo6BI,SAAUR,EAAQD,GAEvB,YU/6BD,IAAMoM,IACJI,YACIlL,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MAGzByH,eACIzL,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MAErBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MAErBhE,KAAM,UACNA,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MAErBhE,KAAM,SAAUgE,MAAO,QACvBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,WAAYgE,MAAO,KACzBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MAGzB4H,UACI5L,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MAErBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,OACrBhE,KAAM,OAAQgE,MAAO,MAErBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MAErBhE,KAAM,SAAUgE,MAAO,QACvBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,WAAYgE,MAAO,KACzBhE,KAAM,OAAQgE,MAAO,MACrBhE,KAAM,OAAQgE,MAAO,MAGzB6H,UACI7L,KAAM,YAAagE,MAAO,QAC1BhE,KAAM,QAASgE,MAAO,OACtBhE,KAAM,UAAWgE,MAAO,MAI9BrF,GAAOD,QAAUoM,GVu1BX,SAAUnM,EAAQD,GAEvB,YWj8BD,IAAMqM,IACJE,eAAgB,UAChB+B,oBAAqB,UACrBC,iBAAkB,UAClBC,sBAAuB,UACvBC,yBAA0B,UAC1B5B,UAAW,IACXI,gBAAiB,KACjBS,iBAAkB,IAClBL,aAAc,IAGhBpN,GAAOD,QAAUqM,GXu8BX,SAAUpM,EAAQD,EAASH,GAEhC,YYr9BD,IAAMsM,GAAStM,EAAQ,GACjBwM,EAASxM,EAAQ,IACjBuJ,EAAQvJ,EAAQ,GAChB0E,EAAQ1E,EAAQ,GAChB0G,EAAM1G,EAAQ,IACdyG,IAENA,GAAU3D,GAAK,KAKf2D,EAAUgB,aAAe,SAAS3E,GAC5BA,EAAG+L,YACL/L,EAAGS,SAASuL,SAASC,KAAKjM,EAAG+L,YAE/B/L,EAAG6D,QAAS,CAJwB,IAAA9B,IAAA,EAAAC,GAAA,EAAAC,EAAAC,MAAA,KAKpC,OAAAC,GAAAC,EAAgBpC,EAAGgD,iBAAiB,aAApCV,OAAAC,cAAAR,GAAAI,EAAAC,EAAAI,QAAAC,MAAAV,GAAA,EAAmD,IAA3CkF,GAA2C9E,EAAAQ,MAAAuE,GAAA,EAAAC,GAAA,EAAAC,EAAAlF,MAAA,KACjD,OAAAmF,GAAAC,EAAkBL,EAAKQ,SAAvBnF,OAAAC,cAAA2E,GAAAG,EAAAC,EAAA9E,QAAAC,MAAAyE,GAAA,EAAiC,IAAxBgF,GAAwB7E,EAAA1E,KAC/BuJ,GAAMtJ,aAAa,QAAQ,IAFoB,MAAAC,GAAAsE,GAAA,EAAAC,EAAAvE,EAAA,aAAAqE,GAAAI,EAAAxE,QAAAwE,EAAAxE,SAAA,WAAAqE,EAAA,KAAAC,MALf,MAAAvE,GAAAb,GAAA,EAAAC,EAAAY,EAAA,aAAAd,GAAAK,EAAAU,QAAAV,EAAAU,SAAA,WAAAd,EAAA,KAAAC,IAUpC,GAAIkK,GAASnM,EAAGoM,UACZD,IACJnM,EAAGqM,QAAQ9H,YAAYvE,IAGzB2D,EAAUkB,aAAe,SAAS7E,GAChC,GAAIgM,GAAWhM,EAAG6I,aAAa,WAC3BmD,GAAS/B,KAAM,MACZjK,EAAG+L,aACN/L,EAAG+L,WAAa,GAAIxM,OAAM+M,SAE5BtM,EAAG+L,WAAWE,KAAKD,IAErBhM,EAAG6D,QAAS,EACZ7D,EAAG4C,aAAa,WAAY,wBAC5B5C,EAAG4C,aAAa,WAAYG,SAAU,KAGxCY,EAAUwB,gBAAkB,SAASnF,GACnC,GAAImM,GAASnM,EAAGoM,UACXD,IACLA,EAAOI,YAAYvM,IAGrB2D,EAAUoB,aAAe,SAAS/E,GAC5BA,EAAG+L,YACL/L,EAAGS,SAASuL,SAASC,KAAKjM,EAAG+L,YAE/B/L,EAAG6D,QAAS,EACZ7D,EAAGwM,gBAAiB,CACpB,IAAIL,GAASnM,EAAGoM,UACXD,IAAUnM,EAAGqM,QAAQ9H,YAAYvE,EAPF,IAAA8I,IAAA,EAAAC,GAAA,EAAAC,EAAA9G,MAAA,KAQpC,OAAA+G,GARoCwD,EAAA,WAYlC,QAASC,KACPzF,EAAKQ,SAAS,GAAG3B,oBAAoB,eAAgB4G,GACrDC,WAAW,WACT1F,EAAKQ,SAAS,GAAG7E,aAAa,UAAWG,SAAU,MACnDnB,EAAMyB,KAAKM,EAAU3D,GAAI,WACzBA,EAAGwM,gBAAiB,GACnB,IAlB6B,GAQ5BvF,GAR4BgC,EAAAtG,MAAAiK,GAAA,EAAAC,GAAA,EAAAC,EAAA5K,MAAA,KASlC,OAAA6K,GAAAC,EAAkB/F,EAAKQ,SAAvBnF,OAAAC,cAAAqK,GAAAG,EAAAC,EAAAxK,QAAAC,MAAAmK,GAAA,EAAiC,IAAxBV,GAAwBa,EAAApK,KAC/BuJ,GAAMtJ,aAAa,QAAQ,IAVK,MAAAC,GAAAgK,GAAA,EAAAC,EAAAjK,EAAA,aAAA+J,GAAAI,EAAAlK,QAAAkK,EAAAlK,SAAA,WAAA+J,EAAA,KAAAC,IAoBlC7F,EAAKQ,SAAS,GAAG7E,aAAa,UAAWG,SAAU,MACnDkE,EAAKQ,SAAS,GAAGrC,iBAAiB,eAAgBsH,IAbpDxD,EAAgBlJ,EAAGgD,iBAAiB,aAApCV,OAAAC,cAAAuG,GAAAG,EAAAC,EAAA1G,QAAAC,MAAAqG,GAAA,EAAmD2D,IARf,MAAA5J,GAAAkG,GAAA,EAAAC,EAAAnG,EAAA,aAAAiG,GAAAI,EAAApG,QAAAoG,EAAApG,SAAA,WAAAiG,EAAA,KAAAC,MAyBtCrF,EAAUsB,gBAAkB,SAASjF,GACnCA,EAAGwM,gBAAiB,CADmB,IAAAS,IAAA,EAAAC,GAAA,EAAAC,EAAAjL,MAAA,KAEvC,OAAAkL,GAFuCC,EAAA,WAOrC,QAASX,KACPzF,EAAKQ,SAAS,GAAG3B,oBAAoB,eAAgB4G,GACrDC,WAAW,WACT,QAASD,KACPzF,EAAKQ,SAAS,GAAG3B,oBAAoB,eAAgB4G,GACrD/I,EAAUkB,aAAa7E,GACvB4B,EAAMyB,KAAKM,EAAU3D,GAAI,cACzBA,EAAGwM,gBAAiB,EAEtBvF,EAAKQ,SAAS,GAAG7E,aAAa,WAAYG,SAAU,MACpDkE,EAAKQ,SAAS,GAAGrC,iBAAiB,eAAgBsH,IACjD,IAlBgC,GAE/BzF,GAF+BmG,EAAAzK,MAAA2K,GAAA,EAAAC,GAAA,EAAAC,EAAAtL,MAAA,KAGrC,OAAAuL,GAAAC,EAAkBzG,EAAKQ,SAAvBnF,OAAAC,cAAA+K,GAAAG,EAAAC,EAAAlL,QAAAC,MAAA6K,GAAA,EAAiC,IAAxBpB,GAAwBuB,EAAA9K,KAC/BuJ,GAAMtJ,aAAa,QAAQ,IAJQ,MAAAC,GAAA0K,GAAA,EAAAC,EAAA3K,EAAA,aAAAyK,GAAAI,EAAA5K,QAAA4K,EAAA5K,SAAA,WAAAyK,EAAA,KAAAC,IAMrCxN,EAAG6D,QAAS,EAcZoD,EAAKQ,SAAS,GAAG7E,aAAa,WAAYG,SAAU,MACpDkE,EAAKQ,SAAS,GAAGrC,iBAAiB,eAAgBsH,IAnBpDiB,EAAgB3N,EAAGgD,iBAAiB,aAApCV,OAAAC,cAAA0K,GAAAG,EAAAO,EAAAnL,QAAAC,MAAAwK,GAAA,EAAmDI,IAFZ,MAAAxK,GAAAqK,GAAA,EAAAC,EAAAtK,EAAA,aAAAoK,GAAAU,EAAA7K,QAAA6K,EAAA7K,SAAA,WAAAoK,EAAA,KAAAC,MA4BzCxJ,EAAUgH,aAAe,SAAC3K,GACxBA,EAAGoF,iBAAiB,QAASzB,EAAUiK,UACvC5N,EAAGoF,iBAAiB,YAAazB,EAAUkK,SAC3C7N,EAAGoF,iBAAiB,UAAWzB,EAAUmK,QACzC9N,EAAGoF,iBAAiB,wBAAyBzB,EAAUoK,OACvD/N,EAAGoF,iBAAiB,gCAAiCzB,EAAUmK,SAQjEnK,EAAUiK,SAAW,WACdjK,EAAU3D,GAAGJ,KAAKmE,MACrBH,EAAIiK,QAAQlK,EAAU3D,GAGxB,IAAIrB,GAAOU,KAAKwJ,aAAa,YACzBlG,EAAQtD,KAAKwJ,aAAa,YAEjB,UAATlK,GAA4B,aAATA,GACR,aAATA,IAAuBgE,EAAQ,KAC/BgB,EAAUqK,gBACZrL,EAAQA,EAAMsL,cACdtK,EAAUuK,eAEHvK,EAAUwK,WACjBxK,EAAUyK,gBAEZxM,EAAMyB,KAAKM,EAAU3D,GAAI,QAAS2C,IAElB,UAAThE,EACPgF,EAAUuK,cAEM,WAATvP,EACPgF,EAAUyK,gBAEM,cAATzP,EACPiD,EAAMyB,KAAKM,EAAU3D,GAAI,aAET,UAATrB,GACPiD,EAAMyB,KAAKM,EAAU3D,GAAI,QAAS,MAClC4B,EAAMyB,KAAKM,EAAU3D,GAAI,QAAS,OAElB,YAATrB,GACPiD,EAAMyB,KAAKM,EAAU3D,GAAI,YAO7B2D,EAAUkK,QAAU,WACdlK,EAAU3D,GAAGwM,iBACjBnN,KAAKoB,SAASuL,SAASqC,EAAI,KACW,aAAlChP,KAAKwJ,aAAa,YACpBxJ,KAAKuD,aAAa,QAAS8G,EAAOmC,uBAElCxM,KAAKuD,aAAa,QAAS8G,EAAOkC,oBAOtCjI,EAAUoK,MAAQ,WACZpK,EAAU3D,GAAGwM,gBACbnN,KAAKoB,SAASgH,SAAS,IAAMpI,KAAKoB,SAASgH,SAAS,GAAGpH,WAAahB,KAAKoB,SAASgH,SAAS,GAAGpH,SAASlB,UAGtGwE,EAAU3D,GAAGJ,KAAKmE,MACrBH,EAAImK,MAAMpK,EAAU3D,IAEgB,aAAlCX,KAAKwJ,aAAa,YACpBxJ,KAAKuD,aAAa,QAAS8G,EAAOoC,0BAElCzM,KAAKuD,aAAa,QAAS8G,EAAOiC,uBAOtChI,EAAUmK,OAAS,WACjBzO,KAAKoB,SAASuL,SAASqC,EAAI,EACW,aAAlChP,KAAKwJ,aAAa,YACpBxJ,KAAKuD,aAAa,QAAS8G,EAAOkC,kBAElCvM,KAAKuD,aAAa,QAAS8G,EAAOE,iBAOtCjG,EAAUqK,gBAAiB,EAC3BrK,EAAUuK,YAAc,WACtBvK,EAAUqK,gBAAkBrK,EAAUqK,cAEtC,IAAIhD,GAAUrH,EAAU3D,GAAGkL,SAASrE,cAAc,cAC9ClD,GAAUqK,eACZhD,EAAQpI,aAAa,MAAO4G,EAAOgC,2BAEnCR,EAAQpI,aAAa,MAAO4G,EAAOyB,oBAPJ,IAAAqD,IAAA,EAAAC,GAAA,EAAAC,EAAAtM,MAAA,KAUjC,OAAAuM,GAAAC,EAAmBjJ,SAASzC,iBAAiB,YAA7CV,OAAAC,cAAA+L,GAAAG,EAAAC,EAAAlM,QAAAC,MAAA6L,GAAA,EAA2D,IAAjDK,GAAiDF,EAAA9L,MACrDoH,EAAS4E,EAAM9F,aAAa,UAAW+F,EAAWD,EAAM9F,aAAa,WACzE,IAAIkB,EAAO8E,WAAW,UAAyB,SAAbD,EAAqB,CACrD,GAAIE,GAASH,EAAM9H,cAAc,SACjC,IAAIiI,EAAQ,CACV,GAAInM,GAAQmM,EAAOjG,aAAa,SAASkG,aACrC1P,MAAK2O,iBAAkBrL,EAAQA,EAAMsL,eACzCa,EAAOlM,aAAa,QAASD,MAjBF,MAAAE,GAAA0L,GAAA,EAAAC,EAAA3L,EAAA,aAAAyL,GAAAI,EAAA5L,QAAA4L,EAAA5L,SAAA,WAAAyL,EAAA,KAAAC,MA0BnC7K,EAAUwK,WAAY,EACtBxK,EAAUyK,cAAgB,WAExB,GADAzK,EAAUwK,WAAaxK,EAAUwK,UAC5BxK,EAAUwK,UAOR,CACL,GAAIhC,GAASxI,EAAU3D,GAAGqE,mBAAmB+H,UAC7CD,GAAOI,YAAY5I,EAAU3D,GAAGqE,oBAChC8H,EAAO5H,YAAYZ,EAAU3D,GAAGsE,mBAVR,CACxB,GAAI6H,GAASxI,EAAU3D,GAAGsE,cAAc8H,UACxCD,GAAOI,YAAY5I,EAAU3D,GAAGsE,eAChC6H,EAAO5H,YAAYZ,EAAU3D,GAAGqE,oBAChCsI,WAAW,WACTlG,EAAM1G,cAAc4D,EAAU3D,GAAGqE,mBAAoB,IACpD,KAUP/G,EAAOD,QAAUsG,GZ6nCX,SAAUrG,EAAQD,EAASH,GAEhC,Yah3CD,IAAIsM,GAAStM,EAAQ,IAEf0G,GAEJxE,KAAM,SAAS+M,GACb,GAAInM,GAAKyF,SAASuB,cAAc,UAChChH,GAAG4C,aAAa,MAAO,4BACvB5C,EAAG4C,aAAa,OAAO,GACvB5C,EAAG4C,aAAa,MAAO4G,EAAOiC,qBAC9BzL,EAAG4C,aAAa,WAAY,SAC5BuJ,EAAO5H,YAAYvE,GAEnBA,EAAKyF,SAASuB,cAAc,WAC5BhH,EAAG4C,aAAa,MAAO,8BACvB5C,EAAG4C,aAAa,OAAO,GACvB5C,EAAG4C,aAAa,MAAO4G,EAAOkC,uBAC9B1L,EAAG4C,aAAa,WAAY,SAC5BuJ,EAAO5H,YAAYvE,IAGrB+N,MAAO,SAAS5B,GACd,GAAInM,GAAKmM,EAAOtF,cAAc,iCACzB7G,KACLA,EAAGsJ,WAAW0F,MAAMC,YACpBjP,EAAGsJ,WAAW0F,MAAME,cAGtBrB,QAAS,SAAS1B,GAChB,GAAInM,GAAKmM,EAAOtF,cAAc,mCACzB7G,KACLA,EAAGsJ,WAAW0F,MAAMC,YACpBjP,EAAGsJ,WAAW0F,MAAME,cAIxB5R,GAAOD,QAAUuG,Gb03CX,SAAUtG,EAAQD,GAEvB,Yc/5CDC,GAAOD,SACL4N,oBAAwBpN,OAAOC,YAA/B,wBACA0N,0BAA8B3N,OAAOC,YAArC,8BACAqN,qBAAyBtN,OAAOC,YAAhC,yBACAsN,wBAA4BvN,OAAOC,YAAnC,4BACAwN,oBAAwBzN,OAAOC,YAA/B,wBACAyN,sBAA0B1N,OAAOC,YAAjC,0BACA+M,qBAAyBhN,OAAOC,YAAhC,wBACA2N,oBAAwB5N,OAAOC,YAA/B,oBACA4N,sBAA0B7N,OAAOC,YAAjC,wBds6CI,SAAUR,EAAQD,EAASH,GAEhC,Yej7CD,IAAMuJ,GAAQvJ,EAAQ,GAChB0E,EAAQ1E,EAAQ,EAOtBW,QAAOS,kBAAkB,SACvBC,QACEoE,OAAShE,KAAM,SAAUF,QAAS,IAClC6E,MAAQ3E,KAAM,SAAUF,QAAS,IACjC0Q,UAAYxQ,KAAM,UAAWF,SAAS,GACtCS,OAASP,KAAM,QAASF,QAAS,QACjC2Q,OAASzQ,KAAM,SAAUF,QAAS,QAClC4Q,MAAQ1Q,KAAM,SAAUF,QAAS,IACjC6Q,eAAiB3Q,KAAM,MAAOF,QAAS,GACvC8Q,YAAc5Q,KAAM,SAAUF,QAAS,IACvCU,SAAWR,KAAM,SAAUF,QAAS,GACpCoB,MAAQlB,KAAM,SAAUF,QAAS,SACjC+Q,SAAW7Q,KAAM,MAAOF,QAAS,GACjCgR,aAAe9Q,KAAM,SAAUF,QAAS,IACxCiR,kBAAoB/Q,KAAM,QAASF,QAAS,QAC5CkR,WAAahR,KAAM,MAAOF,QAAS,GACnCE,MAAQA,KAAM,SAAUF,QAAS,QACjCC,OAASC,KAAM,SAAUF,QAAS,GAClCmR,aAAejR,KAAM,SAAUF,QAAS,KACxCoR,cAAgBlR,KAAM,SAAUF,QAAS,KACzCqR,aAAenR,KAAM,QAASF,QAAS,WACvCsR,iBAAmBpR,KAAM,QAASF,QAAS,QAC3CuR,mBAAqBrR,KAAM,SAAUF,QAAS,IAGhDW,KAAM,WACJ,GAAI6E,GAAO5E,IAEXA,MAAK4Q,WAAaxK,SAASuB,cAAc,aACzC3H,KAAK4Q,WAAWrN,aAAa,SAAU,KACvCvD,KAAK4Q,WAAWrN,aAAa,SAAU,KACvCvD,KAAK4Q,WAAWrN,aAAa,OAAQ,UACrCvD,KAAKW,GAAGuE,YAAYlF,KAAK4Q,YAEzB5Q,KAAK6Q,OAASzK,SAASuB,cAAc,WACrC3H,KAAK6Q,OAAOtN,aAAa,WAAY,aACrCvD,KAAK6Q,OAAOtN,aAAa,WAAW,GACpCvD,KAAKW,GAAGuE,YAAYlF,KAAK6Q,QAEzB7Q,KAAKqD,KAAO+C,SAASuB,cAAc,YACnC3H,KAAKW,GAAGuE,YAAYlF,KAAKqD,MAEzBrD,KAAKoQ,YAAchK,SAASuB,cAAc,YAC1C3H,KAAKoQ,YAAY7M,aAAa,WAAW,GACzCvD,KAAKW,GAAGuE,YAAYlF,KAAKoQ,aAEzBpQ,KAAKW,GAAGmQ,MAAQ9Q,KAAK8Q,MAAM7K,KAAKjG,MAChCA,KAAKW,GAAGiG,KAAO5G,KAAK4G,KAAKX,KAAKjG,MAC9BA,KAAKW,GAAG+F,aAAe1G,KAAK0G,aAAaT,KAAKjG,MAC9CA,KAAKW,GAAGgG,WAAa3G,KAAK2G,WAAWV,KAAKjG,MAG1CA,KAAK+Q,QAEL/Q,KAAKW,GAAGoF,iBAAiB,QAAS,WAC5B/F,KAAKiK,WAAW+G,MAAMzQ,KAAKuP,UAC/BlL,EAAKkM,UAGP/H,OAAOK,eAAepJ,KAAKW,GAAI,SAC7BsQ,IAAK,WAAa,MAAOjR,MAAKwJ,aAAa,UAC3C0H,IAAK,SAAS5N,GAAStD,KAAKuD,aAAa,QAASD,IAClD6N,YAAY,EACZC,cAAc,KAGlBL,MAAO,WACL,GAAInM,GAAO5E,IACX,OAAKA,MAAKqR,eAMVrR,KAAKsR,eAAiBC,YAAY,WAChC3M,EAAKiM,OAAOtN,aAAa,WAAYqB,EAAKiM,OAAOrH,aAAa,aAC7D,OAPD5E,EAAKiM,OAAOtN,aAAa,WAAW,GACpCiO,cAAcxR,KAAKsR,qBACnBtR,KAAKsR,eAAiB,QAO1BD,WAAW,EACXP,MAAO,SAASW,GACVzR,KAAKqR,YACTrR,KAAKqR,WAAY,EACjBrR,KAAK6Q,OAAOtN,aAAa,WAAW,GACpCvD,KAAK+Q,QACLxO,EAAMyB,KAAKhE,KAAKW,GAAI,SACf8Q,GAAUlP,EAAMyB,KAAKoC,SAASE,KAAM,gBAAiBtG,KAAKW,MAEjEiG,KAAM,SAAS6K,GACRzR,KAAKqR,YACVrR,KAAKqR,WAAY,EACbrR,KAAKsR,iBACPE,cAAcxR,KAAKsR,gBACnBtR,KAAKsR,eAAiB,MAExBtR,KAAK6Q,OAAOtN,aAAa,WAAW,GACpChB,EAAMyB,KAAKhE,KAAKW,GAAI,QACf8Q,GAAUlP,EAAMyB,KAAKoC,SAASE,KAAM,eAAgBtG,KAAKW,MAEhE+F,aAAc,SAASnG,GACrB,GAAY,OAATA,EACD,MAAOP,MAAK4G,MAEd,IAAI8K,GAAM1R,KAAKW,GAAG6I,aAAa,QAC1BkI,KAAOA,EAAM,IAClBA,GAAUnR,EACVP,KAAKW,GAAG4C,aAAa,QAASmO,GAC9BnP,EAAMyB,KAAKhE,KAAKW,GAAI,SAAU+Q,IAEhC/K,WAAY,WACV,GAAI+K,GAAM1R,KAAKW,GAAG6I,aAAa,QAC1BkI,KAAOA,EAAM,IAClBA,EAAMA,EAAI5I,MAAM,GAAG,GACnB9I,KAAKW,GAAG4C,aAAa,QAASmO,GAC9BnP,EAAMyB,KAAKhE,KAAKW,GAAI,SAAU+Q,IAEhCC,WAAY,WAsDV,QAASC,GAAajR,EAAIJ,EAAMsR,EAAWC,GACzC,IAAKnR,EAAGS,WAAaT,EAAGS,SAASgH,WAAazH,EAAGS,SAASgH,SAAS,GAAM,MAAO,EAChF,IAAI2J,GAAIpR,EAAGS,SAASgH,SAAS,GAAGrH,SAASiR,aACzC,KAAKD,EAAK,MAAO,EAEjB,IADAA,EAAIA,EAAEA,EAAE/K,OAAO,IACV+K,EAAK,MAAO,EACjB,IAAIA,EAAEE,KAOJ,MANIJ,GACFtR,EAAK+C,MAAQ/C,EAAK+C,MAAM4O,OAAO,GAE/B3R,EAAK+C,MAAQ/C,EAAK+C,MAAMwF,MAAM,GAAG,GAEnCnI,EAAG4C,aAAa,OAAQhD,GACjBqR,EAAajR,EAAIJ,EAAMsR,EAEzBC,KAAgBA,EAAe1K,EAAM0C,eAAenJ,EAAIJ,EAAKwJ,YAClEgI,GAAKA,EAAEpF,SAAS,GAAKoF,EAAExR,KAAKlB,QAAUyS,EAAalN,EAAKrE,KAAKlB,MAC7D,IAAI8S,IAAaJ,EAAEK,EAAQC,KAAKD,EAAQE,OAAS1N,EAAKrE,KAAKlB,KAE3D,OAAI8S,GAAY,GACVN,EACFtR,EAAK+C,MAAQ/C,EAAK+C,MAAM4O,OAAO,GAE/B3R,EAAK+C,MAAQ/C,EAAK+C,MAAMwF,MAAM,GAAG,GAEnCnI,EAAG4C,aAAa,OAAQhD,GACjBqR,EAAajR,EAAIJ,EAAMsR,EAAWC,IAGtCC,EAlFT,GAAInN,GAAO5E,KACPoS,GACFC,KAAM,KACNC,MAAO,MAGL/I,GACF1J,MAAOG,KAAKO,KAAKV,MACjBkQ,MAAO/P,KAAKO,KAAKwP,MACjBvP,KAAMR,KAAKO,KAAKC,KAChB2P,QAASnQ,KAAKO,KAAK4P,QACnBpG,UAAW,GAAG/J,KAAKO,KAAKlB,MACxBA,MAAOW,KAAKO,KAAKlB,OAKfkT,EAAOvS,KAAKqD,KAAKmG,aAAa,OAC9B+I,IACEvS,KAAKO,KAAK+C,QAAUiP,EAAKjP,QACvBtD,KAAKsR,iBACPE,cAAcxR,KAAKsR,gBACnBtR,KAAKsR,eAAiB,MAEpBtR,KAAKwS,cACPC,aAAazS,KAAKwS,aAClBxS,KAAKwS,YAAc,MAErBxS,KAAK6Q,OAAOtN,aAAa,WAAW,GACpCvD,KAAKwS,YAAclF,WAAW,WAC5B1I,EAAKmM,SACJ,KAKH/Q,KAAKO,KAAK+P,WACZ/G,EAAMjG,MAAQtD,KAAKO,KAAK+C,MAAMoP,UAAU,EAAG1S,KAAKO,KAAK+P,WACrDtQ,KAAKW,GAAG4C,aAAa,QAASgG,EAAMjG,QAEpCiG,EAAMjG,MAAQtD,KAAKO,KAAK+C,MAGH,aAAnBtD,KAAKO,KAAKjB,OACZiK,EAAMjG,MAAQ,IAAIqP,OAAO3S,KAAKO,KAAK+C,MAAM0D,SAGvChH,KAAKO,KAAKyP,KAAKhJ,SAAUuC,EAAMyG,KAAOhQ,KAAKO,KAAKyP,MAChDhQ,KAAKO,KAAK0P,gBAAiB1G,EAAM0G,cAAgBjQ,KAAKO,KAAK0P,eAC3DjQ,KAAKO,KAAK2P,WAAWlJ,SAAUuC,EAAM2G,WAAalQ,KAAKO,KAAK2P,YAChElQ,KAAKqD,KAAKE,aAAa,WAAW,GAClCvD,KAAKqD,KAAKE,aAAa,OAAQgG,GAmC3BA,EAAMjG,MAAM0D,OACdhH,KAAKoQ,YAAY7M,aAAa,WAAW,GAEzCvD,KAAKoQ,YAAY7M,aAAa,WAAW,EAG3C,IAAIqP,GAAoBxL,EAAMuB,MAAMY,EACpCqJ,GAAkBtP,MAAQtD,KAAKO,KAAK6P,YACpCwC,EAAkB/S,MAAQG,KAAKO,KAAK8P,iBACpCrQ,KAAKoQ,YAAY7M,aAAa,OAAQqP,GAEtCtF,WAAW,WACT,GAAI1I,EAAKvB,KAAKjC,SAAU,CACtB,GAAIgH,GAAWxD,EAAKvB,KAAKjC,SAASgH,QAClC,IAAIA,EAAS,IAAMA,EAAS,GAAGrH,UAAYqH,EAAS,GAAGrH,SAASiR,cAAe,CAC7E,GAAID,GAAI,CACJ3J,GAAS,GAAGrH,SAASiR,cAAchL,SACrC+K,EAAIH,EAAahN,EAAKvB,KAAMkG,GAAO,GACnC3E,EAAKvB,KAAKE,aAAa,WAAW,IAEpCqB,EAAKiM,OAAOtN,aAAa,WAAYwO,EAAEK,EAAQC,KAAK,gBAEpDzN,GAAKiM,OAAOtN,aAAa,WAAY6O,EAAQC,KAAK,gBAE5CzN,GAAKiM,OAAOtN,aAAa,WAAY6O,EAAQC,KAAK,WAC5DT,GAAahN,EAAKwL,YAAawC,IAC9B,GAEH5S,KAAK4Q,WAAWrN,aAAa,QAASvD,KAAKO,KAAKmQ,iBAMhD1Q,KAAK4Q,WAAWrN,aAAa,QAASvD,KAAKO,KAAKlB,OAEhDW,KAAK4Q,WAAWrN,aAAa,WAAY,iBACzCvD,KAAKqD,KAAKE,aAAa,WAAY6O,EAAQC,KAAK,KAAMrS,KAAKO,KAAKlB,MAAM,EAAE,YACxEW,KAAKoQ,YAAY7M,aAAa,WAAY6O,EAAQC,KAAK,KAAMrS,KAAKO,KAAKlB,MAAM,EAAE,aAEjFwT,aAAc,WACZ7S,KAAK6Q,OAAOtN,aAAa,QAASvD,KAAKO,KAAKgQ,aAC5CvQ,KAAK6Q,OAAOtN,aAAa,SAAUvD,KAAKO,KAAKiQ,cAC7CxQ,KAAK6Q,OAAOtN,aAAa,QAASvD,KAAKO,KAAKkQ,cAE9C5P,OAAQ,WAENyM,WAAW,aAER,GAEHtN,KAAK6S,eACL7S,KAAK2R,cAEPzQ,KAAM,aACNC,OAAQ,aACRW,MAAO,aACPC,KAAM,eAGRvD,OAAOwD,kBAAkB,WACvBC,mBACE+O,UAEF9O,UACEoB,MAAO,cACPW,KAAM,aACN6L,SAAU,iBACVjQ,MAAO,cACPkQ,MAAO,cACPC,KAAM,aACN8C,iBAAkB,sBAClBC,cAAe,mBACfjT,QAAW,gBACXU,KAAQ,aACRwS,WAAY,gBACZ5C,YAAa,oBACb6C,oBAAqB,yBACrBC,aAAc,kBACd5T,KAAM,aACND,MAAO,cACP8T,eAAgB,oBAChBC,gBAAiB,qBACjBC,eAAgB,oBAChBC,mBAAoB,wBACpBC,qBAAsB,8Bfy9CpB,SAAUtV,EAAQD,EAASH,GAEhC,YgBlwDD,IAAMuJ,GAAQvJ,EAAQ,GAChB0E,EAAQ1E,EAAQ,GAChBsM,EAAStM,EAAQ,IACjB0G,EAAM1G,EAAQ,GAEpBW,QAAOS,kBAAkB,UACvBC,QACE+E,MAAQ3E,KAAM,SAAUF,QAAS,IACjCD;AAAWG,KAAM,UAAWF,SAAS,GACrC0Q,UAAYxQ,KAAM,UAAWF,SAAS,GACtCoU,WAAalU,KAAM,QAASF,QAAS,WACrCqU,WAAanU,KAAM,QAASF,QAAS,WACrCsU,kBAAoBpU,KAAM,QAASF,QAAS,WAC5CuU,kBAAoBrU,KAAM,QAASF,QAAS,WAC5CwU,mBAAqBtU,KAAM,QAASF,QAAS,WAC7CyU,mBAAqBvU,KAAM,QAASF,QAAS,WAC7CsF,MAAQpF,KAAM,UAAWF,SAAS,IAEpCW,KAAM,WAIJqH,EAAMC,cAAe8C,GAGhBnK,KAAKO,KAAKmE,MACbH,EAAIxE,KAAKC,KAAKW,IAIhBX,KAAKW,GAAGmT,KAAO1N,SAASuB,cAAc,aACtC3H,KAAKW,GAAGmT,KAAKvQ,aAAa,QAAS,KACnCvD,KAAKW,GAAGmT,KAAKvQ,aAAa,SAAU,KACpCvD,KAAKW,GAAGmT,KAAKvQ,aAAa,SAAU,KACpCvD,KAAKW,GAAGmT,KAAKvQ,aAAa,OAAQ,UAClCvD,KAAKW,GAAGmT,KAAKvQ,aAAa,WAAY,YACtCvD,KAAKW,GAAGuE,YAAYlF,KAAKW,GAAGmT,MAG5B9T,KAAKW,GAAGoT,KAAO3N,SAASuB,cAAc,YACtC3H,KAAKW,GAAGoT,KAAKxQ,aAAa,WAAY,kBACtCvD,KAAKW,GAAGoT,KAAKxQ,aAAa,SAAU,KACpCvD,KAAKW,GAAGoT,KAAKxQ,aAAa,OAAQ,UAClCvD,KAAKW,GAAGuE,YAAYlF,KAAKW,GAAGoT,MAG5B/T,KAAKW,GAAG4K,UAAYnF,SAASuB,cAAc,WAC3C3H,KAAKW,GAAG4K,UAAUhI,aAAa,QAAS,IACxCvD,KAAKW,GAAG4K,UAAUhI,aAAa,SAAU,IACzCvD,KAAKW,GAAG4K,UAAUhI,aAAa,WAAY,cAC3CvD,KAAKW,GAAG4K,UAAUhI,aAAa,MAAO,uBACtCvD,KAAKW,GAAGoT,KAAK7O,YAAYlF,KAAKW,GAAG4K,WAEjCvL,KAAKW,GAAGoF,iBAAiB,QAAS,WAC5B/F,KAAKiK,WAAW+J,OAAOzT,KAAKuP,WAChC9P,KAAKuD,aAAa,WAAYvD,KAAKiK,WAAW+J,OAAOzT,KAAKpB,SAC1DoD,EAAMyB,KAAKhE,KAAM,SAAUA,KAAKiK,WAAW+J,OAAOzT,KAAKpB,YAEzDa,KAAKW,GAAGoF,iBAAiB,YAAa,WACpC,GAAI/F,KAAKiK,WAAW+J,OAAOzT,KAAKuP,UAC9B,IAAK9P,KAAKO,KAAKmE,KACb,MAAOH,GAAI0P,cAAcjU,UAIxBA,MAAKO,KAAKmE,MACbH,EAAI2P,MAAMlU,QAId+I,OAAOK,eAAepJ,KAAKW,GAAI,WAC7BsQ,IAAK,WAAa,MAAOjR,MAAKwJ,aAAa,YAC3C0H,IAAK,SAAS5N,GAAStD,KAAKuD,aAAa,UAAWD,IACpD6N,YAAY,EACZC,cAAc,KAGlB+C,GAAI,WACFnU,KAAKW,GAAGmT,KAAKvQ,aAAa,QAASvD,KAAKO,KAAKmT,kBAC7C1T,KAAKW,GAAGoT,KAAKxQ,aAAa,WAAY,kBACtCvD,KAAKW,GAAGoT,KAAKxQ,aAAa,QAASvD,KAAKO,KAAKoT,mBAE/CS,IAAK,WACHpU,KAAKW,GAAGmT,KAAKvQ,aAAa,QAASvD,KAAKO,KAAKiT,WAC7CxT,KAAKW,GAAGoT,KAAKxQ,aAAa,WAAY,kBACtCvD,KAAKW,GAAGoT,KAAKxQ,aAAa,QAASvD,KAAKO,KAAKkT,YAE/CY,QAAS,WACPrU,KAAKW,GAAGmT,KAAKvQ,aAAa,QAASvD,KAAKO,KAAKqT,mBAC7C5T,KAAKW,GAAGoT,KAAKxQ,aAAa,QAASvD,KAAKO,KAAKsT,oBAE/ChT,OAAQ,WACFb,KAAKO,KAAKpB,QACZa,KAAKmU,KAELnU,KAAKoU,MAEHpU,KAAKO,KAAKuP,UACZ9P,KAAKqU,WAGTnT,KAAM,aACNC,OAAQ,aACRW,MAAO,aACPC,KAAM,eAGRvD,OAAOwD,kBAAkB,YACvBC,mBACE+R,WAEF9R,UACE+B,KAAM,cACN9E,QAAS,iBACT2Q,SAAU,kBACVwE,aAAc,mBACdC,aAAc,mBACdC,qBAAsB,0BACtBC,qBAAsB,0BACtBC,sBAAuB,2BACvBC,sBAAuB,2BACvBjQ,KAAM,kBhBgxDJ,SAAUzG,EAAQD,GAEvB,YiB34DDC,GAAOD,UACHsB,KAAM,MAAOpB,GAAI,qBAAsBqK,IAAQ/J,OAAOC,YAAf,6BACvCa,KAAM,QAASpB,GAAI,oBAAqBqK,IAAQ/J,OAAOC,YAAf,2BACxCa,KAAM,QAASpB,GAAI,4BAA6BqK,IAAQ/J,OAAOC,YAAf,qCjB84D9C,SAAUR,EAAQD,GAEvB,YkBn5DD,IAAMuG,IAEJxE,KAAM,SAAS+M,GACb,GAAInM,GAAKyF,SAASuB,cAAc,UAChChH,GAAG4C,aAAa,MAAO,0BACvB5C,EAAG4C,aAAa,OAAO,GACvB5C,EAAG4C,aAAa,MAAO,sBACvB5C,EAAG4C,aAAa,WAAY,SAC5BuJ,EAAO5H,YAAYvE,GAEnBA,EAAKyF,SAASuB,cAAc,WAC5BhH,EAAG4C,aAAa,MAAO,kCACvB5C,EAAG4C,aAAa,OAAO,GACvB5C,EAAG4C,aAAa,MAAO,8BACvB5C,EAAG4C,aAAa,WAAY,SAC5BuJ,EAAO5H,YAAYvE,IAGrBuT,MAAO,SAASpH,GACd,GAAInM,GAAKmM,EAAOtF,cAAc,+BACzB7G,KACLA,EAAGsJ,WAAW0F,MAAMC,YACpBjP,EAAGsJ,WAAW0F,MAAME,cAGtBoE,cAAe,SAASnH,GACtB,GAAInM,GAAKmM,EAAOtF,cAAc,uCACzB7G,KACLA,EAAGsJ,WAAW0F,MAAMC,YACpBjP,EAAGsJ,WAAW0F,MAAME,cAIxB5R,GAAOD,QAAUuG,GlB65DX,SAAUtG,EAAQD,EAASH,GAEhC,YmBh8DaA,GAAQ,GACRA,EAAQ,EAEtBW,QAAOS,kBAAkB,QACvBC,UAEAa,KAAM,aAENc,OAAQ,aAERK,KAAM,aACNC,OAAQ,aACRW,MAAO,aACPC,KAAM,eAGRvD,OAAOwD,kBAAkB,UACvBC,mBACE2S,SAEF1S,enBo8DI,SAAUjE,EAAQD,EAASH,GAEhC,YoB19DD,IAAMuJ,GAAQvJ,EAAQ,GAChB0E,EAAQ1E,EAAQ,GAChBsM,EAAStM,EAAQ,IACjB0G,EAAM1G,EAAQ,GAEpBW,QAAOS,kBAAkB,SACvBC,QACE2V,SAAWvV,KAAM,UAAWF,SAAS,GACrC0Q,UAAYxQ,KAAM,UAAWF,SAAS,GACtC6E,MAAQ3E,KAAM,SAAUF,QAAS,IACjCkE,OAAShE,KAAM,SAAUF,QAAS,IAClC0V,OAASxV,KAAM,SAAUF,QAAS,IAClC2V,YAAczV,KAAM,QAASF,QAAS,WACtC4V,mBAAqB1V,KAAM,QAASF,QAAS,WAC7CS,OAASP,KAAM,QAASF,QAAS,WACjC4Q,MAAQ1Q,KAAM,SAAUF,QAAS,IACjC6Q,eAAiB3Q,KAAM,MAAOF,QAAS,GACvC8Q,YAAc5Q,KAAM,SAAUF,QAAS,IACvCU,SAAWR,KAAM,SAAUF,QAAS,GACpCC,OAASC,KAAM,SAAUF,QAAS,GAClCsF,MAAQpF,KAAM,UAAWF,SAAS,IAEpCW,KAAM,WACJ,GAAI6E,GAAO5E,IAGXoH,GAAMC,cAAe8C,GAGhBnK,KAAKO,KAAKmE,MACbH,EAAIxE,KAAKC,KAAKW,IAIhBX,KAAKiV,OAAS7O,SAASuB,cAAc,WACrC3H,KAAKiV,OAAO1R,aAAa,SAAU,IACnCvD,KAAKiV,OAAO1R,aAAa,UAAW,GACpCvD,KAAKiV,OAAO1R,aAAa,WAAY,aACrCvD,KAAKW,GAAGuE,YAAYlF,KAAKiV,QAGzBjV,KAAKkV,QAAU9O,SAASuB,cAAc,UACtC3H,KAAKkV,QAAQ3R,aAAa,eAAgB,IAC1CvD,KAAKkV,QAAQ3R,aAAa,eAAgB,MAC1CvD,KAAKkV,QAAQ3R,aAAa,WAAY,eACtCvD,KAAKW,GAAGuE,YAAYlF,KAAKkV,SAGzBlV,KAAKmV,OAAS/O,SAASuB,cAAc,YACrC3H,KAAKmV,OAAO5R,aAAa,SAAU,KACnCvD,KAAKmV,OAAO5R,aAAa,WAAY,eACrCvD,KAAKW,GAAGuE,YAAYlF,KAAKmV,QAGzBnV,KAAK8U,MAAQ1O,SAASuB,cAAc,YACpC3H,KAAKW,GAAGuE,YAAYlF,KAAK8U,OAGzB9U,KAAKW,GAAGoF,iBAAiB,QAAS,WAC5B/F,KAAKiK,WAAWmL,MAAM7U,KAAKuP,WAC/B9P,KAAKuD,aAAa,WAAW,GAC7BqB,EAAKyQ,aAEPrV,KAAKW,GAAGoF,iBAAiB,YAAa,WACpC,GAAI/F,KAAKiK,WAAWmL,MAAM7U,KAAKuP,UAC7B,IAAK9P,KAAKO,KAAKmE,KACb,MAAOH,GAAI0P,cAAcjU,UAIxBA,MAAKO,KAAKmE,MACbH,EAAI2P,MAAMlU,QAId+I,OAAOK,eAAepJ,KAAKW,GAAI,SAC7BsQ,IAAK,WAAa,MAAOjR,MAAKwJ,aAAa,UAC3C0H,IAAK,SAAS5N,GAAStD,KAAKuD,aAAa,QAASD,IAClD6N,YAAY,EACZC,cAAc,KAGlBiE,QAAS,SAAS5D,GAChB,GAAIzR,KAAKO,KAAK0D,KAAM,CAClB,GAAIqR,GAActV,KAAKW,GAAG4U,QAAQ,SAClC,IAAID,EAAa,CACf,GAAIE,IAAW,EACXpN,EAAWF,MAAMC,KAAKmN,EAAY3R,iBAAZ,SAAsC3D,KAAKO,KAAK0D,KAAhD,KAC1BmE,GAASqN,SAHM,IAAA/S,IAAA,EAAAC,GAAA,EAAAC,EAAAC,MAAA,KAIf,OAAAC,GAAAC,EAAkBqF,EAAlBnF,OAAAC,cAAAR,GAAAI,EAAAC,EAAAI,QAAAC,MAAAV,GAAA,EAA4B,IAAnBmK,GAAmB/J,EAAAQ,KAEtBuJ,GAAM5C,WAAWmL,QAEfvI,IAAU7M,KAAKW,IAAMkM,EAAMvD,aAAa,YAC1CkM,GAAW,EACX3I,EAAM5C,WAAWmL,MAAMM,QAClBjE,GAAUlP,EAAMyB,KAAK6I,EAAO,UAAU,IAEtC2I,GAAaxV,KAAKO,KAAKsU,UAAWhI,EAAMvD,aAAa,WAIxDuD,EAAM5C,WAAWmL,MAAMO,WAHvBH,GAAW,EACX3I,EAAM5C,WAAWmL,MAAMM,WAfhB,MAAAlS,GAAAb,GAAA,EAAAC,EAAAY,EAAA,aAAAd,GAAAK,EAAAU,QAAAV,EAAAU,SAAA,WAAAd,EAAA,KAAAC,KAsBV4S,GAAYxV,KAAKW,GAAG2I,aAAa,aACpCtJ,KAAK0V,QACAjE,GAAUlP,EAAMyB,KAAKhE,KAAKW,GAAI,UAAU,OAKrD+U,MAAO,WACL1V,KAAKkV,QAAQ3R,aAAa,QAASvD,KAAKO,KAAKyU,mBAC7ChV,KAAKmV,OAAO5R,aAAa,QAASvD,KAAKO,KAAKyU,mBAC5ChV,KAAKmV,OAAO5R,aAAa,WAAW,GAChCvD,KAAKO,KAAKuP,UAAY9P,KAAK8P,YAEjC6F,QAAS,WACP3V,KAAKkV,QAAQ3R,aAAa,QAASvD,KAAKO,KAAKwU,YAC7C/U,KAAKmV,OAAO5R,aAAa,WAAW,GAChCvD,KAAKO,KAAKuP,UAAY9P,KAAK8P,YAEjCA,SAAU,WACR9P,KAAKkV,QAAQ3R,aAAa,QAASvD,KAAKO,KAAKwU,YAC7C/U,KAAKmV,OAAO5R,aAAa,QAASvD,KAAKO,KAAKwU,aAE9ClU,OAAQ,WAuBN,QAAS+Q,GAAajR,EAAImR,GACxB,IAAKnR,EAAGS,WAAaT,EAAGS,SAASgH,WAAazH,EAAGS,SAASgH,SAAS,GAAM,MAAO,EAChF,IAAI2J,GAAIpR,EAAGS,SAASgH,SAAS,GAAGrH,SAASiR,aACzC,KAAKD,EAAK,MAAO,EAEjB,IADAA,EAAIA,EAAEA,EAAE/K,OAAO,IACV+K,EAAK,MAAO,EACjB,IAAIA,EAAEE,KAGJ,MAFA1I,GAAMjG,MAAQiG,EAAMjG,MAAMwF,MAAM,GAAG,GACnCnI,EAAG4C,aAAa,OAAQgG,GACjBqI,EAAajR,EAEfmR,KAAgBA,EAAe1K,EAAM0C,eAAenJ,EAAI4I,EAAMQ,YACnEgI,GAAKA,EAAEpF,SAAS,GAAKoF,EAAExR,KAAKlB,QAAUyS,EAAalN,EAAKrE,KAAKlB,MAC7D,IAAI8S,GAAYJ,EAAInN,EAAKrE,KAAKlB,KAC9B,OAAI8S,GAAY,GACd5I,EAAMjG,MAAQiG,EAAMjG,MAAMwF,MAAM,GAAG,GACnCnI,EAAG4C,aAAa,OAAQgG,GACjBqI,EAAajR,EAAImR,IAGrBC,EA1CT,GAAInN,GAAO5E,IACXA,MAAKqV,SAAQ,GAGbrV,KAAKiV,OAAO1R,aAAa,QAASvD,KAAKO,KAAKlB,OAC5CW,KAAKiV,OAAO1R,aAAa,WAAYvD,KAAKO,KAAKlB,MAAM,EAAE,WAEvD,IAAIkK,IACF1J,MAAOG,KAAKO,KAAKV,MACjBkQ,MAAO,OACPhG,UAAW,IAAI/J,KAAKO,KAAKlB,MAAM,IAC/BA,MAAOW,KAAKO,KAAKlB,MAEfW,MAAKO,KAAKyP,OAAQzG,EAAMyG,KAAOhQ,KAAKO,KAAKyP,MAG7CzG,EAAMjG,MAAQtD,KAAKO,KAAKuU,MACxBvL,EAAM1J,MAAQG,KAAKO,KAAKV,MACxBG,KAAK8U,MAAMvR,aAAa,OAAQgG,GAChCvJ,KAAK8U,MAAMvR,aAAa,WAAYvD,KAAKO,KAAKlB,MAAM,EAAE,IAAK,YAyB3DiO,WAAW,WAIT,GAHI1I,EAAKrE,KAAKuU,MAAM9N,QAClB4K,EAAahN,EAAKkQ,OAEhBlQ,EAAKrE,KAAKuP,SACZ,GAAI8F,GAAQrE,YAAY,WAClB3M,EAAKsQ,QAAQ9T,SAASgH,SAAS,KACjCoJ,cAAcoE,GACdxO,EAAM1G,cAAckE,EAAKsQ,QAAS,IAClC9N,EAAM1G,cAAckE,EAAKuQ,OAAQ,IACjC/N,EAAM1G,cAAckE,EAAKkQ,MAAO,MAEjC,QAEH,IAAIc,GAAQrE,YAAY,WAClB3M,EAAKsQ,QAAQ9T,SAASgH,SAAS,KACjCoJ,cAAcoE,GACdxO,EAAM1G,cAAckE,EAAKsQ,QAAS,GAClC9N,EAAM1G,cAAckE,EAAKuQ,OAAQ,GACjC/N,EAAM1G,cAAckE,EAAKkQ,MAAO,KAEjC,KAEJ,IAEL5T,KAAM,aACNC,OAAQ,aACRW,MAAO,aACPC,KAAM,eAGRvD,OAAOwD,kBAAkB,WACvBC,mBACEmT,UAEFlT,UACE2S,QAAS,gBACT/E,SAAU,iBACV7L,KAAM,aACNX,MAAO,cACPwR,MAAO,cACPe,cAAe,mBACfC,sBAAuB,0BACvBjW,MAAO,cACPkQ,MAAO,cACPC,KAAM,aACN8C,iBAAkB,sBAClBC,cAAe,mBACfjT,QAAW,gBACXT,MAAO,cACPqF,KAAM,iBpBghEJ,SAAUzG,EAAQD,GAEvB,YqBlvEDC,GAAOD,UACHsB,KAAM,QAASpB,GAAI,mBAAoBqK,IAAQ/J,OAAOC,YAAf,2BACvCa,KAAM,QAASpB,GAAI,2BAA4BqK,IAAQ/J,OAAOC,YAAf,qCrBsvE7C,SAAUR,EAAQD,GAEvB,YsB1vED,IAAMuG,IAEJxE,KAAM,SAAS+M,GACb,GAAInM,GAAKyF,SAASuB,cAAc,UAChChH,GAAG4C,aAAa,MAAO,yBACvB5C,EAAG4C,aAAa,OAAO,GACvB5C,EAAG4C,aAAa,MAAO,qBACvB5C,EAAG4C,aAAa,WAAY,SAC5BuJ,EAAO5H,YAAYvE,GAEnBA,EAAKyF,SAASuB,cAAc,WAC5BhH,EAAG4C,aAAa,MAAO,iCACvB5C,EAAG4C,aAAa,OAAO,GACvB5C,EAAG4C,aAAa,MAAO,6BACvB5C,EAAG4C,aAAa,WAAY,SAC5BuJ,EAAO5H,YAAYvE,IAGrBuT,MAAO,SAASpH,GACd,GAAInM,GAAKmM,EAAOtF,cAAc,8BACzB7G,KACLA,EAAGsJ,WAAW0F,MAAMC,YACpBjP,EAAGsJ,WAAW0F,MAAME,cAGtBoE,cAAe,SAASnH,GACtB,GAAInM,GAAKmM,EAAOtF,cAAc,sCACzB7G,KACLA,EAAGsJ,WAAW0F,MAAMC,YACpBjP,EAAGsJ,WAAW0F,MAAME,cAIxB5R,GAAOD,QAAUuG,GtBowEX,SAAUtG,EAAQD,EAASH,GAEhC,YuBvyED,IAAMuJ,GAAQvJ,EAAQ,GAChB0E,EAAQ1E,EAAQ,GAChBsM,EAAStM,EAAQ,IACjB0G,EAAM1G,EAAQ,GAEpBW,QAAOS,kBAAkB,YACvBC,QACE2V,SAAWvV,KAAM,UAAWF,SAAS,GACrC0Q,UAAYxQ,KAAM,UAAWF,SAAS,GACtC6E,MAAQ3E,KAAM,SAAUF,QAAS,IACjCkE,OAAShE,KAAM,SAAUF,QAAS,IAClC0V,OAASxV,KAAM,SAAUF,QAAS,IAClC2W,eAAiBzW,KAAM,QAASF,QAAS,WACzC4W,sBAAwB1W,KAAM,QAASF,QAAS,WAChDS,OAASP,KAAM,QAASF,QAAS,WACjC4Q,MAAQ1Q,KAAM,SAAUF,QAAS,IACjC6Q,eAAiB3Q,KAAM,MAAOF,QAAS,GACvC8Q,YAAc5Q,KAAM,SAAUF,QAAS,IACvCU,SAAWR,KAAM,SAAUF,QAAS,GACpCC,OAASC,KAAM,SAAUF,QAAS,GAClCsF,MAAQpF,KAAM,UAAWF,SAAS,IAEpCW,KAAM,WACJ,GAAI6E,GAAO5E,IAGXoH,GAAMC,cAAe8C,GAGhBnK,KAAKO,KAAKmE,MACbH,EAAIxE,KAAKC,KAAKW,IAIhBX,KAAKiV,OAAS7O,SAASuB,cAAc,WACrC3H,KAAKiV,OAAO1R,aAAa,SAAU,IACnCvD,KAAKiV,OAAO1R,aAAa,UAAW,GACpCvD,KAAKW,GAAGuE,YAAYlF,KAAKiV,QAGzBjV,KAAKkV,QAAU9O,SAASuB,cAAc,aACtC3H,KAAKkV,QAAQ3R,aAAa,QAAS,IACnCvD,KAAKkV,QAAQ3R,aAAa,SAAU,IACpCvD,KAAKkV,QAAQ3R,aAAa,SAAU,KACpCvD,KAAKkV,QAAQ3R,aAAa,WAA1B,eACAvD,KAAKW,GAAGuE,YAAYlF,KAAKkV,SAGzBlV,KAAKiW,OAAS7P,SAASuB,cAAc,aACrC3H,KAAKiW,OAAO1S,aAAa,QAAS,MAClCvD,KAAKiW,OAAO1S,aAAa,SAAU,MACnCvD,KAAKiW,OAAO1S,aAAa,SAAU,KACnCvD,KAAKiW,OAAO1S,aAAa,QAAS,QAClCvD,KAAKiW,OAAO1S,aAAa,WAAe,sBACxCvD,KAAKW,GAAGuE,YAAYlF,KAAKiW,QAGzBjW,KAAKkW,UAAY9P,SAASuB,cAAc,WACxC3H,KAAKkW,UAAU3S,aAAa,QAAS,KACrCvD,KAAKkW,UAAU3S,aAAa,SAAU,KACtCvD,KAAKkW,UAAU3S,aAAa,MAAO,uBACnCvD,KAAKkW,UAAU3S,aAAa,WAAY,cACxCvD,KAAKW,GAAGuE,YAAYlF,KAAKkW,WAGzBlW,KAAK8U,MAAQ1O,SAASuB,cAAc,YACpC3H,KAAKW,GAAGuE,YAAYlF,KAAK8U,OAGzB9U,KAAKW,GAAGoF,iBAAiB,QAAS,WAC5B/F,KAAKiK,WAAWkM,SAAS5V,KAAKuP,WAClC9P,KAAKiK,WAAWkM,SAAS5V,KAAKsU,SAAW7U,KAAKiK,WAAWkM,SAAS5V,KAAKsU,QACvE7U,KAAKuD,aAAa,UAAWvD,KAAKiK,WAAWkM,SAAS5V,KAAKsU,SAC3DjQ,EAAKyQ,aAEPrV,KAAKW,GAAGoF,iBAAiB,YAAa,WACpC,GAAI/F,KAAKiK,WAAWkM,SAAS5V,KAAKuP,UAChC,IAAK9P,KAAKO,KAAKmE,KACb,MAAOH,GAAI0P,cAAcjU,UAIxBA,MAAKO,KAAKmE,MACbH,EAAI2P,MAAMlU,QAId+I,OAAOK,eAAepJ,KAAKW,GAAI,SAC7BsQ,IAAK,WAAa,MAAOjR,MAAKwJ,aAAa,UAC3C0H,IAAK,SAAS5N,GAAStD,KAAKuD,aAAa,QAASD,IAClD6N,YAAY,EACZC,cAAc,KAGlBiE,QAAS,SAAS5D,GACZzR,KAAKO,KAAKsU,QACZ7U,KAAK0V,QAEL1V,KAAK2V,UAEFlE,GAAUlP,EAAMyB,KAAKhE,KAAKW,GAAI,SAAUX,KAAKO,KAAKsU,UAEzDa,MAAO,WACL1V,KAAKkV,QAAQ3R,aAAa,QAASvD,KAAKO,KAAKyV,sBAC7ChW,KAAKiW,OAAO1S,aAAa,QAASvD,KAAKO,KAAKyV,sBAC5ChW,KAAKkW,UAAU3S,aAAa,WAAW,GACnCvD,KAAKO,KAAKuP,UAAY9P,KAAK8P,YAEjC6F,QAAS,WACP3V,KAAKkV,QAAQ3R,aAAa,QAASvD,KAAKO,KAAKwV,eAC7C/V,KAAKiW,OAAO1S,aAAa,QAAS,QAClCvD,KAAKkW,UAAU3S,aAAa,WAAW,GACnCvD,KAAKO,KAAKuP,UAAY9P,KAAK8P,YAEjCA,SAAU,WACR9P,KAAKkV,QAAQ3R,aAAa,QAASvD,KAAKO,KAAKwV,eAC7C/V,KAAKiW,OAAO1S,aAAa,QAASvD,KAAKO,KAAKwV,gBAE9ClV,OAAQ,WAuBN,QAAS+Q,GAAajR,EAAImR,GACxB,IAAKnR,EAAGS,WAAaT,EAAGS,SAASgH,WAAazH,EAAGS,SAASgH,SAAS,GAAM,MAAO,EAChF,IAAI2J,GAAIpR,EAAGS,SAASgH,SAAS,GAAGrH,SAASiR,aACzC,KAAKD,EAAK,MAAO,EAEjB,IADAA,EAAIA,EAAEA,EAAE/K,OAAO,IACV+K,EAAK,MAAO,EACjB,IAAIA,EAAEE,KAGJ,MAFA1I,GAAMjG,MAAQiG,EAAMjG,MAAMwF,MAAM,GAAG,GACnCnI,EAAG4C,aAAa,OAAQgG,GACjBqI,EAAajR,EAEfmR,KAAgBA,EAAe1K,EAAM0C,eAAenJ,EAAI4I,EAAMQ,YACnEgI,GAAKA,EAAEpF,SAAS,GAAKoF,EAAExR,KAAKlB,QAAUyS,EAAalN,EAAKrE,KAAKlB,MAC7D,IAAI8S,GAAYJ,EAAInN,EAAKrE,KAAKlB,KAC9B,OAAI8S,GAAY,GACd5I,EAAMjG,MAAQiG,EAAMjG,MAAMwF,MAAM,GAAG,GACnCnI,EAAG4C,aAAa,OAAQgG,GACjBqI,EAAajR,EAAImR,IAGrBC,EA1CT,GAAInN,GAAO5E,IACXA,MAAKqV,SAAQ,GAGbrV,KAAKiV,OAAO1R,aAAa,QAASvD,KAAKO,KAAKlB,OAC5CW,KAAKiV,OAAO1R,aAAa,WAAYvD,KAAKO,KAAKlB,MAAM,EAAE,UAEvD,IAAIkK,IACF1J,MAAOG,KAAKO,KAAKV,MACjBkQ,MAAO,OACPhG,UAAW,IAAI/J,KAAKO,KAAKlB,MAAM,IAC/BA,MAAOW,KAAKO,KAAKlB,MAEfW,MAAKO,KAAKyP,OAAQzG,EAAMyG,KAAOhQ,KAAKO,KAAKyP,MAG7CzG,EAAMjG,MAAQtD,KAAKO,KAAKuU,MACxBvL,EAAM1J,MAAQG,KAAKO,KAAKV,MACxBG,KAAK8U,MAAMvR,aAAa,OAAQgG,GAChCvJ,KAAK8U,MAAMvR,aAAa,WAAYvD,KAAKO,KAAKlB,MAAM,EAAE,IAAK,WAyB3DiO,WAAW,WAIT,GAHI1I,EAAKrE,KAAKuU,MAAM9N,QAClB4K,EAAahN,EAAKkQ,OAEhBlQ,EAAKrE,KAAKuP,SACZ,GAAI8F,GAAQrE,YAAY,WAClB3M,EAAKsR,UAAU9U,SAASgH,SAAS,KACnCoJ,cAAcoE,GACdxO,EAAM1G,cAAckE,EAAKsR,UAAW,IACpC9O,EAAM1G,cAAckE,EAAKkQ,MAAO,MAEjC,QAEH,IAAIc,GAAQrE,YAAY,WAClB3M,EAAKsR,UAAU9U,SAASgH,SAAS,KACnCoJ,cAAcoE,GACdxO,EAAM1G,cAAckE,EAAKsR,UAAW,GACpC9O,EAAM1G,cAAckE,EAAKkQ,MAAO,KAEjC,KAEJ,IAEL5T,KAAM,aACNC,OAAQ,aACRW,MAAO,aACPC,KAAM,eAGRvD,OAAOwD,kBAAkB,cACvBC,mBACEkU,aAEFjU,UACE2S,QAAS,mBACT/E,SAAU,oBACV7L,KAAM,gBACNX,MAAO,iBACPwR,MAAO,iBACPsB,iBAAkB,yBAClBC,yBAA0B,gCAC1BxW,MAAO,iBACPkQ,MAAO,iBACPC,KAAM,gBACN8C,iBAAkB,yBAClBC,cAAe,sBACfjT,QAAW,mBACXT,MAAO,iBACPqF,KAAM,oBvBq0EJ,SAAUzG,EAAQD,GAEvB,YwB1hFDC,GAAOD,UACHsB,KAAM,MAAOpB,GAAI,qBAAsBqK,IAAQ/J,OAAOC,YAAf,8BACvCa,KAAM,QAASpB,GAAI,sBAAuBqK,IAAQ/J,OAAOC,YAAf,2BAC1Ca,KAAM,QAASpB,GAAI,8BAA+BqK,IAAQ/J,OAAOC,YAAf,qCxB6hFhD,SAAUR,EAAQD,GAEvB,YyBliFD,IAAMuG,IAEJxE,KAAM,SAAS+M,GACb,GAAInM,GAAKyF,SAASuB,cAAc,UAChChH,GAAG4C,aAAa,MAAO,4BACvB5C,EAAG4C,aAAa,OAAO,GACvB5C,EAAG4C,aAAa,MAAO,wBACvB5C,EAAG4C,aAAa,WAAY,SAC5BuJ,EAAO5H,YAAYvE,GAEnBA,EAAKyF,SAASuB,cAAc,WAC5BhH,EAAG4C,aAAa,MAAO,kCACvB5C,EAAG4C,aAAa,OAAO,GACvB5C,EAAG4C,aAAa,MAAO,8BACvB5C,EAAG4C,aAAa,WAAY,SAC5BuJ,EAAO5H,YAAYvE,IAGrBuT,MAAO,SAASpH,GACd,GAAInM,GAAKmM,EAAOtF,cAAc,iCACzB7G,KACLA,EAAGsJ,WAAW0F,MAAMC,YACpBjP,EAAGsJ,WAAW0F,MAAME,cAGtBoE,cAAe,SAASnH,GACtB,GAAInM,GAAKmM,EAAOtF,cAAc,uCACzB7G,KACLA,EAAGsJ,WAAW0F,MAAMC,YACpBjP,EAAGsJ,WAAW0F,MAAME,cAIxB5R,GAAOD,QAAUuG,GzB4iFX,SAAUtG,EAAQD,EAASH,GAEhC,Y0B/kFD,IAAMuJ,GAAQvJ,EAAQ,GAChB0E,EAAQ1E,EAAQ,GAChBsM,EAAStM,EAAQ,IACjB0G,EAAM1G,EAAQ,GAEpBW,QAAOS,kBAAkB,UACvBC,QACE4Q,UAAYxQ,KAAM,UAAWF,SAAS,GACtCE,MAAQA,KAAM,SAAUF,QAAS,UACjC6E,MAAQ3E,KAAM,SAAUF,QAAS,IACjCkE,OAAShE,KAAM,SAAUF,QAAS,UAClCkX,aAAehX,KAAM,QAASF,QAAS,WACvCS,OAASP,KAAM,QAASF,QAAS,QACjC4Q,MAAQ1Q,KAAM,SAAUF,QAAS,IACjC6Q,eAAiB3Q,KAAM,MAAOF,QAAS,GACvC8Q,YAAc5Q,KAAM,SAAUF,QAAS,IACvCU,SAAWR,KAAM,SAAUF,QAAS,GACpCC,OAASC,KAAM,SAAUF,QAAS,GAClCsF,MAAQpF,KAAM,UAAWF,SAAS,IAEpCW,KAAM,WACJ,GAAI6E,GAAO5E,IAGXoH,GAAMC,cAAe8C,EAAOoM,OAAO,SAAUxX,GAAK,QAAS6F,EAAKrE,KAAKmE,MAAmB,UAAX3F,EAAEO,SAG1EU,KAAKO,KAAKmE,MACbH,EAAIxE,KAAKC,KAAKW,IAGhBX,KAAKsK,QAAUlE,SAASuB,cAAc,YACtC3H,KAAKsK,QAAQ/G,aAAa,WAAY,YACtCvD,KAAKW,GAAGuE,YAAYlF,KAAKsK,SAEzBtK,KAAKwW,OAASpQ,SAASuB,cAAc,WACrC3H,KAAKwW,OAAOjT,aAAa,SAAU,IAAK,MACxCvD,KAAKwW,OAAOjT,aAAa,MAAO,uBAChCvD,KAAKsK,QAAQpF,YAAYlF,KAAKwW,QAG9BxW,KAAKkV,QAAU9O,SAASuB,cAAc,aACtC3H,KAAKkV,QAAQ3R,aAAa,SAAU,KACpCvD,KAAKkV,QAAQ3R,aAAa,SAAU,KACpCvD,KAAKkV,QAAQ3R,aAAa,WAA1B,gBACAvD,KAAKsK,QAAQpF,YAAYlF,KAAKkV,SAG9BlV,KAAK8U,MAAQ1O,SAASuB,cAAc,YACpC3H,KAAKkV,QAAQhQ,YAAYlF,KAAK8U,OAG9B9U,KAAKW,GAAGoF,iBAAiB,QAAS,WAC5B/F,KAAKiK,WAAWwM,QAAUzW,KAAKiK,WAAWwM,OAAOlW,KAAKuP,UAC1DlL,EAAKyQ,YAEPrV,KAAKW,GAAGoF,iBAAiB,YAAa,WACpC,GAAI/F,KAAKiK,WAAWwM,QAAUzW,KAAKiK,WAAWwM,OAAOlW,KAAKuP,UACxD,IAAK9P,KAAKO,KAAKmE,KACb,MAAOH,GAAI0P,cAAcjU,UAI7B4E,GAAK0F,QAAQ/G,aAAa,WAA1B,aACKvD,KAAKO,KAAKmE,MACbH,EAAI2P,MAAMlU,QAGdA,KAAKW,GAAGoF,iBAAiB,UAAW,WAC9B/F,KAAKiK,WAAWwM,QAAUzW,KAAKiK,WAAWwM,OAAOlW,KAAKuP,UAC1DlL,EAAK0F,QAAQ/G,aAAa,WAA1B,WAGFvD,KAAKW,GAAG+V,SAAW1W,KAAK0W,SAASzQ,KAAKjG,MACtC+I,OAAOK,eAAepJ,KAAKW,GAAI,SAC7BsQ,IAAK,WAAa,MAAOjR,MAAKwJ,aAAa,UAC3C0H,IAAK,SAAS5N,GAAStD,KAAKuD,aAAa,QAASD,IAClD6N,YAAY,EACZC,cAAc,KAGlBiE,QAAS,aAGTqB,SAAU,WACR,MAAO1W,MAAK2W,SAEd9V,OAAQ,WAsBN,QAAS+Q,GAAajR,EAAIiW,EAAU9E,GAClC,IAAKnR,EAAGS,WAAaT,EAAGS,SAASgH,WAAazH,EAAGS,SAASgH,SAAS,GACjE,MAAOkF,YAAW,WAChBsE,EAAajR,EAAIiW,IAChB,GAEL,IAAI7E,GAAIpR,EAAGS,SAASgH,SAAS,GAAGrH,SAASiR,aACzC,KAAKD,EACH,MAAOzE,YAAW,WAChBsE,EAAajR,EAAIiW,IAChB,GAGL,IADA7E,EAAIA,EAAEA,EAAE/K,OAAO,IACV+K,EAAK,MAAO6E,GAAS,EAC1B,IAAI7E,EAAEE,KAGJ,MAFA1I,GAAMjG,MAAQiG,EAAMjG,MAAMwF,MAAM,GAAG,GACnCnI,EAAG4C,aAAa,OAAQgG,GACjBqI,EAAajR,EAAIiW,EAEnB9E,KAAgBA,EAAe1K,EAAM0C,eAAenJ,EAAI4I,EAAMQ,YACnEgI,GAAKA,EAAEpF,SAAS,GAAKoF,EAAExR,KAAKlB,QAAWyS,EAAalN,EAAKrE,KAAKlB,MAC9D,IAAI8S,GAAYJ,EAAInN,EAAKrE,KAAKlB,KAC9B,OAAI8S,GAAY,GACd5I,EAAMjG,MAAQiG,EAAMjG,MAAMwF,MAAM,GAAG,GACnCnI,EAAG4C,aAAa,OAAQgG,GACjBqI,EAAajR,EAAIiW,EAAU9E,IAG/B8E,EAAS7E,GAjDlB,GAAInN,GAAO5E,IACXA,MAAKkV,QAAQ3R,aAAa,QAASvD,KAAKO,KAAK+V,YAE7C,IAAI/M,IACF1J,MAAOG,KAAKO,KAAKV,MACjBkQ,MAAO,SACPhG,UAAW,GAAG/J,KAAKO,KAAKlB,MACxBA,MAAOW,KAAKO,KAAKlB,MAEfW,MAAKO,KAAKyP,OAAQzG,EAAMyG,KAAOhQ,KAAKO,KAAKyP,MAEtB,SAAnBhQ,KAAKO,KAAKjB,OACZiK,EAAM1J,MAAQG,KAAKO,KAAK+V,aAI1B/M,EAAMjG,MAAQtD,KAAKO,KAAK+C,MAAMsL,cAC9B5O,KAAK8U,MAAMvR,aAAa,OAAQgG,GAChCvJ,KAAK8U,MAAMvR,aAAa,WAAYvD,KAAKO,KAAKlB,MAAM,EAAE,IAAK,WAiC3DiO,WAAW,WAaT,GAZI1I,EAAKrE,KAAK+C,MAAM0D,QAClB4K,EAAahN,EAAKkQ,MAAO,SAACzV,GACxBuF,EAAKkQ,MAAMvR,aAAa,WAAelE,EAAM,EAAE,IAA/C,cACAA,GAAc,IACduF,EAAKsQ,QAAQ3R,aAAa,QAASlE,GACnCuF,EAAK+R,QAAUtX,EACfuF,EAAK4R,OAAOjT,aAAa,QAAe,KAANlE,GAClCuF,EAAK4R,OAAOjT,aAAa,WAAYlE,EAAM,EAAE,QAC7CkD,EAAMyB,KAAKY,EAAKjE,GAAI,eAAgBtB,KAIpCuF,EAAKrE,KAAKuP,SAAU,CACtBlL,EAAK4R,OAAOjT,aAAa,WAAW,EACpC,IAAIqS,GAAQrE,YAAY,WAClB3M,EAAKkQ,MAAM1T,SAASgH,SAAS,IAAMxD,EAAKkQ,MAAM1T,SAASgH,SAAS,GAAGrH,SAASiR,gBAC9ER,cAAcoE,GACdxO,EAAM1G,cAAckE,EAAKjE,GAAI,MAE9B,QAEH,IAAIiV,GAAQrE,YAAY,WAClB3M,EAAKkQ,MAAM1T,SAASgH,SAAS,IAAMxD,EAAKkQ,MAAM1T,SAASgH,SAAS,GAAGrH,SAASiR,gBAC9ER,cAAcoE,GACdxO,EAAM1G,cAAckE,EAAKjE,GAAI,KAE9B,GAGL,IAAuB,SAAnBiE,EAAKrE,KAAKjB,KAAiB,CAC7BsF,EAAK4R,OAAOjT,aAAa,WAAW,EACpC,IAAIqS,GAAQrE,YAAY,WAClB3M,EAAKkQ,MAAM1T,SAASgH,SAAS,IAAMxD,EAAKkQ,MAAM1T,SAASgH,SAAS,GAAGrH,SAASiR,gBAC9ER,cAAcoE,GACdxO,EAAM1G,cAAckE,EAAKsQ,QAAS,GAC9BtQ,EAAKrE,KAAKuP,UACZ1I,EAAM1G,cAAckE,EAAKkQ,MAAO,MAGnC,MAEJ,IAEL5T,KAAM,aACNC,OAAQ,aACRW,MAAO,aACPC,KAAM,eAGRvD,OAAOwD,kBAAkB,YACvBC,mBACEwU,WAEFvU,UACE4N,SAAU,kBACVxQ,KAAM,cACN2E,KAAM,cACNX,MAAO,eACPuT,eAAgB,qBAChBhX,MAAO,eACPmQ,KAAM,cACN8C,iBAAkB,uBAClBC,cAAe,oBACfjT,QAAW,iBACXT,MAAS,eACTqF,KAAM,kB1BumFJ,SAAUzG,EAAQD,GAEvB,Y2BtzFDC,GAAOD,UACHsB,KAAM,MAAOpB,GAAI,qBAAsBqK,IAAQ/J,OAAOC,YAAf,6BACvCa,KAAM,QAASpB,GAAI,oBAAqBqK,IAAQ/J,OAAOC,YAAf,4BACxCa,KAAM,QAASpB,GAAI,4BAA6BqK,IAAQ/J,OAAOC,YAAf,qC3ByzF9C,SAAUR,EAAQD,GAEvB,Y4B9zFD,IAAMuG,IAEJxE,KAAM,SAAS+M,GACb,GAAInM,GAAKyF,SAASuB,cAAc,UAChChH,GAAG4C,aAAa,MAAO,0BACvB5C,EAAG4C,aAAa,OAAO,GACvB5C,EAAG4C,aAAa,MAAO,sBACvB5C,EAAG4C,aAAa,WAAY,SAC5BuJ,EAAO5H,YAAYvE,GAEnBA,EAAKyF,SAASuB,cAAc,WAC5BhH,EAAG4C,aAAa,MAAO,kCACvB5C,EAAG4C,aAAa,OAAO,GACvB5C,EAAG4C,aAAa,MAAO,8BACvB5C,EAAG4C,aAAa,WAAY,SAC5BuJ,EAAO5H,YAAYvE,IAGrBuT,MAAO,SAASpH,GACd,GAAInM,GAAKmM,EAAOtF,cAAc,+BACzB7G,KACLA,EAAGsJ,WAAW0F,MAAMC,YACpBjP,EAAGsJ,WAAW0F,MAAME,cAGtBoE,cAAe,SAASnH,GACtB,GAAInM,GAAKmM,EAAOtF,cAAc,uCACzB7G,KACLA,EAAGsJ,WAAW0F,MAAMC,YACpBjP,EAAGsJ,WAAW0F,MAAME,cAIxB5R,GAAOD,QAAUuG,G5Bw0FX,SAAUtG,EAAQD,EAASH,GAEhC,Y6B32FD,IAAMuJ,GAAQvJ,EAAQ,GAChB0E,EAAQ1E,EAAQ,GAChBsM,EAAStM,EAAQ,IACjB0G,EAAM1G,EAAQ,GAEpBW,QAAOS,kBAAkB,SACvBC,QACE4X,SAAWxX,KAAM,SAAUF,QAAS,gBACpC2X,QAAUzX,KAAM,SAAUF,QAAS,IACnCsR,iBAAmBpR,KAAM,QAASF,QAAS,QAC3C4X,aAAe1X,KAAM,QAASF,QAAS,WACvCS,OAASP,KAAM,QAASF,QAAS,QACjC4Q,MAAQ1Q,KAAM,SAAUF,QAAS,IACjC6Q,eAAiB3Q,KAAM,MAAOF,QAAS,GACvC8Q,YAAc5Q,KAAM,SAAUF,QAAS,IACvCC,OAASC,KAAM,SAAUF,QAAS,GAClCsE,UAAYpE,KAAM,SAAUF,QAAS,KACrC6X,UAAY3X,KAAM,UAAWF,SAAS,GACtCsF,MAAQpF,KAAM,UAAWF,SAAS,IAEpCW,KAAM,WAgCJ,QAASmX,GAAYrY,GACnB,GAAI0T,GAAO3N,EAAKkQ,MAAMtL,aAAa,OACnC+I,GAAKlT,MAAQuF,EAAKrE,KAAKlB,MAAMR,EAAEuF,OAC/BmO,EAAKxI,UAAY,GAAGwI,EAAKlT,MACzBuF,EAAKkQ,MAAMvR,aAAa,OAAQgP,GAChC3N,EAAKkQ,MAAMvR,aAAa,WAAYgP,EAAKlT,MAAM,EAAE,IAAK,eAEtDW,KAAKuD,aAAa,WAAeqB,EAAKrE,KAAKlB,MAAMR,EAAEuF,OAAnD,KAA8D,IAAK,KAAM,EAAzE,UAtCF,GAAIQ,GAAO5E,IAGXoH,GAAMC,cAAe8C,GAGhBnK,KAAKO,KAAKmE,MACbH,EAAIxE,KAAKC,KAAKW,IAIhBX,KAAKW,GAAG4C,aAAa,WAArB,qBACAvD,KAAKW,GAAG4C,aAAa,WAAY,WACjCvD,KAAKW,GAAG4C,aAAa,QAAS,eAG9BvD,KAAK4Q,WAAaxK,SAASuB,cAAc,aACzC3H,KAAK4Q,WAAWrN,aAAa,SAAU,KACvCvD,KAAK4Q,WAAWrN,aAAa,SAAU,KACvCvD,KAAK4Q,WAAWrN,aAAa,WAA7B,iBACAvD,KAAKW,GAAGuE,YAAYlF,KAAK4Q,YAGzB5Q,KAAK8U,MAAQ1O,SAASuB,cAAc,YACpC3H,KAAKW,GAAGuE,YAAYlF,KAAK8U,OAGzB9U,KAAK+W,OAAS3Q,SAASuB,cAAc,YACrC/C,EAAKmS,OAAOxT,aAAa,eAAgB,QACzCvD,KAAKW,GAAGuE,YAAYlF,KAAK+W,QAWzB/W,KAAK+W,OAAOhR,iBAAiB,eAAgBmR,GAC7ClX,KAAK+W,OAAOhR,iBAAiB,QAAS,WACpCxD,EAAMyB,KAAKY,EAAKjE,GAAI,gBAGtB,IAAIiV,GAAQrE,YAAY,WAClB3M,EAAKmS,OAAO3V,UAAYwD,EAAKmS,OAAO3V,SAASgH,SAAS,KACxDoJ,cAAcoE,GACdxO,EAAM1G,cAAckE,EAAKjE,GAAI,GAC7ByG,EAAM1G,cAAckE,EAAKkQ,MAAO,GAChC1N,EAAM1G,cAAckE,EAAKmS,OAAQ,GAC7BnS,EAAKrE,KAAK0W,UAAYrS,EAAKS,SAEhC,GAGHrF,MAAKW,GAAG0E,KAAOrF,KAAKqF,KAAKY,KAAKjG,MAC9BA,KAAKW,GAAG4E,KAAOvF,KAAKuF,KAAKU,KAAKjG,OAEhCqF,KAAM,WACArF,KAAKmX,WACP1E,aAAazS,KAAKmX,WAEpBnX,KAAKW,GAAG4C,aAAa,YAAgBvD,KAAKO,KAAKlB,OAAO,EAAEW,KAAKW,GAAGS,SAASgW,MAAMxM,GAA/E,aACA,IAAIhG,GAAO5E,IAIXsN,YAAW,WACT1I,EAAKjE,GAAG4C,aAAa,UAAWG,SAAU,MAC1C4J,WAAW,WACTlG,EAAM1G,cAAckE,EAAKkQ,MAAO,GAChClQ,EAAKmS,OAAO9M,WAAWwM,OAAOD,OAAOjT,aAAa,WAAW,IAC5D,KACF,GACHvD,KAAKmX,UAAY7J,WAAW,WAC1B1I,EAAKW,QACJvF,KAAKO,KAAKmD,UAER1D,KAAKO,KAAKmE,MACbH,EAAIc,KAAKrF,KAAKW,KAGlB4E,KAAM,WACJ,GAAIX,GAAO5E,IACXsN,YAAW,WACTlG,EAAM1G,cAAckE,EAAKkQ,MAAO,GAChClQ,EAAKmS,OAAO9M,WAAWwM,OAAOD,OAAOjT,aAAa,WAAW,GAC7D+J,WAAW,WACT1I,EAAKjE,GAAG4C,aAAa,WAAYG,SAAU,MAC3C4J,WAAW,WAKT1I,EAAKjE,GAAG4C,aAAa,WAArB,sBACC,MACF,KACF,IAEL1C,OAAQ,WAINb,KAAK4Q,WAAWrN,aAAa,QAASvD,KAAKO,KAAKmQ,iBAChD1Q,KAAK4Q,WAAWrN,aAAa,QAASvD,KAAKO,KAAKlB,MAEhD,IAAIkK,IACF1J,MAAOG,KAAKO,KAAKV,MACjBkQ,MAAO,OACPhG,UAAW,GAAG/J,KAAKO,KAAKlB,MACxBA,MAAOW,KAAKO,KAAKlB,MACjB6Q,WAAY,GAEVlQ,MAAKO,KAAKyP,OAAQzG,EAAMyG,KAAOhQ,KAAKO,KAAKyP,MAEtB,SAAnBhQ,KAAKO,KAAKjB,OACZiK,EAAM1J,MAAQG,KAAKO,KAAK+V,aAI1B/M,EAAMjG,MAAQtD,KAAKO,KAAKuW,QACxB9W,KAAK8U,MAAMvR,aAAa,OAAQgG,GAChCvJ,KAAK8U,MAAMvR,aAAa,WAAYvD,KAAKO,KAAKlB,MAAM,EAAE,IAAK,YAG3DW,KAAK+W,OAAOxT,aAAa,QAASvD,KAAKO,KAAKwW,OAAOnI,eACnD5O,KAAK+W,OAAOxT,aAAa,QAASvD,KAAKO,KAAKyW,cAE9C9V,KAAM,aACNC,OAAQ,aACRW,MAAO,aACPC,KAAM,eAGRvD,OAAOwD,kBAAkB,WACvBC,mBACEoV,UAEFnV,UACE4U,QAAS,gBACTC,OAAQ,eACRO,eAAgB,oBAChBhE,mBAAoB,wBACpBzT,MAAO,cACPmQ,KAAM,aACN8C,iBAAkB,sBAClBC,cAAe,mBACf1T,MAAS,cACTqE,SAAY,iBACZuT,SAAY,iBACZvS,KAAM,iB7Bu3FJ,SAAUzG,EAAQD,GAEvB,Y8BriGDC,GAAOD,UACHsB,KAAM,QAASpB,GAAI,kBAAmBqK,IAAQ/J,OAAOC,YAAf,2B9B0iGpC,SAAUR,EAAQD,GAEvB,Y+B7iGD,IAAMuG,IACJxE,KAAM,SAAS+M,GACb,GAAInM,GAAKyF,SAASuB,cAAc,UAChChH,GAAG4C,aAAa,MAAO,wBACvB5C,EAAG4C,aAAa,OAAO,GACvB5C,EAAG4C,aAAa,MAAO,oBACvB5C,EAAG4C,aAAa,WAAY,SAC5BuJ,EAAO5H,YAAYvE,IAGrB0E,KAAM,SAASyH,GACb,GAAInM,GAAKmM,EAAOtF,cAAc,6BACzB7G,KACLA,EAAGsJ,WAAW0F,MAAMC,YACpBjP,EAAGsJ,WAAW0F,MAAME,cAIxB5R,GAAOD,QAAUuG","file":"aframe-material.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t(function () {\n\t  if (!AFRAME) {\n\t    return console.error('AFRAME is required!');\n\t  }\n\t  if (!AFRAME.ASSETS_PATH) {\n\t    AFRAME.ASSETS_PATH = \"./assets\";\n\t  }\n\t  __webpack_require__(2);\n\t  __webpack_require__(3);\n\t  //require(\"./alert\"); @TODO ;)\n\t  __webpack_require__(5);\n\t  __webpack_require__(14);\n\t  __webpack_require__(15);\n\t  __webpack_require__(18);\n\t  __webpack_require__(19);\n\t  __webpack_require__(22);\n\t  __webpack_require__(25);\n\t  __webpack_require__(28);\n\t})();\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\t!function(t){function e(i){if(a[i])return a[i].exports;var d=a[i]={exports:{},id:i,loaded:!1};return t[i].call(d.exports,d,d.exports,e),d.loaded=!0,d.exports}var a={};return e.m=t,e.c=a,e.p=\"\",e(0)}([function(t,e){AFRAME.registerComponent(\"rounded\",{schema:{enabled:{default:!0},width:{type:\"number\",default:1},height:{type:\"number\",default:1},radius:{type:\"number\",default:.3},topLeftRadius:{type:\"number\",default:-1},topRightRadius:{type:\"number\",default:-1},bottomLeftRadius:{type:\"number\",default:-1},bottomRightRadius:{type:\"number\",default:-1},color:{type:\"color\",default:\"#F0F0F0\"},opacity:{type:\"number\",default:1}},init:function(){this.rounded=new THREE.Mesh(this.draw(),new THREE.MeshPhongMaterial({color:new THREE.Color(this.data.color),side:THREE.DoubleSide})),this.updateOpacity(),this.el.setObject3D(\"mesh\",this.rounded)},update:function(){this.data.enabled?this.rounded&&(this.rounded.visible=!0,this.rounded.geometry=this.draw(),this.rounded.material.color=new THREE.Color(this.data.color),this.updateOpacity()):this.rounded.visible=!1},updateOpacity:function(){this.data.opacity<0&&(this.data.opacity=0),this.data.opacity>1&&(this.data.opacity=1),this.data.opacity<1?this.rounded.material.transparent=!0:this.rounded.material.transparent=!1,this.rounded.material.opacity=this.data.opacity},tick:function(){},remove:function(){this.rounded&&(this.el.object3D.remove(this.rounded),this.rounded=null)},draw:function(){function t(t,e,a,i,d,o,u,r,s){o||(o=1e-5),u||(u=1e-5),r||(r=1e-5),s||(s=1e-5),t.moveTo(e,a+o),t.lineTo(e,a+d-o),t.quadraticCurveTo(e,a+d,e+o,a+d),t.lineTo(e+i-u,a+d),t.quadraticCurveTo(e+i,a+d,e+i,a+d-u),t.lineTo(e+i,a+s),t.quadraticCurveTo(e+i,a,e+i-s,a),t.lineTo(e+r,a),t.quadraticCurveTo(e,a,e,a+r)}var e=new THREE.Shape,a=[this.data.radius,this.data.radius,this.data.radius,this.data.radius];return this.data.topLeftRadius!=-1&&(a[0]=this.data.topLeftRadius),this.data.topRightRadius!=-1&&(a[1]=this.data.topRightRadius),this.data.bottomLeftRadius!=-1&&(a[2]=this.data.bottomLeftRadius),this.data.bottomRightRadius!=-1&&(a[3]=this.data.bottomRightRadius),t(e,0,0,this.data.width,this.data.height,a[0],a[1],a[2],a[3]),new THREE.ShapeBufferGeometry(e)},pause:function(){},play:function(){}}),AFRAME.registerPrimitive(\"a-rounded\",{defaultComponents:{rounded:{}},mappings:{enabled:\"rounded.enabled\",width:\"rounded.width\",height:\"rounded.height\",radius:\"rounded.radius\",\"top-left-radius\":\"rounded.topLeftRadius\",\"top-right-radius\":\"rounded.topRightRadius\",\"bottom-left-radius\":\"rounded.bottomLeftRadius\",\"bottom-right-radius\":\"rounded.bottomRightRadius\",color:\"rounded.color\",opacity:\"rounded.opacity\"}})}]);\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Event = __webpack_require__(4);\n\t\n\tvar opacityUpdate = function opacityUpdate(opacity) {\n\t  this.el.object3D.traverse(function (o) {\n\t    if (o.material) {\n\t      o.material.transparent = true;\n\t      o.material.opacity = opacity;\n\t    }\n\t  });\n\t  var _iteratorNormalCompletion = true;\n\t  var _didIteratorError = false;\n\t  var _iteratorError = undefined;\n\t\n\t  try {\n\t    for (var _iterator = this.textEntities[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t      var text = _step.value;\n\t\n\t      text.setAttribute('opacity', opacity);\n\t    }\n\t  } catch (err) {\n\t    _didIteratorError = true;\n\t    _iteratorError = err;\n\t  } finally {\n\t    try {\n\t      if (!_iteratorNormalCompletion && _iterator.return) {\n\t        _iterator.return();\n\t      }\n\t    } finally {\n\t      if (_didIteratorError) {\n\t        throw _iteratorError;\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// FADEIN\n\t\n\tAFRAME.registerComponent('fadein', {\n\t  schema: {\n\t    duration: { type: 'int', default: 200 }\n\t  },\n\t  init: function init() {\n\t    this.textEntities = this.el.querySelectorAll('a-text');\n\t    this.opacityUpdate(0);\n\t    this.start = null;\n\t  },\n\t  tick: function tick(t) {\n\t    if (!this.start) {\n\t      this.start = t;\n\t    }\n\t    var opacity = Math.min((t - this.start) / this.data.duration, 1);\n\t    this.opacityUpdate(opacity);\n\t    if (opacity === 1) {\n\t      this.el.removeAttribute('fadein');\n\t      Event.emit(this.el, 'animationend');\n\t    }\n\t  },\n\t  opacityUpdate: opacityUpdate\n\t});\n\t\n\t// -----------------------------------------------------------------------------\n\t// FADEOUT\n\t\n\tAFRAME.registerComponent('fadeout', {\n\t  schema: {\n\t    duration: { type: 'int', default: 200 }\n\t  },\n\t  init: function init() {\n\t    this.textEntities = this.el.querySelectorAll('a-text');\n\t    this.opacityUpdate(1);\n\t    this.start = null;\n\t  },\n\t  tick: function tick(t) {\n\t    if (!this.start) {\n\t      this.start = t;\n\t    }\n\t    var opacity = 1 - Math.min((t - this.start) / this.data.duration, 1);\n\t    this.opacityUpdate(opacity);\n\t    if (opacity === 0) {\n\t      this.el.removeAttribute('fadeout');\n\t      Event.emit(this.el, 'animationend');\n\t    }\n\t  },\n\t  opacityUpdate: opacityUpdate\n\t});\n\t\n\t// -----------------------------------------------------------------------------\n\t// SHOW\n\t\n\tAFRAME.registerComponent('show', {\n\t  init: function init() {\n\t    this.textEntities = this.el.querySelectorAll('a-text');\n\t    this.opacityUpdate(1);\n\t    this.el.removeAttribute('show');\n\t  },\n\t  opacityUpdate: opacityUpdate\n\t});\n\t\n\t// -----------------------------------------------------------------------------\n\t// HIDE\n\t\n\tAFRAME.registerComponent('hide', {\n\t  init: function init() {\n\t    this.textEntities = this.el.querySelectorAll('a-text');\n\t    this.opacityUpdate(0);\n\t    this.el.removeAttribute('hide');\n\t  },\n\t  opacityUpdate: opacityUpdate\n\t});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = {\n\t  emit: function emit(el, name, data) {\n\t    el.dispatchEvent(new CustomEvent(name, { detail: data }));\n\t  }\n\t};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Utils = __webpack_require__(6);\n\tvar Draw = __webpack_require__(7);\n\tvar Behaviors = __webpack_require__(11);\n\tvar SFX = __webpack_require__(12);\n\tvar Event = __webpack_require__(4);\n\t\n\tAFRAME.registerComponent('keyboard', {\n\t  schema: {\n\t    isOpen: { type: \"boolean\", default: false },\n\t    physicalKeyboard: { type: \"boolean\", default: false },\n\t    mute: { type: \"boolean\", default: true }\n\t  },\n\t  currentInput: null,\n\t  init: function init() {\n\t    var that = this;\n\t\n\t    // SFX\n\t    if (!this.data.mute) {\n\t      SFX.init(this.el);\n\t    }\n\t\n\t    // Draw\n\t    Draw.init(this.el);\n\t\n\t    // Init keyboard UI\n\t    var numericalUI = Draw.numericalUI(),\n\t        mainUI = Draw.mainUI(),\n\t        actionsUI = Draw.actionsUI();\n\t\n\t    // Create layout\n\t    this.el.alphabeticalLayout = Draw.alphabeticalLayout();\n\t    this.el.symbolsLayout = Draw.symbolsLayout();\n\t\n\t    // Append layouts to UI\n\t    numericalUI.appendChild(Draw.numericalLayout());\n\t    mainUI.appendChild(this.el.alphabeticalLayout);\n\t    actionsUI.appendChild(Draw.actionsLayout());\n\t\n\t    this.el.appendChild(numericalUI);\n\t    this.el.appendChild(mainUI);\n\t    this.el.appendChild(actionsUI);\n\t\n\t    // Inject methods in elements..\n\t    this.el.show = function () {\n\t      Behaviors.showKeyboard(that.el);\n\t    };\n\t    this.el.hide = function () {\n\t      Behaviors.hideKeyboard(that.el);\n\t    };\n\t    this.el.open = function () {\n\t      Behaviors.openKeyboard(that.el);\n\t    };\n\t    this.el.dismiss = function () {\n\t      Behaviors.dismissKeyboard(that.el);\n\t    };\n\t    this.el.destroy = function () {\n\t      Behaviors.destroyKeyboard(that.el);\n\t    };\n\t\n\t    // Set default value\n\t    this.el.setAttribute(\"scale\", \"2 2 2\");\n\t    this.el.setAttribute(\"rotation\", \"-20 0 0\");\n\t    this.el.setAttribute(\"position\", \"-1.5 -0.3 -2\");\n\t\n\t    // Register keyboard events\n\t    this.el.addEventListener('input', this.inputEvent.bind(this));\n\t    this.el.addEventListener('backspace', this.backspaceEvent.bind(this));\n\t    this.el.addEventListener('dismiss', this.dismissEvent.bind(this));\n\t\n\t    // Register global events\n\t    document.addEventListener('keydown', this.keydownEvent.bind(this));\n\t    document.body.addEventListener('didfocusinput', this.didFocusInputEvent.bind(this));\n\t    document.body.addEventListener('didblurinput', this.didBlurInputEvent.bind(this));\n\t  },\n\t  update: function update() {\n\t    if (this.data.isOpen) {\n\t      Behaviors.showKeyboard(this.el);\n\t    } else {\n\t      Behaviors.hideKeyboard(this.el);\n\t    }\n\t  },\n\t  tick: function tick() {},\n\t  remove: function remove() {\n\t    this.el.removeEventListener('input', this.inputEvent.bind(this));\n\t    this.el.removeEventListener('backspace', this.backspaceEvent.bind(this));\n\t    this.el.removeEventListener('dismiss', this.dismissEvent.bind(this));\n\t\n\t    document.removeEventListener('keydown', this.keydownEvent.bind(this));\n\t    document.body.removeEventListener('didfocusinput', this.didFocusInputEvent.bind(this));\n\t    document.body.removeEventListener('didblurinput', this.didBlurInputEvent.bind(this));\n\t  },\n\t  pause: function pause() {},\n\t  play: function play() {},\n\t\n\t  // Fired on keyboard key press\n\t  inputEvent: function inputEvent(e) {\n\t    if (this.currentInput) {\n\t      this.currentInput.appendString(e.detail);\n\t    }\n\t  },\n\t\n\t  // Fired on backspace key press\n\t  backspaceEvent: function backspaceEvent(e) {\n\t    if (this.currentInput) {\n\t      this.currentInput.deleteLast();\n\t    }\n\t  },\n\t\n\t  dismissEvent: function dismissEvent(e) {\n\t    if (this.currentInput) {\n\t      this.currentInput.blur();\n\t    }\n\t  },\n\t\n\t  // physical keyboard event\n\t  keydownEvent: function keydownEvent(e) {\n\t    if (this.currentInput && this.data.physicalKeyboard) {\n\t      e.preventDefault();\n\t      e.stopPropagation();\n\t\n\t      if (e.key === 'Enter') {\n\t        Event.emit(Behaviors.el, 'input', '\\n');\n\t        Event.emit(Behaviors.el, 'enter', '\\n');\n\t      } else if (e.key === 'Backspace') {\n\t        Event.emit(Behaviors.el, 'backspace');\n\t      } else if (e.key === 'Escape') {\n\t        Event.emit(Behaviors.el, 'dismiss');\n\t      } else if (e.key.length < 2) {\n\t        Event.emit(Behaviors.el, 'input', e.key);\n\t      }\n\t    }\n\t  },\n\t\n\t  // Fired when an input has been selected\n\t  didFocusInputEvent: function didFocusInputEvent(e) {\n\t    if (this.currentInput) {\n\t      this.currentInput.blur(true);\n\t    }\n\t    this.currentInput = e.detail;\n\t    if (!this.el.isOpen) {\n\t      Behaviors.openKeyboard(this.el);\n\t    }\n\t  },\n\t\n\t  // Fired when an input has been deselected\n\t  didBlurInputEvent: function didBlurInputEvent(e) {\n\t    this.currentInput = null;\n\t    Behaviors.dismissKeyboard(this.el);\n\t  }\n\t});\n\t\n\tAFRAME.registerPrimitive('a-keyboard', {\n\t  defaultComponents: {\n\t    keyboard: {}\n\t  },\n\t  mappings: {\n\t    'is-open': 'keyboard.isOpen',\n\t    'physical-keyboard': 'keyboard.physicalKeyboard',\n\t    mute: 'keyboard.mute'\n\t  }\n\t});\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar Utils = {};\n\t\n\t/**\r\n\t  Utils.preloadAssets([])\r\n\t  Add assets to Assets managment system.\r\n\t*/\n\tUtils.preloadAssets = function (assets_arr) {\n\t  var assets = document.querySelector('a-assets'),\n\t      already_exists = void 0;\n\t\n\t  if (!assets) {\n\t    var scene = document.querySelector('a-scene');\n\t    assets = document.createElement('a-assets');\n\t    scene.appendChild(assets);\n\t  }\n\t\n\t  var _iteratorNormalCompletion = true;\n\t  var _didIteratorError = false;\n\t  var _iteratorError = undefined;\n\t\n\t  try {\n\t    for (var _iterator = assets_arr[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t      var item = _step.value;\n\t\n\t      already_exists = false;\n\t\n\t      /***** With Edge, assets.children is a HTMLCollection, not an Array! *****/\n\t      var _iteratorNormalCompletion2 = true;\n\t      var _didIteratorError2 = false;\n\t      var _iteratorError2 = undefined;\n\t\n\t      try {\n\t        for (var _iterator2 = Array.from(assets.children)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t          var stuff = _step2.value;\n\t\n\t          if (item.id === stuff.id) {\n\t            already_exists = true;\n\t          }\n\t        }\n\t      } catch (err) {\n\t        _didIteratorError2 = true;\n\t        _iteratorError2 = err;\n\t      } finally {\n\t        try {\n\t          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t            _iterator2.return();\n\t          }\n\t        } finally {\n\t          if (_didIteratorError2) {\n\t            throw _iteratorError2;\n\t          }\n\t        }\n\t      }\n\t\n\t      if (!already_exists) {\n\t        var asset_item = document.createElement(item.type);\n\t        asset_item.setAttribute('id', item.id);\n\t        asset_item.setAttribute('src', item.src);\n\t        assets.appendChild(asset_item);\n\t      }\n\t    }\n\t  } catch (err) {\n\t    _didIteratorError = true;\n\t    _iteratorError = err;\n\t  } finally {\n\t    try {\n\t      if (!_iteratorNormalCompletion && _iterator.return) {\n\t        _iterator.return();\n\t      }\n\t    } finally {\n\t      if (_didIteratorError) {\n\t        throw _iteratorError;\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\t/**\r\n\t  Utils.extend(a, b)\r\n\t  Assign object to other object.\r\n\t*/\n\tUtils.extend = function (a, b) {\n\t  for (var key in b) {\n\t    if (b.hasOwnProperty(key)) {\n\t      a[key] = b[key];\n\t    }\n\t  }\n\t  return a;\n\t};\n\t\n\tUtils.clone = function (original) {\n\t  if (Array.isArray(original)) {\n\t    return original.slice(0);\n\t  }\n\t\n\t  // First create an empty object with\n\t  // same prototype of our original source\n\t  var clone = Object.create(Object.getPrototypeOf(original));\n\t  var i = undefined;\n\t  var keys = Object.getOwnPropertyNames(original);\n\t  i = 0;\n\t  while (i < keys.length) {\n\t    // copy each property into the clone\n\t    Object.defineProperty(clone, keys[i], Object.getOwnPropertyDescriptor(original, keys[i]));\n\t    i++;\n\t  }\n\t  return clone;\n\t};\n\t\n\tUtils.updateOpacity = function (el, opacity) {\n\t  if (el.hasAttribute('text')) {\n\t    var props = el.getAttribute('text');\n\t    if (props) {\n\t      props.opacity = opacity;\n\t      el.setAttribute('text', props);\n\t    }\n\t  }\n\t  el.object3D.traverse(function (o) {\n\t    if (o.material) {\n\t      o.material.transparent = true;\n\t      o.material.opacity = opacity;\n\t    }\n\t  });\n\t  var _iteratorNormalCompletion3 = true;\n\t  var _didIteratorError3 = false;\n\t  var _iteratorError3 = undefined;\n\t\n\t  try {\n\t    for (var _iterator3 = el.querySelectorAll('a-text')[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t      var text = _step3.value;\n\t\n\t      text.setAttribute('opacity', opacity);\n\t    }\n\t  } catch (err) {\n\t    _didIteratorError3 = true;\n\t    _iteratorError3 = err;\n\t  } finally {\n\t    try {\n\t      if (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t        _iterator3.return();\n\t      }\n\t    } finally {\n\t      if (_didIteratorError3) {\n\t        throw _iteratorError3;\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\t// Calculate the width factor\n\tUtils.getWidthFactor = function (el, wrapCount) {\n\t  var widthFactor = 0.00001;\n\t  if (el.components.text && el.components.text.currentFont) {\n\t    widthFactor = el.components.text.currentFont.widthFactor;\n\t    widthFactor = (0.5 + wrapCount) * widthFactor;\n\t  }\n\t  return widthFactor;\n\t};\n\t\n\tmodule.exports = Utils;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Assets = __webpack_require__(8);\n\tvar Layouts = __webpack_require__(9);\n\tvar Config = __webpack_require__(10);\n\tvar Behaviors = __webpack_require__(11);\n\tvar Draw = {};\n\t\n\tDraw.el = null;\n\t\n\tDraw.init = function (el) {\n\t  Draw.el = el;\n\t  Behaviors.el = el;\n\t  Behaviors.SFX = el.SFX;\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// DRAW NUMERICAL UI\n\t\n\tDraw.numericalUI = function () {\n\t  var wrapper = document.createElement('a-entity');\n\t  wrapper.setAttribute('position', '0.025 0 0.12');\n\t  wrapper.setAttribute('rotation', '0 25 0');\n\t  wrapper.setAttribute('data-ui', true);\n\t\n\t  var el = document.createElement('a-rounded');\n\t  el.setAttribute('width', '0.280');\n\t  el.setAttribute('height', '0.360');\n\t  el.setAttribute('radius', '0.02');\n\t  el.setAttribute('color', Config.KEYBOARD_COLOR);\n\t  wrapper.appendChild(el);\n\t\n\t  return wrapper;\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// DRAW MAIN UI\n\t\n\tDraw.mainUI = function () {\n\t  var wrapper = document.createElement('a-entity');\n\t  wrapper.setAttribute('position', '0.312 0 0');\n\t  wrapper.setAttribute('data-ui', true);\n\t\n\t  var el = document.createElement('a-rounded');\n\t  el.setAttribute('width', '0.840');\n\t  el.setAttribute('height', '0.360');\n\t  el.setAttribute('radius', '0.02');\n\t  el.setAttribute('color', Config.KEYBOARD_COLOR);\n\t  wrapper.appendChild(el);\n\t\n\t  return wrapper;\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// DRAW ACTION UI\n\t\n\tDraw.actionsUI = function () {\n\t  var wrapper = document.createElement('a-entity');\n\t  wrapper.setAttribute('position', '1.180 0 0.01');\n\t  wrapper.setAttribute('rotation', '0 -25 0');\n\t  wrapper.setAttribute('data-ui', true);\n\t\n\t  var el = document.createElement('a-rounded');\n\t  el.setAttribute('width', '0.180');\n\t  el.setAttribute('height', '0.360');\n\t  el.setAttribute('radius', '0.02');\n\t  el.setAttribute('color', Config.KEYBOARD_COLOR);\n\t  wrapper.appendChild(el);\n\t\n\t  return wrapper;\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// DRAW NUMERICAL LAYOUT\n\t\n\tDraw.numericalLayout = function () {\n\t  var data = Layouts.numerical;\n\t  var wrapper = document.createElement('a-entity');\n\t  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\t\n\t  var index_y = 0;\n\t  for (var i in data) {\n\t    var key_id = 'num-' + i;\n\t    var key = Draw.key(key_id, data[i].type, data[i].value);\n\t    var index_x = i % 3;\n\t    var x = Config.KEY_WIDTH * index_x;\n\t    var y = Config.KEY_WIDTH * index_y;\n\t    key.setAttribute('position', x + ' -' + y + ' 0');\n\t    if (index_x === 2) {\n\t      index_y++;\n\t    }\n\t    wrapper.appendChild(key);\n\t  }\n\t\n\t  return wrapper;\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// DRAW ALPHABETICAL LAYOUT\n\t\n\tDraw.alphabeticalLayout = function () {\n\t  var data = Layouts.alphabetical;\n\t  var wrapper = document.createElement('a-entity');\n\t  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\t\n\t  var index_y = 0,\n\t      index_x = 0,\n\t      prev_was_space = false;\n\t\n\t  for (var i in data) {\n\t    var key_id = 'main-' + i;\n\t    var key = Draw.key(key_id, data[i].type, data[i].value);\n\t\n\t    var x = Config.KEY_WIDTH * index_x;\n\t    var y = Config.KEY_WIDTH * index_y;\n\t\n\t    // Add left padding on the second line\n\t    if (index_y === 1) {\n\t      x = x + Config.KEY_WIDTH / 2;\n\t    }\n\t\n\t    // Add margin on the key next to the spacebar key\n\t    if (prev_was_space) {\n\t      x = x + Config.SPACE_KEY_WIDTH - Config.KEY_WIDTH + 0.055 * 2;\n\t    }\n\t\n\t    // Add margin to the spacebar key\n\t    if (data[i].type === 'spacebar') {\n\t      prev_was_space = true;\n\t      x = x + 0.055;\n\t      y = Config.KEY_WIDTH * index_y - 0.01;\n\t    }\n\t\n\t    key.setAttribute('position', x + ' -' + y + ' 0');\n\t\n\t    if (index_y === 1 && index_x === 8) {\n\t      index_x = -1;\n\t      index_y++;\n\t    } else if (index_x === 9) {\n\t      index_x = -1;\n\t      index_y++;\n\t    }\n\t    index_x++;\n\t\n\t    wrapper.appendChild(key);\n\t  }\n\t\n\t  return wrapper;\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// DRAW SYMBOLS LAYOUT\n\t\n\tDraw.symbolsLayout = function () {\n\t  var data = Layouts.symbols;\n\t  var wrapper = document.createElement('a-entity');\n\t  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\t\n\t  var index_y = 0,\n\t      index_x = 0,\n\t      prev_was_space = false;\n\t\n\t  for (var i in data) {\n\t\n\t    var key_id = 'symbols-' + i;\n\t    var key = Draw.key(key_id, data[i].type, data[i].value);\n\t    var x = Config.KEY_WIDTH * index_x;\n\t    var y = Config.KEY_WIDTH * index_y;\n\t\n\t    // Add margin on the key next to the spacebar key\n\t    if (prev_was_space) {\n\t      x = x + Config.SPACE_KEY_WIDTH - Config.KEY_WIDTH + 0.055 * 2;\n\t    }\n\t\n\t    // Add margin to the spacebar key\n\t    if (data[i].type === 'spacebar') {\n\t      prev_was_space = true;\n\t      x = x + 0.055;\n\t      y = Config.KEY_WIDTH * index_y - 0.01;\n\t    }\n\t\n\t    key.setAttribute('position', x + ' -' + y + ' 0');\n\t\n\t    if (index_x === 9) {\n\t      index_x = -1;\n\t      index_y++;\n\t    }\n\t    index_x++;\n\t    wrapper.appendChild(key);\n\t  }\n\t\n\t  return wrapper;\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// DRAW ACTIONS LAYOUT\n\t\n\tDraw.actionsLayout = function () {\n\t  var data = Layouts.actions;\n\t  var wrapper = document.createElement('a-entity');\n\t  wrapper.setAttribute('position', '0.02 0.26 0.001');\n\t\n\t  var val_y = 0;\n\t  for (var i in data) {\n\t    var key_id = 'action-' + i;\n\t    var key = Draw.key(key_id, data[i].type, data[i].value);\n\t\n\t    key.setAttribute('position', '0 -' + val_y + ' 0');\n\t    if (i == 0) {\n\t      val_y += Config.ACTION_WIDTH + 0.01;\n\t    } else if (i == 1) {\n\t      val_y += Config.KEY_WIDTH + 0.01;\n\t    }\n\t    wrapper.appendChild(key);\n\t  }\n\t\n\t  return wrapper;\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// DRAW KEY\n\t\n\tDraw.key = function (id, type, value) {\n\t  var that = undefined;\n\t\n\t  var el = document.createElement('a-rounded');\n\t  el.setAttribute('key-id', id);\n\t  el.setAttribute('width', Config.KEY_WIDTH);\n\t  el.setAttribute('height', Config.KEY_WIDTH);\n\t  el.setAttribute('radius', '0.008');\n\t  el.setAttribute('position', '0 0 0');\n\t  el.setAttribute('key-type', type);\n\t  el.setAttribute('key-value', value);\n\t  el.setAttribute('color', Config.KEYBOARD_COLOR);\n\t\n\t  // ---------------------------------------------------------------------------\n\t  // EVENTS\n\t\n\t  Behaviors.addKeyEvents(el);\n\t\n\t  // ---------------------------------------------------------------------------\n\t  // SHADOW\n\t\n\t  el.shadow_el = document.createElement('a-image');\n\t  el.shadow_el.setAttribute('width', Config.KEY_WIDTH * 1.25);\n\t  el.shadow_el.setAttribute('height', Config.KEY_WIDTH * 1.25);\n\t  el.shadow_el.setAttribute('position', Config.KEY_WIDTH / 2 + ' ' + Config.KEY_WIDTH / 2 + ' -0.002');\n\t  el.shadow_el.setAttribute('src', Assets.aframeKeyboardShadow);\n\t  el.appendChild(el.shadow_el);\n\t\n\t  // ---------------------------------------------------------------------------\n\t  // TEXT KEY\n\t\n\t  if (type === 'text' || type === 'spacebar' || type === 'symbol') {\n\t    var letter_el = document.createElement('a-text');\n\t    letter_el.setAttribute('value', value);\n\t    letter_el.setAttribute('color', '#dbddde');\n\t    letter_el.setAttribute('position', Config.KEY_WIDTH / 2 + ' ' + Config.KEY_WIDTH / 2 + ' 0.01');\n\t    letter_el.setAttribute('scale', '0.16 0.16 0.16');\n\t    letter_el.setAttribute('align', 'center');\n\t    letter_el.setAttribute('baseline', 'center');\n\t    el.appendChild(letter_el);\n\t  }\n\t\n\t  // ---------------------------------------------------------------------------\n\t  // SPACEBAR KEY\n\t\n\t  if (type === 'spacebar') {\n\t    el.setAttribute('width', Config.SPACE_KEY_WIDTH);\n\t    el.setAttribute('height', Config.SPACE_KEY_HEIGHT);\n\t    el.setAttribute('color', '#404b50');\n\t    el.shadow_el.setAttribute('width', Config.SPACE_KEY_WIDTH * 1.12);\n\t    el.shadow_el.setAttribute('height', Config.SPACE_KEY_HEIGHT * 1.2);\n\t    el.shadow_el.setAttribute('position', Config.SPACE_KEY_WIDTH / 2 + ' ' + Config.SPACE_KEY_HEIGHT / 2 + ' -0.02');\n\t    letter_el.setAttribute('color', '#adb1b3');\n\t    letter_el.setAttribute('scale', '0.12 0.12 0.12');\n\t    letter_el.setAttribute('position', Config.SPACE_KEY_WIDTH / 2 + ' ' + Config.SPACE_KEY_HEIGHT / 2 + ' 0');\n\t  }\n\t\n\t  // ---------------------------------------------------------------------------\n\t  // SYMBOL KEY\n\t\n\t  else if (type === 'symbol') {\n\t      letter_el.setAttribute('scale', '0.12 0.12 0.12');\n\t    }\n\t\n\t  // ---------------------------------------------------------------------------\n\t  // ACTION KEY\n\t\n\t  if (type === 'backspace' || type === 'enter' || type === 'dismiss') {\n\t    el.setAttribute('width', Config.ACTION_WIDTH);\n\t    el.shadow_el.setAttribute('width', Config.ACTION_WIDTH * 1.25);\n\t    el.shadow_el.setAttribute('position', Config.ACTION_WIDTH / 2 + ' ' + Config.KEY_WIDTH / 2 + ' -0.02');\n\t  }\n\t\n\t  // ---------------------------------------------------------------------------\n\t  // SHIFT KEY\n\t\n\t  if (type === 'shift') {\n\t    var icon_el = document.createElement('a-image');\n\t    icon_el.setAttribute('data-type', 'icon');\n\t    icon_el.setAttribute('width', '0.032');\n\t    icon_el.setAttribute('height', '0.032');\n\t    icon_el.setAttribute('position', '0.04 0.04 0.01');\n\t    icon_el.setAttribute('src', Assets.aframeKeyboardShift);\n\t    el.appendChild(icon_el);\n\t    Draw.el.shiftKey = el;\n\t  }\n\t\n\t  // ---------------------------------------------------------------------------\n\t  // GLOBAL\n\t\n\t  else if (type === 'global') {\n\t      var icon_el = document.createElement('a-image');\n\t      icon_el.setAttribute('width', '0.032');\n\t      icon_el.setAttribute('height', '0.032');\n\t      icon_el.setAttribute('position', '0.04 0.04 0.01');\n\t      icon_el.setAttribute('src', Assets.aframeKeyboardGlobal);\n\t      el.appendChild(icon_el);\n\t    }\n\t\n\t    // ---------------------------------------------------------------------------\n\t    // BACKSPACE\n\t\n\t    else if (type === 'backspace') {\n\t        var icon_el = document.createElement('a-image');\n\t        icon_el.setAttribute('width', '0.046');\n\t        icon_el.setAttribute('height', '0.046');\n\t        icon_el.setAttribute('position', '0.07 0.04 0.01');\n\t        icon_el.setAttribute('src', Assets.aframeKeyboardBackspace);\n\t        el.appendChild(icon_el);\n\t      }\n\t\n\t      // ---------------------------------------------------------------------------\n\t      // ENTER\n\t\n\t      else if (type === 'enter') {\n\t          el.setAttribute('height', Config.ACTION_WIDTH);\n\t          el.shadow_el.setAttribute('height', Config.ACTION_WIDTH * 1.25);\n\t          el.shadow_el.setAttribute('position', Config.ACTION_WIDTH / 2 + ' ' + Config.ACTION_WIDTH / 2 + ' -0.02');\n\t\n\t          var circle_el = document.createElement('a-circle');\n\t          circle_el.setAttribute('color', '#4285f4');\n\t          circle_el.setAttribute('radius', 0.044);\n\t          circle_el.setAttribute('position', '0.07 0.07 0.01');\n\t          el.appendChild(circle_el);\n\t\n\t          var icon_el = document.createElement('a-image');\n\t          icon_el.setAttribute('width', '0.034');\n\t          icon_el.setAttribute('height', '0.034');\n\t          icon_el.setAttribute('position', '0.07 0.07 0.011');\n\t          icon_el.setAttribute('src', Assets.aframeKeyboardEnter);\n\t          el.appendChild(icon_el);\n\t        }\n\t\n\t        // ---------------------------------------------------------------------------\n\t        // DISMISS\n\t\n\t        else if (type === 'dismiss') {\n\t            var icon_el = document.createElement('a-image');\n\t            icon_el.setAttribute('width', '0.046');\n\t            icon_el.setAttribute('height', '0.046');\n\t            icon_el.setAttribute('position', '0.07 0.04 0.01');\n\t            icon_el.setAttribute('src', Assets.aframeKeyboardDismiss);\n\t            el.appendChild(icon_el);\n\t          }\n\t\n\t  return el;\n\t};\n\t\n\tmodule.exports = Draw;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = {\n\t  aframeKeyboardShift: AFRAME.ASSETS_PATH + \"/images/ShiftIcon.png\",\n\t  aframeKeyboardShiftActive: AFRAME.ASSETS_PATH + \"/images/ShiftActiveIcon.png\",\n\t  aframeKeyboardGlobal: AFRAME.ASSETS_PATH + \"/images/GlobalIcon.png\",\n\t  aframeKeyboardBackspace: AFRAME.ASSETS_PATH + \"/images/BackspaceIcon.png\",\n\t  aframeKeyboardEnter: AFRAME.ASSETS_PATH + \"/images/EnterIcon.png\",\n\t  aframeKeyboardDismiss: AFRAME.ASSETS_PATH + \"/images/DismissIcon.png\",\n\t  aframeKeyboardShadow: AFRAME.ASSETS_PATH + \"/images/KeyShadow.png\",\n\t  aframeKeyboardKeyIn: AFRAME.ASSETS_PATH + \"/sounds/KeyIn.mp3\",\n\t  aframeKeyboardKeyDown: AFRAME.ASSETS_PATH + \"/sounds/KeyDown.mp3\"\n\t};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar Layouts = {\n\t  numerical: [{ type: 'text', value: '1' }, { type: 'text', value: '2' }, { type: 'text', value: '3' }, { type: 'text', value: '4' }, { type: 'text', value: '5' }, { type: 'text', value: '6' }, { type: 'text', value: '7' }, { type: 'text', value: '8' }, { type: 'text', value: '9' }, { type: 'text', value: '.' }, { type: 'text', value: '0' }, { type: 'text', value: '-' }],\n\t\n\t  alphabetical: [{ type: 'text', value: 'q' }, { type: 'text', value: 'w' }, { type: 'text', value: 'e' }, { type: 'text', value: 'r' }, { type: 'text', value: 't' }, { type: 'text', value: 'y' }, { type: 'text', value: 'u' }, { type: 'text', value: 'i' }, { type: 'text', value: 'o' }, { type: 'text', value: 'p' }, { type: 'text', value: 'a' }, { type: 'text', value: 's' }, { type: 'text', value: 'd' }, { type: 'text', value: 'f' }, { type: 'text', value: 'g' }, { type: 'text', value: 'h' }, { type: 'text', value: 'j' }, { type: 'text', value: 'k' }, { type: 'text', value: 'l' }, { type: 'shift' }, { type: 'text', value: 'z' }, { type: 'text', value: 'x' }, { type: 'text', value: 'c' }, { type: 'text', value: 'v' }, { type: 'text', value: 'b' }, { type: 'text', value: 'n' }, { type: 'text', value: 'm' }, { type: 'text', value: '!' }, { type: 'text', value: '?' }, { type: 'symbol', value: '#+=' }, { type: 'text', value: '@' }, { type: 'spacebar', value: '' }, { type: 'text', value: ',' }, { type: 'text', value: '.' }],\n\t\n\t  symbols: [{ type: 'text', value: '@' }, { type: 'text', value: '#' }, { type: 'text', value: '$' }, { type: 'text', value: '%' }, { type: 'text', value: '&' }, { type: 'text', value: '*' }, { type: 'text', value: '-' }, { type: 'text', value: '+' }, { type: 'text', value: '(' }, { type: 'text', value: ')' }, { type: 'text', value: '~' }, { type: 'text', value: '`' }, { type: 'text', value: '\"' }, { type: 'text', value: '\\'' }, { type: 'text', value: ':' }, { type: 'text', value: ';' }, { type: 'text', value: '_' }, { type: 'text', value: '=' }, { type: 'text', value: '\\\\' }, { type: 'text', value: '/' }, { type: 'text', value: '{' }, { type: 'text', value: '}' }, { type: 'text', value: '[' }, { type: 'text', value: ']' }, { type: 'text', value: '<' }, { type: 'text', value: '>' }, { type: 'text', value: '^' }, { type: 'text', value: '|' }, { type: 'text', value: '!' }, { type: 'text', value: '?' }, { type: 'symbol', value: 'ABC' }, { type: 'text', value: '@' }, { type: 'spacebar', value: '' }, { type: 'text', value: ',' }, { type: 'text', value: '.' }],\n\t\n\t  actions: [{ type: 'backspace', value: 'Del' }, { type: 'enter', value: 'OK' }, { type: 'dismiss', value: 'W' }]\n\t};\n\t\n\tmodule.exports = Layouts;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar Config = {\n\t  KEYBOARD_COLOR: \"#263238\",\n\t  KEY_COLOR_HIGHLIGHT: \"#29363c\",\n\t  KEY_COLOR_ACTIVE: \"#404b50\",\n\t  SPACEBAR_COLOR_ACTIVE: \"#3c464b\",\n\t  SPACEBAR_COLOR_HIGHLIGHT: \"#445055\",\n\t  KEY_WIDTH: 0.08,\n\t  SPACE_KEY_WIDTH: 0.368,\n\t  SPACE_KEY_HEIGHT: 0.05,\n\t  ACTION_WIDTH: 0.140\n\t};\n\t\n\tmodule.exports = Config;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Assets = __webpack_require__(8);\n\tvar Config = __webpack_require__(10);\n\tvar Utils = __webpack_require__(6);\n\tvar Event = __webpack_require__(4);\n\tvar SFX = __webpack_require__(12);\n\tvar Behaviors = {};\n\t\n\tBehaviors.el = null;\n\t\n\t// -----------------------------------------------------------------------------\n\t// KEYBOARD METHODS\n\t\n\tBehaviors.showKeyboard = function (el) {\n\t  if (el.o_position) {\n\t    el.object3D.position.copy(el.o_position);\n\t  }\n\t  el.isOpen = true;\n\t  var _iteratorNormalCompletion = true;\n\t  var _didIteratorError = false;\n\t  var _iteratorError = undefined;\n\t\n\t  try {\n\t    for (var _iterator = el.querySelectorAll('[data-ui]')[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t      var item = _step.value;\n\t      var _iteratorNormalCompletion2 = true;\n\t      var _didIteratorError2 = false;\n\t      var _iteratorError2 = undefined;\n\t\n\t      try {\n\t        for (var _iterator2 = item.children[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t          var child = _step2.value;\n\t\n\t          child.setAttribute('show', true);\n\t        }\n\t      } catch (err) {\n\t        _didIteratorError2 = true;\n\t        _iteratorError2 = err;\n\t      } finally {\n\t        try {\n\t          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t            _iterator2.return();\n\t          }\n\t        } finally {\n\t          if (_didIteratorError2) {\n\t            throw _iteratorError2;\n\t          }\n\t        }\n\t      }\n\t    }\n\t  } catch (err) {\n\t    _didIteratorError = true;\n\t    _iteratorError = err;\n\t  } finally {\n\t    try {\n\t      if (!_iteratorNormalCompletion && _iterator.return) {\n\t        _iterator.return();\n\t      }\n\t    } finally {\n\t      if (_didIteratorError) {\n\t        throw _iteratorError;\n\t      }\n\t    }\n\t  }\n\t\n\t  var parent = el.parentNode;\n\t  if (parent) {\n\t    return;\n\t  }\n\t  el.sceneEl.appendChild(el);\n\t};\n\t\n\tBehaviors.hideKeyboard = function (el) {\n\t  var position = el.getAttribute(\"position\");\n\t  if (position.x !== -10000) {\n\t    if (!el.o_position) {\n\t      el.o_position = new THREE.Vector3();\n\t    }\n\t    el.o_position.copy(position);\n\t  }\n\t  el.isOpen = false;\n\t  el.setAttribute(\"position\", \"-10000 -10000 -10000\");\n\t  el.setAttribute('fadeout', { duration: 1 });\n\t};\n\t\n\tBehaviors.destroyKeyboard = function (el) {\n\t  var parent = el.parentNode;\n\t  if (!parent) {\n\t    return;\n\t  }\n\t  parent.removeChild(el);\n\t};\n\t\n\tBehaviors.openKeyboard = function (el) {\n\t  if (el.o_position) {\n\t    el.object3D.position.copy(el.o_position);\n\t  }\n\t  el.isOpen = true;\n\t  el._transitioning = true;\n\t  var parent = el.parentNode;\n\t  if (!parent) {\n\t    el.sceneEl.appendChild(el);\n\t  }\n\t  var _iteratorNormalCompletion3 = true;\n\t  var _didIteratorError3 = false;\n\t  var _iteratorError3 = undefined;\n\t\n\t  try {\n\t    var _loop = function _loop() {\n\t      var item = _step3.value;\n\t      var _iteratorNormalCompletion4 = true;\n\t      var _didIteratorError4 = false;\n\t      var _iteratorError4 = undefined;\n\t\n\t      try {\n\t        for (var _iterator4 = item.children[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n\t          var child = _step4.value;\n\t\n\t          child.setAttribute('hide', true);\n\t        }\n\t      } catch (err) {\n\t        _didIteratorError4 = true;\n\t        _iteratorError4 = err;\n\t      } finally {\n\t        try {\n\t          if (!_iteratorNormalCompletion4 && _iterator4.return) {\n\t            _iterator4.return();\n\t          }\n\t        } finally {\n\t          if (_didIteratorError4) {\n\t            throw _iteratorError4;\n\t          }\n\t        }\n\t      }\n\t\n\t      function animationend() {\n\t        item.children[0].removeEventListener('animationend', animationend);\n\t        setTimeout(function () {\n\t          item.children[1].setAttribute('fadein', { duration: 160 });\n\t          Event.emit(Behaviors.el, 'didopen');\n\t          el._transitioning = false;\n\t        }, 10);\n\t      }\n\t      item.children[0].setAttribute('fadein', { duration: 160 });\n\t      item.children[0].addEventListener('animationend', animationend);\n\t    };\n\t\n\t    for (var _iterator3 = el.querySelectorAll('[data-ui]')[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t      _loop();\n\t    }\n\t  } catch (err) {\n\t    _didIteratorError3 = true;\n\t    _iteratorError3 = err;\n\t  } finally {\n\t    try {\n\t      if (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t        _iterator3.return();\n\t      }\n\t    } finally {\n\t      if (_didIteratorError3) {\n\t        throw _iteratorError3;\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\tBehaviors.dismissKeyboard = function (el) {\n\t  el._transitioning = true;\n\t  var _iteratorNormalCompletion5 = true;\n\t  var _didIteratorError5 = false;\n\t  var _iteratorError5 = undefined;\n\t\n\t  try {\n\t    var _loop2 = function _loop2() {\n\t      var item = _step5.value;\n\t      var _iteratorNormalCompletion6 = true;\n\t      var _didIteratorError6 = false;\n\t      var _iteratorError6 = undefined;\n\t\n\t      try {\n\t        for (var _iterator6 = item.children[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n\t          var child = _step6.value;\n\t\n\t          child.setAttribute('show', true);\n\t        }\n\t      } catch (err) {\n\t        _didIteratorError6 = true;\n\t        _iteratorError6 = err;\n\t      } finally {\n\t        try {\n\t          if (!_iteratorNormalCompletion6 && _iterator6.return) {\n\t            _iterator6.return();\n\t          }\n\t        } finally {\n\t          if (_didIteratorError6) {\n\t            throw _iteratorError6;\n\t          }\n\t        }\n\t      }\n\t\n\t      el.isOpen = false;\n\t      function animationend() {\n\t        item.children[1].removeEventListener('animationend', animationend);\n\t        setTimeout(function () {\n\t          function animationend() {\n\t            item.children[0].removeEventListener('animationend', animationend);\n\t            Behaviors.hideKeyboard(el);\n\t            Event.emit(Behaviors.el, 'diddismiss');\n\t            el._transitioning = false;\n\t          }\n\t          item.children[0].setAttribute('fadeout', { duration: 160 });\n\t          item.children[0].addEventListener('animationend', animationend);\n\t        }, 10);\n\t      }\n\t      item.children[1].setAttribute('fadeout', { duration: 160 });\n\t      item.children[1].addEventListener('animationend', animationend);\n\t    };\n\t\n\t    for (var _iterator5 = el.querySelectorAll('[data-ui]')[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n\t      _loop2();\n\t    }\n\t  } catch (err) {\n\t    _didIteratorError5 = true;\n\t    _iteratorError5 = err;\n\t  } finally {\n\t    try {\n\t      if (!_iteratorNormalCompletion5 && _iterator5.return) {\n\t        _iterator5.return();\n\t      }\n\t    } finally {\n\t      if (_didIteratorError5) {\n\t        throw _iteratorError5;\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// KEY EVENTS\n\t\n\tBehaviors.addKeyEvents = function (el) {\n\t  el.addEventListener('click', Behaviors.keyClick);\n\t  el.addEventListener('mousedown', Behaviors.keyDown);\n\t  el.addEventListener('mouseup', Behaviors.keyOut);\n\t  el.addEventListener('raycaster-intersected', Behaviors.keyIn);\n\t  el.addEventListener('raycaster-intersected-cleared', Behaviors.keyOut);\n\t  //triggerdown\n\t  // https://aframe.io/docs/0.6.0/components/hand-controls.html\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// KEYCLICK\n\t\n\tBehaviors.keyClick = function () {\n\t  if (!Behaviors.el.data.mute) {\n\t    SFX.keyDown(Behaviors.el);\n\t  }\n\t\n\t  var type = this.getAttribute('key-type');\n\t  var value = this.getAttribute('key-value');\n\t\n\t  if (type === 'text' || type === 'spacebar') {\n\t    if (type === 'spacebar') {\n\t      value = ' ';\n\t    }\n\t    if (Behaviors.isShiftEnabled) {\n\t      value = value.toUpperCase();\n\t      Behaviors.shiftToggle();\n\t    } else if (Behaviors.isSymbols) {\n\t      Behaviors.symbolsToggle();\n\t    }\n\t    Event.emit(Behaviors.el, 'input', value);\n\t  } else if (type === 'shift') {\n\t    Behaviors.shiftToggle();\n\t  } else if (type === 'symbol') {\n\t    Behaviors.symbolsToggle();\n\t  } else if (type === 'backspace') {\n\t    Event.emit(Behaviors.el, 'backspace');\n\t  } else if (type === 'enter') {\n\t    Event.emit(Behaviors.el, 'input', '\\n');\n\t    Event.emit(Behaviors.el, 'enter', '\\n');\n\t  } else if (type === 'dismiss') {\n\t    Event.emit(Behaviors.el, 'dismiss');\n\t  }\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// KEYDOWN\n\t\n\tBehaviors.keyDown = function () {\n\t  if (Behaviors.el._transitioning) {\n\t    return;\n\t  }\n\t  this.object3D.position.z = 0.003;\n\t  if (this.getAttribute('key-type') === 'spacebar') {\n\t    this.setAttribute('color', Config.SPACEBAR_COLOR_ACTIVE);\n\t  } else {\n\t    this.setAttribute('color', Config.KEY_COLOR_ACTIVE);\n\t  }\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// KEYIN\n\t\n\tBehaviors.keyIn = function () {\n\t  if (Behaviors.el._transitioning) {\n\t    return;\n\t  }\n\t  if (this.object3D.children[2] && this.object3D.children[2].material && !this.object3D.children[2].material.opacity) {\n\t    return;\n\t  }\n\t  if (!Behaviors.el.data.mute) {\n\t    SFX.keyIn(Behaviors.el);\n\t  }\n\t  if (this.getAttribute('key-type') === 'spacebar') {\n\t    this.setAttribute('color', Config.SPACEBAR_COLOR_HIGHLIGHT);\n\t  } else {\n\t    this.setAttribute('color', Config.KEY_COLOR_HIGHLIGHT);\n\t  }\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// KEYOUT\n\t\n\tBehaviors.keyOut = function () {\n\t  this.object3D.position.z = 0;\n\t  if (this.getAttribute('key-type') === 'spacebar') {\n\t    this.setAttribute('color', Config.KEY_COLOR_ACTIVE);\n\t  } else {\n\t    this.setAttribute('color', Config.KEYBOARD_COLOR);\n\t  }\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// SHIFT\n\t\n\tBehaviors.isShiftEnabled = false;\n\tBehaviors.shiftToggle = function () {\n\t  Behaviors.isShiftEnabled = !Behaviors.isShiftEnabled;\n\t\n\t  var icon_el = Behaviors.el.shiftKey.querySelector('[data-type]');\n\t  if (Behaviors.isShiftEnabled) {\n\t    icon_el.setAttribute('src', Assets.aframeKeyboardShiftActive);\n\t  } else {\n\t    icon_el.setAttribute('src', Assets.aframeKeyboardShift);\n\t  }\n\t\n\t  var _iteratorNormalCompletion7 = true;\n\t  var _didIteratorError7 = false;\n\t  var _iteratorError7 = undefined;\n\t\n\t  try {\n\t    for (var _iterator7 = document.querySelectorAll(\"[key-id]\")[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n\t      var keyEl = _step7.value;\n\t\n\t      var key_id = keyEl.getAttribute('key-id'),\n\t          key_type = keyEl.getAttribute('key-type');\n\t      if (key_id.startsWith('main-') && key_type === \"text\") {\n\t        var textEl = keyEl.querySelector('a-text');\n\t        if (textEl) {\n\t          var value = textEl.getAttribute('value').toLowerCase();\n\t          if (this.isShiftEnabled) {\n\t            value = value.toUpperCase();\n\t          }\n\t          textEl.setAttribute('value', value);\n\t        }\n\t      }\n\t    }\n\t  } catch (err) {\n\t    _didIteratorError7 = true;\n\t    _iteratorError7 = err;\n\t  } finally {\n\t    try {\n\t      if (!_iteratorNormalCompletion7 && _iterator7.return) {\n\t        _iterator7.return();\n\t      }\n\t    } finally {\n\t      if (_didIteratorError7) {\n\t        throw _iteratorError7;\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// SYMBOLS\n\t\n\tBehaviors.isSymbols = false;\n\tBehaviors.symbolsToggle = function () {\n\t  Behaviors.isSymbols = !Behaviors.isSymbols;\n\t  if (!Behaviors.isSymbols) {\n\t    var parent = Behaviors.el.symbolsLayout.parentNode;\n\t    parent.removeChild(Behaviors.el.symbolsLayout);\n\t    parent.appendChild(Behaviors.el.alphabeticalLayout);\n\t    setTimeout(function () {\n\t      Utils.updateOpacity(Behaviors.el.alphabeticalLayout, 1);\n\t    }, 0);\n\t  } else {\n\t    var _parent = Behaviors.el.alphabeticalLayout.parentNode;\n\t    _parent.removeChild(Behaviors.el.alphabeticalLayout);\n\t    _parent.appendChild(Behaviors.el.symbolsLayout);\n\t  }\n\t};\n\t\n\tmodule.exports = Behaviors;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Assets = __webpack_require__(13);\n\t\n\tvar SFX = {\n\t\n\t  init: function init(parent) {\n\t    var el = document.createElement('a-sound');\n\t    el.setAttribute('key', 'aframeKeyboardKeyInSound');\n\t    el.setAttribute('sfx', true);\n\t    el.setAttribute('src', Assets.aframeKeyboardKeyIn);\n\t    el.setAttribute('position', '0 2 5');\n\t    parent.appendChild(el);\n\t\n\t    el = document.createElement('a-sound');\n\t    el.setAttribute('key', 'aframeKeyboardKeyDownSound');\n\t    el.setAttribute('sfx', true);\n\t    el.setAttribute('src', Assets.aframeKeyboardKeyDown);\n\t    el.setAttribute('position', '0 2 5');\n\t    parent.appendChild(el);\n\t  },\n\t\n\t  keyIn: function keyIn(parent) {\n\t    var el = parent.querySelector('[key=aframeKeyboardKeyInSound]');\n\t    if (!el) {\n\t      return;\n\t    }\n\t    el.components.sound.stopSound();\n\t    el.components.sound.playSound();\n\t  },\n\t\n\t  keyDown: function keyDown(parent) {\n\t    var el = parent.querySelector('[key=aframeKeyboardKeyDownSound]');\n\t    if (!el) {\n\t      return;\n\t    }\n\t    el.components.sound.stopSound();\n\t    el.components.sound.playSound();\n\t  }\n\t};\n\t\n\tmodule.exports = SFX;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = {\n\t  aframeKeyboardShift: AFRAME.ASSETS_PATH + \"/images/ShiftIcon.png\",\n\t  aframeKeyboardShiftActive: AFRAME.ASSETS_PATH + \"/images/ShiftActiveIcon.png\",\n\t  aframeKeyboardGlobal: AFRAME.ASSETS_PATH + \"/images/GlobalIcon.png\",\n\t  aframeKeyboardBackspace: AFRAME.ASSETS_PATH + \"/images/BackspaceIcon.png\",\n\t  aframeKeyboardEnter: AFRAME.ASSETS_PATH + \"/images/EnterIcon.png\",\n\t  aframeKeyboardDismiss: AFRAME.ASSETS_PATH + \"/images/DismissIcon.png\",\n\t  aframeKeyboardShadow: AFRAME.ASSETS_PATH + \"/images/KeyShadow.png\",\n\t  aframeKeyboardKeyIn: AFRAME.ASSETS_PATH + \"/sounds/KeyIn.mp3\",\n\t  aframeKeyboardKeyDown: AFRAME.ASSETS_PATH + \"/sounds/KeyDown.mp3\"\n\t};\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Utils = __webpack_require__(6);\n\tvar Event = __webpack_require__(4);\n\t\n\t/*\r\n\t@BUG: Space has not effect when no letter comes after.\r\n\t@TODO: <progress value=\"70\" max=\"100\">70 %</progress>\r\n\t*/\n\t\n\tAFRAME.registerComponent('input', {\n\t  schema: {\n\t    value: { type: \"string\", default: \"\" },\n\t    name: { type: \"string\", default: \"\" },\n\t    disabled: { type: \"boolean\", default: false },\n\t    color: { type: \"color\", default: \"#000\" },\n\t    align: { type: \"string\", default: \"left\" },\n\t    font: { type: \"string\", default: \"\" },\n\t    letterSpacing: { type: \"int\", default: 0 },\n\t    lineHeight: { type: \"string\", default: \"\" },\n\t    opacity: { type: \"number\", default: 1 },\n\t    side: { type: \"string\", default: 'front' },\n\t    tabSize: { type: \"int\", default: 4 },\n\t    placeholder: { type: \"string\", default: \"\" },\n\t    placeholderColor: { type: \"color\", default: \"#AAA\" },\n\t    maxLength: { type: \"int\", default: 0 },\n\t    type: { type: \"string\", default: \"text\" },\n\t    width: { type: \"number\", default: 1 },\n\t    cursorWidth: { type: \"number\", default: 0.01 },\n\t    cursorHeight: { type: \"number\", default: 0.08 },\n\t    cursorColor: { type: \"color\", default: \"#007AFF\" },\n\t    backgroundColor: { type: \"color\", default: \"#FFF\" },\n\t    backgroundOpacity: { type: \"number\", default: 1 }\n\t  },\n\t\n\t  init: function init() {\n\t    var that = this;\n\t\n\t    this.background = document.createElement('a-rounded');\n\t    this.background.setAttribute('radius', 0.01);\n\t    this.background.setAttribute('height', 0.18);\n\t    this.background.setAttribute('side', 'double');\n\t    this.el.appendChild(this.background);\n\t\n\t    this.cursor = document.createElement('a-plane');\n\t    this.cursor.setAttribute('position', '0 0 0.003');\n\t    this.cursor.setAttribute('visible', false);\n\t    this.el.appendChild(this.cursor);\n\t\n\t    this.text = document.createElement('a-entity');\n\t    this.el.appendChild(this.text);\n\t\n\t    this.placeholder = document.createElement('a-entity');\n\t    this.placeholder.setAttribute('visible', false);\n\t    this.el.appendChild(this.placeholder);\n\t\n\t    this.el.focus = this.focus.bind(this);\n\t    this.el.blur = this.blur.bind(this);\n\t    this.el.appendString = this.appendString.bind(this);\n\t    this.el.deleteLast = this.deleteLast.bind(this);\n\t\n\t    //setTimeout(function() { that.updateText(); }, 0);\n\t    this.blink();\n\t\n\t    this.el.addEventListener('click', function () {\n\t      if (this.components.input.data.disabled) {\n\t        return;\n\t      }\n\t      that.focus();\n\t    });\n\t\n\t    Object.defineProperty(this.el, 'value', {\n\t      get: function get() {\n\t        return this.getAttribute('value');\n\t      },\n\t      set: function set(value) {\n\t        this.setAttribute('value', value);\n\t      },\n\t      enumerable: true,\n\t      configurable: true\n\t    });\n\t  },\n\t  blink: function blink() {\n\t    var that = this;\n\t    if (!this.isFocused) {\n\t      that.cursor.setAttribute('visible', false);\n\t      clearInterval(this.cursorInterval);\n\t      this.cursorInterval = null;\n\t      return;\n\t    }\n\t    this.cursorInterval = setInterval(function () {\n\t      that.cursor.setAttribute('visible', !that.cursor.getAttribute('visible'));\n\t    }, 500);\n\t  },\n\t  isFocused: false,\n\t  focus: function focus(noemit) {\n\t    if (this.isFocused) {\n\t      return;\n\t    }\n\t    this.isFocused = true;\n\t    this.cursor.setAttribute('visible', true);\n\t    this.blink();\n\t    Event.emit(this.el, 'focus');\n\t    if (!noemit) {\n\t      Event.emit(document.body, 'didfocusinput', this.el);\n\t    }\n\t  },\n\t  blur: function blur(noemit) {\n\t    if (!this.isFocused) {\n\t      return;\n\t    }\n\t    this.isFocused = false;\n\t    if (this.cursorInterval) {\n\t      clearInterval(this.cursorInterval);\n\t      this.cursorInterval = null;\n\t    }\n\t    this.cursor.setAttribute('visible', false);\n\t    Event.emit(this.el, 'blur');\n\t    if (!noemit) {\n\t      Event.emit(document.body, 'didblurinput', this.el);\n\t    }\n\t  },\n\t  appendString: function appendString(data) {\n\t    if (data === '\\n') {\n\t      return this.blur();\n\t    }\n\t    var str = this.el.getAttribute(\"value\");\n\t    if (!str) {\n\t      str = \"\";\n\t    }\n\t    str = str + data;\n\t    this.el.setAttribute(\"value\", str);\n\t    Event.emit(this.el, 'change', str);\n\t  },\n\t  deleteLast: function deleteLast() {\n\t    var str = this.el.getAttribute(\"value\");\n\t    if (!str) {\n\t      str = \"\";\n\t    }\n\t    str = str.slice(0, -1);\n\t    this.el.setAttribute(\"value\", str);\n\t    Event.emit(this.el, 'change', str);\n\t  },\n\t  updateText: function updateText() {\n\t    var that = this;\n\t    var padding = {\n\t      left: 0.021,\n\t      right: 0.021\n\t    };\n\t\n\t    var props = {\n\t      color: this.data.color,\n\t      align: this.data.align,\n\t      side: this.data.side,\n\t      tabSize: this.data.tabSize,\n\t      wrapCount: 24 * this.data.width,\n\t      width: this.data.width\n\t\n\t      // Make cursor stop blinking when typing..\n\t      // (and blinking again after typing stop).\n\t    };var attr = this.text.getAttribute(\"text\");\n\t    if (attr) {\n\t      if (this.data.value !== attr.value) {\n\t        if (this.cursorInterval) {\n\t          clearInterval(this.cursorInterval);\n\t          this.cursorInterval = null;\n\t        }\n\t        if (this.cursorTimer) {\n\t          clearTimeout(this.cursorTimer);\n\t          this.cursorTimer = null;\n\t        }\n\t        this.cursor.setAttribute('visible', true);\n\t        this.cursorTimer = setTimeout(function () {\n\t          that.blink();\n\t        }, 50);\n\t      }\n\t    }\n\t\n\t    // Max length\n\t    if (this.data.maxLength) {\n\t      props.value = this.data.value.substring(0, this.data.maxLength);\n\t      this.el.setAttribute('value', props.value);\n\t    } else {\n\t      props.value = this.data.value;\n\t    }\n\t\n\t    if (this.data.type === \"password\") {\n\t      props.value = \"*\".repeat(this.data.value.length);\n\t    }\n\t\n\t    if (this.data.font.length) {\n\t      props.font = this.data.font;\n\t    }\n\t    if (this.data.letterSpacing) {\n\t      props.letterSpacing = this.data.letterSpacing;\n\t    }\n\t    if (this.data.lineHeight.length) {\n\t      props.lineHeight = this.data.lineHeight;\n\t    }\n\t    this.text.setAttribute('visible', false);\n\t    this.text.setAttribute(\"text\", props);\n\t\n\t    function getTextWidth(el, data, trimFirst, _widthFactor) {\n\t      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) {\n\t        return 0;\n\t      }\n\t      var v = el.object3D.children[0].geometry.visibleGlyphs;\n\t      if (!v) {\n\t        return 0;\n\t      }\n\t      v = v[v.length - 1];\n\t      if (!v) {\n\t        return 0;\n\t      }\n\t      if (v.line) {\n\t        if (trimFirst) {\n\t          data.value = data.value.substr(1);\n\t        } else {\n\t          data.value = data.value.slice(0, -1);\n\t        }\n\t        el.setAttribute(\"text\", data);\n\t        return getTextWidth(el, data, trimFirst);\n\t      } else {\n\t        if (!_widthFactor) {\n\t          _widthFactor = Utils.getWidthFactor(el, data.wrapCount);\n\t        }\n\t        v = (v.position[0] + v.data.width) / (_widthFactor / that.data.width);\n\t        var textRatio = (v + padding.left + padding.right) / that.data.width;\n\t\n\t        if (textRatio > 1) {\n\t          if (trimFirst) {\n\t            data.value = data.value.substr(1);\n\t          } else {\n\t            data.value = data.value.slice(0, -1);\n\t          }\n\t          el.setAttribute(\"text\", data);\n\t          return getTextWidth(el, data, trimFirst, _widthFactor);\n\t        }\n\t      }\n\t      return v;\n\t    }\n\t\n\t    if (props.value.length) {\n\t      this.placeholder.setAttribute('visible', false);\n\t    } else {\n\t      this.placeholder.setAttribute('visible', true);\n\t    }\n\t\n\t    var placeholder_props = Utils.clone(props);\n\t    placeholder_props.value = this.data.placeholder;\n\t    placeholder_props.color = this.data.placeholderColor;\n\t    this.placeholder.setAttribute(\"text\", placeholder_props);\n\t\n\t    setTimeout(function () {\n\t      if (that.text.object3D) {\n\t        var children = that.text.object3D.children;\n\t        if (children[0] && children[0].geometry && children[0].geometry.visibleGlyphs) {\n\t          var v = 0;\n\t          if (children[0].geometry.visibleGlyphs.length) {\n\t            v = getTextWidth(that.text, props, true);\n\t            that.text.setAttribute('visible', true);\n\t          }\n\t          that.cursor.setAttribute('position', v + padding.left + ' 0 0.003');\n\t        } else {\n\t          that.cursor.setAttribute('position', padding.left + ' 0 0.003');\n\t        }\n\t      } else {\n\t        that.cursor.setAttribute('position', padding.left + ' 0 0.003');\n\t      }\n\t      getTextWidth(that.placeholder, placeholder_props);\n\t    }, 0);\n\t\n\t    this.background.setAttribute('color', this.data.backgroundColor);\n\t    /*if (this.data.backgroundOpacity) {\r\n\t      setTimeout(function() {\r\n\t        Utils.updateOpacity(that.background, that.data.backgroundOpacity);\r\n\t      }, 0);\r\n\t    }*/\n\t    this.background.setAttribute('width', this.data.width);\n\t    //this.background.setAttribute('position', this.data.width/2+' 0 0');\n\t    this.background.setAttribute('position', '0 -0.09 0.001');\n\t    this.text.setAttribute('position', padding.left - 0.001 + this.data.width / 2 + ' 0 0.002');\n\t    this.placeholder.setAttribute('position', padding.left - 0.001 + this.data.width / 2 + ' 0 0.002');\n\t  },\n\t  updateCursor: function updateCursor() {\n\t    this.cursor.setAttribute('width', this.data.cursorWidth);\n\t    this.cursor.setAttribute('height', this.data.cursorHeight);\n\t    this.cursor.setAttribute('color', this.data.cursorColor);\n\t  },\n\t  update: function update() {\n\t    var that = this;\n\t    setTimeout(function () {\n\t      //  Utils.updateOpacity(that.el, that.data.opacity);\n\t    }, 0);\n\t\n\t    this.updateCursor();\n\t    this.updateText();\n\t  },\n\t  tick: function tick() {},\n\t  remove: function remove() {},\n\t  pause: function pause() {},\n\t  play: function play() {}\n\t});\n\t\n\tAFRAME.registerPrimitive('a-input', {\n\t  defaultComponents: {\n\t    input: {}\n\t  },\n\t  mappings: {\n\t    value: 'input.value',\n\t    name: 'input.name',\n\t    disabled: 'input.disabled',\n\t    color: 'input.color',\n\t    align: 'input.align',\n\t    font: 'input.font',\n\t    'letter-spacing': 'input.letterSpacing',\n\t    'line-height': 'input.lineHeight',\n\t    'opacity': 'input.opacity',\n\t    'side': 'input.side',\n\t    'tab-size': 'input.tabSize',\n\t    placeholder: 'input.placeholder',\n\t    'placeholder-color': 'input.placeholderColor',\n\t    'max-length': 'input.maxLength',\n\t    type: 'input.type',\n\t    width: 'input.width',\n\t    'cursor-width': \"input.cursorWidth\",\n\t    'cursor-height': \"input.cursorHeight\",\n\t    'cursor-color': \"input.cursorColor\",\n\t    'background-color': 'input.backgroundColor',\n\t    'background-opacity': 'input.backgroundOpacity'\n\t  }\n\t});\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Utils = __webpack_require__(6);\n\tvar Event = __webpack_require__(4);\n\tvar Assets = __webpack_require__(16);\n\tvar SFX = __webpack_require__(17);\n\t\n\tAFRAME.registerComponent('switch', {\n\t  schema: {\n\t    name: { type: \"string\", default: \"\" },\n\t    enabled: { type: 'boolean', default: false },\n\t    disabled: { type: 'boolean', default: false },\n\t    fillColor: { type: \"color\", default: \"#bababa\" },\n\t    knobColor: { type: \"color\", default: \"#f5f5f5\" },\n\t    fillColorEnabled: { type: \"color\", default: \"#80a8ff\" },\n\t    knobColorEnabled: { type: \"color\", default: \"#4076fd\" },\n\t    fillColorDisabled: { type: \"color\", default: \"#939393\" },\n\t    knobColorDisabled: { type: \"color\", default: \"#a2a2a2\" },\n\t    mute: { type: \"boolean\", default: true }\n\t  },\n\t  init: function init() {\n\t    var that = this;\n\t\n\t    // Assets\n\t    Utils.preloadAssets(Assets);\n\t\n\t    // SFX\n\t    if (!this.data.mute) {\n\t      SFX.init(this.el);\n\t    }\n\t\n\t    // FILL\n\t    this.el.fill = document.createElement('a-rounded');\n\t    this.el.fill.setAttribute('width', 0.36);\n\t    this.el.fill.setAttribute('height', 0.16);\n\t    this.el.fill.setAttribute('radius', 0.08);\n\t    this.el.fill.setAttribute('side', 'double');\n\t    this.el.fill.setAttribute('position', '0 0 0.01');\n\t    this.el.appendChild(this.el.fill);\n\t\n\t    // KNOB\n\t    this.el.knob = document.createElement('a-circle');\n\t    this.el.knob.setAttribute('position', '0.06 0.08 0.02');\n\t    this.el.knob.setAttribute('radius', 0.12);\n\t    this.el.knob.setAttribute('side', 'double');\n\t    this.el.appendChild(this.el.knob);\n\t\n\t    // SHADOW\n\t    this.el.shadow_el = document.createElement('a-image');\n\t    this.el.shadow_el.setAttribute('width', 0.24 * 1.25);\n\t    this.el.shadow_el.setAttribute('height', 0.24 * 1.25);\n\t    this.el.shadow_el.setAttribute('position', '0 0 -0.001');\n\t    this.el.shadow_el.setAttribute('src', '#aframeSwitchShadow');\n\t    this.el.knob.appendChild(this.el.shadow_el);\n\t\n\t    this.el.addEventListener('click', function () {\n\t      if (this.components.switch.data.disabled) {\n\t        return;\n\t      }\n\t      this.setAttribute('enabled', !this.components.switch.data.enabled);\n\t      Event.emit(this, 'change', this.components.switch.data.enabled);\n\t    });\n\t    this.el.addEventListener('mousedown', function () {\n\t      if (this.components.switch.data.disabled) {\n\t        if (!this.data.mute) {\n\t          return SFX.clickDisabled(this);\n\t        }\n\t        return;\n\t      }\n\t      if (!this.data.mute) {\n\t        SFX.click(this);\n\t      }\n\t    });\n\t\n\t    Object.defineProperty(this.el, 'enabled', {\n\t      get: function get() {\n\t        return this.getAttribute('enabled');\n\t      },\n\t      set: function set(value) {\n\t        this.setAttribute('enabled', value);\n\t      },\n\t      enumerable: true,\n\t      configurable: true\n\t    });\n\t  },\n\t  on: function on() {\n\t    this.el.fill.setAttribute('color', this.data.fillColorEnabled);\n\t    this.el.knob.setAttribute('position', '0.32 0.08 0.02');\n\t    this.el.knob.setAttribute('color', this.data.knobColorEnabled);\n\t  },\n\t  off: function off() {\n\t    this.el.fill.setAttribute('color', this.data.fillColor);\n\t    this.el.knob.setAttribute('position', '0.06 0.08 0.02');\n\t    this.el.knob.setAttribute('color', this.data.knobColor);\n\t  },\n\t  disable: function disable() {\n\t    this.el.fill.setAttribute('color', this.data.fillColorDisabled);\n\t    this.el.knob.setAttribute('color', this.data.knobColorDisabled);\n\t  },\n\t  update: function update() {\n\t    if (this.data.enabled) {\n\t      this.on();\n\t    } else {\n\t      this.off();\n\t    }\n\t    if (this.data.disabled) {\n\t      this.disable();\n\t    }\n\t  },\n\t  tick: function tick() {},\n\t  remove: function remove() {},\n\t  pause: function pause() {},\n\t  play: function play() {}\n\t});\n\t\n\tAFRAME.registerPrimitive('a-switch', {\n\t  defaultComponents: {\n\t    switch: {}\n\t  },\n\t  mappings: {\n\t    name: 'switch.name',\n\t    enabled: 'switch.enabled',\n\t    disabled: 'switch.disabled',\n\t    'fill-color': 'switch.fillColor',\n\t    'knob-color': 'switch.knobColor',\n\t    'fill-color-enabled': 'switch.fillColorEnabled',\n\t    'knob-color-enabled': 'switch.knobColorEnabled',\n\t    'fill-color-disabled': 'switch.fillColorDisabled',\n\t    'knob-color-disabled': 'switch.knobColorDisabled',\n\t    mute: 'switch.mute'\n\t  }\n\t});\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = [{ type: 'img', id: 'aframeSwitchShadow', src: AFRAME.ASSETS_PATH + '/images/SwitchShadow.png' }, { type: 'audio', id: 'aframeSwitchClick', src: AFRAME.ASSETS_PATH + '/sounds/InputClick.mp3' }, { type: 'audio', id: 'aframeSwitchClickDisabled', src: AFRAME.ASSETS_PATH + '/sounds/ButtonClickDisabled.mp3' }];\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar SFX = {\n\t\n\t  init: function init(parent) {\n\t    var el = document.createElement('a-sound');\n\t    el.setAttribute('key', 'aframeSwitchClickSound');\n\t    el.setAttribute('sfx', true);\n\t    el.setAttribute('src', '#aframeSwitchClick');\n\t    el.setAttribute('position', '0 2 5');\n\t    parent.appendChild(el);\n\t\n\t    el = document.createElement('a-sound');\n\t    el.setAttribute('key', 'aframeSwitchClickDisabledSound');\n\t    el.setAttribute('sfx', true);\n\t    el.setAttribute('src', '#aframeSwitchClickDisabled');\n\t    el.setAttribute('position', '0 2 5');\n\t    parent.appendChild(el);\n\t  },\n\t\n\t  click: function click(parent) {\n\t    var el = parent.querySelector('[key=aframeSwitchClickSound]');\n\t    if (!el) {\n\t      return;\n\t    }\n\t    el.components.sound.stopSound();\n\t    el.components.sound.playSound();\n\t  },\n\t\n\t  clickDisabled: function clickDisabled(parent) {\n\t    var el = parent.querySelector('[key=aframeSwitchClickDisabledSound]');\n\t    if (!el) {\n\t      return;\n\t    }\n\t    el.components.sound.stopSound();\n\t    el.components.sound.playSound();\n\t  }\n\t};\n\t\n\tmodule.exports = SFX;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Utils = __webpack_require__(6);\n\tvar Event = __webpack_require__(4);\n\t\n\tAFRAME.registerComponent('form', {\n\t  schema: {},\n\t  init: function init() {},\n\t  update: function update() {},\n\t  tick: function tick() {},\n\t  remove: function remove() {},\n\t  pause: function pause() {},\n\t  play: function play() {}\n\t});\n\t\n\tAFRAME.registerPrimitive('a-form', {\n\t  defaultComponents: {\n\t    form: {}\n\t  },\n\t  mappings: {}\n\t});\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Utils = __webpack_require__(6);\n\tvar Event = __webpack_require__(4);\n\tvar Assets = __webpack_require__(20);\n\tvar SFX = __webpack_require__(21);\n\t\n\tAFRAME.registerComponent('radio', {\n\t  schema: {\n\t    checked: { type: 'boolean', default: false },\n\t    disabled: { type: 'boolean', default: false },\n\t    name: { type: \"string\", default: \"\" },\n\t    value: { type: \"string\", default: \"\" },\n\t    label: { type: \"string\", default: \"\" },\n\t    radioColor: { type: \"color\", default: \"#757575\" },\n\t    radioColorChecked: { type: \"color\", default: \"#4076fd\" },\n\t    color: { type: \"color\", default: \"#757575\" },\n\t    font: { type: \"string\", default: \"\" },\n\t    letterSpacing: { type: \"int\", default: 0 },\n\t    lineHeight: { type: \"string\", default: \"\" },\n\t    opacity: { type: \"number\", default: 1 },\n\t    width: { type: \"number\", default: 1 },\n\t    mute: { type: \"boolean\", default: true }\n\t  },\n\t  init: function init() {\n\t    var that = this;\n\t\n\t    // Assets\n\t    Utils.preloadAssets(Assets);\n\t\n\t    // SFX\n\t    if (!this.data.mute) {\n\t      SFX.init(this.el);\n\t    }\n\t\n\t    // HITBOX\n\t    this.hitbox = document.createElement('a-plane');\n\t    this.hitbox.setAttribute('height', 0.2);\n\t    this.hitbox.setAttribute('opacity', 0);\n\t    this.hitbox.setAttribute('position', '0 0 0.001');\n\t    this.el.appendChild(this.hitbox);\n\t\n\t    // OUTLINE\n\t    this.outline = document.createElement('a-ring');\n\t    this.outline.setAttribute('radius-outer', 0.1);\n\t    this.outline.setAttribute('radius-inner', 0.078);\n\t    this.outline.setAttribute('position', '0.1 0 0.002');\n\t    this.el.appendChild(this.outline);\n\t\n\t    // CIRCLE\n\t    this.circle = document.createElement('a-circle');\n\t    this.circle.setAttribute('radius', 0.05);\n\t    this.circle.setAttribute('position', '0.1 0 0.002');\n\t    this.el.appendChild(this.circle);\n\t\n\t    // LABEL\n\t    this.label = document.createElement('a-entity');\n\t    this.el.appendChild(this.label);\n\t\n\t    // EVENTS\n\t    this.el.addEventListener('click', function () {\n\t      if (this.components.radio.data.disabled) {\n\t        return;\n\t      }\n\t      this.setAttribute('checked', true);\n\t      that.onClick();\n\t    });\n\t    this.el.addEventListener('mousedown', function () {\n\t      if (this.components.radio.data.disabled) {\n\t        if (!this.data.mute) {\n\t          return SFX.clickDisabled(this);\n\t        }\n\t        return;\n\t      }\n\t      if (!this.data.mute) {\n\t        SFX.click(this);\n\t      }\n\t    });\n\t\n\t    Object.defineProperty(this.el, 'value', {\n\t      get: function get() {\n\t        return this.getAttribute('value');\n\t      },\n\t      set: function set(value) {\n\t        this.setAttribute('value', value);\n\t      },\n\t      enumerable: true,\n\t      configurable: true\n\t    });\n\t  },\n\t  onClick: function onClick(noemit) {\n\t    if (this.data.name) {\n\t      var nearestForm = this.el.closest(\"a-form\");\n\t      if (nearestForm) {\n\t        var didCheck = false;\n\t        var children = Array.from(nearestForm.querySelectorAll('[name=' + this.data.name + ']'));\n\t        children.reverse();\n\t        var _iteratorNormalCompletion = true;\n\t        var _didIteratorError = false;\n\t        var _iteratorError = undefined;\n\t\n\t        try {\n\t          for (var _iterator = children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t            var child = _step.value;\n\t\n\t            // Radio + not disabled\n\t            if (child.components.radio) {\n\t              // Currently checked\n\t              if (child === this.el && child.hasAttribute('checked')) {\n\t                didCheck = true;\n\t                child.components.radio.check();\n\t                if (!noemit) {\n\t                  Event.emit(child, 'change', true);\n\t                }\n\t              } else {\n\t                if (!didCheck && !this.data.checked && child.hasAttribute('checked')) {\n\t                  didCheck = true;\n\t                  child.components.radio.check();\n\t                } else {\n\t                  child.components.radio.uncheck();\n\t                }\n\t              }\n\t            }\n\t          }\n\t        } catch (err) {\n\t          _didIteratorError = true;\n\t          _iteratorError = err;\n\t        } finally {\n\t          try {\n\t            if (!_iteratorNormalCompletion && _iterator.return) {\n\t              _iterator.return();\n\t            }\n\t          } finally {\n\t            if (_didIteratorError) {\n\t              throw _iteratorError;\n\t            }\n\t          }\n\t        }\n\t\n\t        if (!didCheck && this.el.hasAttribute('checked')) {\n\t          this.check();\n\t          if (!noemit) {\n\t            Event.emit(this.el, 'change', true);\n\t          }\n\t        }\n\t      }\n\t    }\n\t  },\n\t  check: function check() {\n\t    this.outline.setAttribute('color', this.data.radioColorChecked);\n\t    this.circle.setAttribute('color', this.data.radioColorChecked);\n\t    this.circle.setAttribute('visible', true);\n\t    if (this.data.disabled) {\n\t      this.disabled();\n\t    }\n\t  },\n\t  uncheck: function uncheck() {\n\t    this.outline.setAttribute('color', this.data.radioColor);\n\t    this.circle.setAttribute('visible', false);\n\t    if (this.data.disabled) {\n\t      this.disabled();\n\t    }\n\t  },\n\t  disabled: function disabled() {\n\t    this.outline.setAttribute('color', this.data.radioColor);\n\t    this.circle.setAttribute('color', this.data.radioColor);\n\t  },\n\t  update: function update() {\n\t    var that = this;\n\t    this.onClick(true);\n\t\n\t    // HITBOX\n\t    this.hitbox.setAttribute('width', this.data.width);\n\t    this.hitbox.setAttribute('position', this.data.width / 2 + ' 0 0.001');\n\t\n\t    var props = {\n\t      color: this.data.color,\n\t      align: 'left',\n\t      wrapCount: 10 * (this.data.width + 0.2),\n\t      width: this.data.width\n\t    };\n\t    if (this.data.font) {\n\t      props.font = this.data.font;\n\t    }\n\t\n\t    // TITLE\n\t    props.value = this.data.label;\n\t    props.color = this.data.color;\n\t    this.label.setAttribute('text', props);\n\t    this.label.setAttribute('position', this.data.width / 2 + 0.24 + ' 0 0.002');\n\t\n\t    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n\t    function getTextWidth(el, _widthFactor) {\n\t      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) {\n\t        return 0;\n\t      }\n\t      var v = el.object3D.children[0].geometry.visibleGlyphs;\n\t      if (!v) {\n\t        return 0;\n\t      }\n\t      v = v[v.length - 1];\n\t      if (!v) {\n\t        return 0;\n\t      }\n\t      if (v.line) {\n\t        props.value = props.value.slice(0, -1);\n\t        el.setAttribute(\"text\", props);\n\t        return getTextWidth(el);\n\t      } else {\n\t        if (!_widthFactor) {\n\t          _widthFactor = Utils.getWidthFactor(el, props.wrapCount);\n\t        }\n\t        v = (v.position[0] + v.data.width) / (_widthFactor / that.data.width);\n\t        var textRatio = v / that.data.width;\n\t        if (textRatio > 1) {\n\t          props.value = props.value.slice(0, -1);\n\t          el.setAttribute(\"text\", props);\n\t          return getTextWidth(el, _widthFactor);\n\t        }\n\t      }\n\t      return v;\n\t    }\n\t    setTimeout(function () {\n\t      if (that.data.label.length) {\n\t        getTextWidth(that.label);\n\t      }\n\t      if (that.data.disabled) {\n\t        var timer = setInterval(function () {\n\t          if (that.outline.object3D.children[0]) {\n\t            clearInterval(timer);\n\t            Utils.updateOpacity(that.outline, 0.4);\n\t            Utils.updateOpacity(that.circle, 0.4);\n\t            Utils.updateOpacity(that.label, 0.4);\n\t          }\n\t        }, 10);\n\t      } else {\n\t        var _timer = setInterval(function () {\n\t          if (that.outline.object3D.children[0]) {\n\t            clearInterval(_timer);\n\t            Utils.updateOpacity(that.outline, 1);\n\t            Utils.updateOpacity(that.circle, 1);\n\t            Utils.updateOpacity(that.label, 1);\n\t          }\n\t        }, 10);\n\t      }\n\t    }, 0);\n\t  },\n\t  tick: function tick() {},\n\t  remove: function remove() {},\n\t  pause: function pause() {},\n\t  play: function play() {}\n\t});\n\t\n\tAFRAME.registerPrimitive('a-radio', {\n\t  defaultComponents: {\n\t    radio: {}\n\t  },\n\t  mappings: {\n\t    checked: 'radio.checked',\n\t    disabled: 'radio.disabled',\n\t    name: 'radio.name',\n\t    value: 'radio.value',\n\t    label: 'radio.label',\n\t    'radio-color': 'radio.radioColor',\n\t    'radio-color-checked': 'radio.radioColorChecked',\n\t    color: 'radio.color',\n\t    align: 'radio.align',\n\t    font: 'radio.font',\n\t    'letter-spacing': 'radio.letterSpacing',\n\t    'line-height': 'radio.lineHeight',\n\t    'opacity': 'radio.opacity',\n\t    width: 'radio.width',\n\t    mute: 'radio.mute'\n\t  }\n\t});\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = [{ type: 'audio', id: 'aframeRadioClick', src: AFRAME.ASSETS_PATH + '/sounds/InputClick.mp3' }, { type: 'audio', id: 'aframeRadioClickDisabled', src: AFRAME.ASSETS_PATH + '/sounds/ButtonClickDisabled.mp3' }];\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar SFX = {\n\t\n\t  init: function init(parent) {\n\t    var el = document.createElement('a-sound');\n\t    el.setAttribute('key', 'aframeRadioClickSound');\n\t    el.setAttribute('sfx', true);\n\t    el.setAttribute('src', '#aframeRadioClick');\n\t    el.setAttribute('position', '0 2 5');\n\t    parent.appendChild(el);\n\t\n\t    el = document.createElement('a-sound');\n\t    el.setAttribute('key', 'aframeRadioClickDisabledSound');\n\t    el.setAttribute('sfx', true);\n\t    el.setAttribute('src', '#aframeRadioClickDisabled');\n\t    el.setAttribute('position', '0 2 5');\n\t    parent.appendChild(el);\n\t  },\n\t\n\t  click: function click(parent) {\n\t    var el = parent.querySelector('[key=aframeRadioClickSound]');\n\t    if (!el) {\n\t      return;\n\t    }\n\t    el.components.sound.stopSound();\n\t    el.components.sound.playSound();\n\t  },\n\t\n\t  clickDisabled: function clickDisabled(parent) {\n\t    var el = parent.querySelector('[key=aframeRadioClickDisabledSound]');\n\t    if (!el) {\n\t      return;\n\t    }\n\t    el.components.sound.stopSound();\n\t    el.components.sound.playSound();\n\t  }\n\t};\n\t\n\tmodule.exports = SFX;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Utils = __webpack_require__(6);\n\tvar Event = __webpack_require__(4);\n\tvar Assets = __webpack_require__(23);\n\tvar SFX = __webpack_require__(24);\n\t\n\tAFRAME.registerComponent('checkbox', {\n\t  schema: {\n\t    checked: { type: 'boolean', default: false },\n\t    disabled: { type: 'boolean', default: false },\n\t    name: { type: \"string\", default: \"\" },\n\t    value: { type: \"string\", default: \"\" },\n\t    label: { type: \"string\", default: \"\" },\n\t    checkboxColor: { type: \"color\", default: \"#757575\" },\n\t    checkboxColorChecked: { type: \"color\", default: \"#4076fd\" },\n\t    color: { type: \"color\", default: \"#757575\" },\n\t    font: { type: \"string\", default: \"\" },\n\t    letterSpacing: { type: \"int\", default: 0 },\n\t    lineHeight: { type: \"string\", default: \"\" },\n\t    opacity: { type: \"number\", default: 1 },\n\t    width: { type: \"number\", default: 1 },\n\t    mute: { type: \"boolean\", default: true }\n\t  },\n\t  init: function init() {\n\t    var that = this;\n\t\n\t    // Assets\n\t    Utils.preloadAssets(Assets);\n\t\n\t    // SFX\n\t    if (!this.data.mute) {\n\t      SFX.init(this.el);\n\t    }\n\t\n\t    // HITBOX\n\t    this.hitbox = document.createElement('a-plane');\n\t    this.hitbox.setAttribute('height', 0.2);\n\t    this.hitbox.setAttribute('opacity', 0);\n\t    this.el.appendChild(this.hitbox);\n\t\n\t    // OUTLINE\n\t    this.outline = document.createElement('a-rounded');\n\t    this.outline.setAttribute('width', 0.2);\n\t    this.outline.setAttribute('height', 0.2);\n\t    this.outline.setAttribute('radius', 0.02);\n\t    this.outline.setAttribute('position', '0 -' + 0.2 / 2 + ' 0.01');\n\t    this.el.appendChild(this.outline);\n\t\n\t    // INSIDE\n\t    this.inside = document.createElement('a-rounded');\n\t    this.inside.setAttribute('width', 0.156);\n\t    this.inside.setAttribute('height', 0.156);\n\t    this.inside.setAttribute('radius', 0.01);\n\t    this.inside.setAttribute('color', \"#EEE\");\n\t    this.inside.setAttribute('position', 0.156 / 8 + ' -' + 0.156 / 2 + ' 0.02');\n\t    this.el.appendChild(this.inside);\n\t\n\t    // CHECKMARK\n\t    this.checkmark = document.createElement('a-image');\n\t    this.checkmark.setAttribute('width', 0.16);\n\t    this.checkmark.setAttribute('height', 0.16);\n\t    this.checkmark.setAttribute('src', \"#aframeCheckboxMark\");\n\t    this.checkmark.setAttribute('position', '0.1 0 0.03');\n\t    this.el.appendChild(this.checkmark);\n\t\n\t    // LABEL\n\t    this.label = document.createElement('a-entity');\n\t    this.el.appendChild(this.label);\n\t\n\t    // EVENTS\n\t    this.el.addEventListener('click', function () {\n\t      if (this.components.checkbox.data.disabled) {\n\t        return;\n\t      }\n\t      this.components.checkbox.data.checked = !this.components.checkbox.data.checked;\n\t      this.setAttribute('checked', this.components.checkbox.data.checked);\n\t      that.onClick();\n\t    });\n\t    this.el.addEventListener('mousedown', function () {\n\t      if (this.components.checkbox.data.disabled) {\n\t        if (!this.data.mute) {\n\t          return SFX.clickDisabled(this);\n\t        }\n\t        return;\n\t      }\n\t      if (!this.data.mute) {\n\t        SFX.click(this);\n\t      }\n\t    });\n\t\n\t    Object.defineProperty(this.el, 'value', {\n\t      get: function get() {\n\t        return this.getAttribute('value');\n\t      },\n\t      set: function set(value) {\n\t        this.setAttribute('value', value);\n\t      },\n\t      enumerable: true,\n\t      configurable: true\n\t    });\n\t  },\n\t  onClick: function onClick(noemit) {\n\t    if (this.data.checked) {\n\t      this.check();\n\t    } else {\n\t      this.uncheck();\n\t    }\n\t    if (!noemit) {\n\t      Event.emit(this.el, 'change', this.data.checked);\n\t    }\n\t  },\n\t  check: function check() {\n\t    this.outline.setAttribute('color', this.data.checkboxColorChecked);\n\t    this.inside.setAttribute('color', this.data.checkboxColorChecked);\n\t    this.checkmark.setAttribute('visible', true);\n\t    if (this.data.disabled) {\n\t      this.disabled();\n\t    }\n\t  },\n\t  uncheck: function uncheck() {\n\t    this.outline.setAttribute('color', this.data.checkboxColor);\n\t    this.inside.setAttribute('color', \"#EEE\");\n\t    this.checkmark.setAttribute('visible', false);\n\t    if (this.data.disabled) {\n\t      this.disabled();\n\t    }\n\t  },\n\t  disabled: function disabled() {\n\t    this.outline.setAttribute('color', this.data.checkboxColor);\n\t    this.inside.setAttribute('color', this.data.checkboxColor);\n\t  },\n\t  update: function update() {\n\t    var that = this;\n\t    this.onClick(true);\n\t\n\t    // HITBOX\n\t    this.hitbox.setAttribute('width', this.data.width);\n\t    this.hitbox.setAttribute('position', this.data.width / 2 + ' 0 0.01');\n\t\n\t    var props = {\n\t      color: this.data.color,\n\t      align: 'left',\n\t      wrapCount: 10 * (this.data.width + 0.2),\n\t      width: this.data.width\n\t    };\n\t    if (this.data.font) {\n\t      props.font = this.data.font;\n\t    }\n\t\n\t    // TITLE\n\t    props.value = this.data.label;\n\t    props.color = this.data.color;\n\t    this.label.setAttribute('text', props);\n\t    this.label.setAttribute('position', this.data.width / 2 + 0.24 + ' 0 0.01');\n\t\n\t    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n\t    function getTextWidth(el, _widthFactor) {\n\t      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) {\n\t        return 0;\n\t      }\n\t      var v = el.object3D.children[0].geometry.visibleGlyphs;\n\t      if (!v) {\n\t        return 0;\n\t      }\n\t      v = v[v.length - 1];\n\t      if (!v) {\n\t        return 0;\n\t      }\n\t      if (v.line) {\n\t        props.value = props.value.slice(0, -1);\n\t        el.setAttribute(\"text\", props);\n\t        return getTextWidth(el);\n\t      } else {\n\t        if (!_widthFactor) {\n\t          _widthFactor = Utils.getWidthFactor(el, props.wrapCount);\n\t        }\n\t        v = (v.position[0] + v.data.width) / (_widthFactor / that.data.width);\n\t        var textRatio = v / that.data.width;\n\t        if (textRatio > 1) {\n\t          props.value = props.value.slice(0, -1);\n\t          el.setAttribute(\"text\", props);\n\t          return getTextWidth(el, _widthFactor);\n\t        }\n\t      }\n\t      return v;\n\t    }\n\t    setTimeout(function () {\n\t      if (that.data.label.length) {\n\t        getTextWidth(that.label);\n\t      }\n\t      if (that.data.disabled) {\n\t        var timer = setInterval(function () {\n\t          if (that.checkmark.object3D.children[0]) {\n\t            clearInterval(timer);\n\t            Utils.updateOpacity(that.checkmark, 0.4);\n\t            Utils.updateOpacity(that.label, 0.4);\n\t          }\n\t        }, 10);\n\t      } else {\n\t        var _timer = setInterval(function () {\n\t          if (that.checkmark.object3D.children[0]) {\n\t            clearInterval(_timer);\n\t            Utils.updateOpacity(that.checkmark, 1);\n\t            Utils.updateOpacity(that.label, 1);\n\t          }\n\t        }, 10);\n\t      }\n\t    }, 0);\n\t  },\n\t  tick: function tick() {},\n\t  remove: function remove() {},\n\t  pause: function pause() {},\n\t  play: function play() {}\n\t});\n\t\n\tAFRAME.registerPrimitive('a-checkbox', {\n\t  defaultComponents: {\n\t    checkbox: {}\n\t  },\n\t  mappings: {\n\t    checked: 'checkbox.checked',\n\t    disabled: 'checkbox.disabled',\n\t    name: 'checkbox.name',\n\t    value: 'checkbox.value',\n\t    label: 'checkbox.label',\n\t    'checkbox-color': 'checkbox.checkboxColor',\n\t    'checkbox-color-checked': 'checkbox.checkboxColorChecked',\n\t    color: 'checkbox.color',\n\t    align: 'checkbox.align',\n\t    font: 'checkbox.font',\n\t    'letter-spacing': 'checkbox.letterSpacing',\n\t    'line-height': 'checkbox.lineHeight',\n\t    'opacity': 'checkbox.opacity',\n\t    width: 'checkbox.width',\n\t    mute: 'checkbox.mute'\n\t  }\n\t});\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = [{ type: 'img', id: 'aframeCheckboxMark', src: AFRAME.ASSETS_PATH + '/images/CheckmarkIcon.png' }, { type: 'audio', id: 'aframeCheckboxClick', src: AFRAME.ASSETS_PATH + '/sounds/InputClick.mp3' }, { type: 'audio', id: 'aframeCheckboxClickDisabled', src: AFRAME.ASSETS_PATH + '/sounds/ButtonClickDisabled.mp3' }];\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar SFX = {\n\t\n\t  init: function init(parent) {\n\t    var el = document.createElement('a-sound');\n\t    el.setAttribute('key', 'aframeCheckboxClickSound');\n\t    el.setAttribute('sfx', true);\n\t    el.setAttribute('src', '#aframeCheckboxClick');\n\t    el.setAttribute('position', '0 2 5');\n\t    parent.appendChild(el);\n\t\n\t    el = document.createElement('a-sound');\n\t    el.setAttribute('key', 'aframeButtonClickDisabledSound');\n\t    el.setAttribute('sfx', true);\n\t    el.setAttribute('src', '#aframeButtonClickDisabled');\n\t    el.setAttribute('position', '0 2 5');\n\t    parent.appendChild(el);\n\t  },\n\t\n\t  click: function click(parent) {\n\t    var el = parent.querySelector('[key=aframeCheckboxClickSound]');\n\t    if (!el) {\n\t      return;\n\t    }\n\t    el.components.sound.stopSound();\n\t    el.components.sound.playSound();\n\t  },\n\t\n\t  clickDisabled: function clickDisabled(parent) {\n\t    var el = parent.querySelector('[key=aframeButtonClickDisabledSound]');\n\t    if (!el) {\n\t      return;\n\t    }\n\t    el.components.sound.stopSound();\n\t    el.components.sound.playSound();\n\t  }\n\t};\n\t\n\tmodule.exports = SFX;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Utils = __webpack_require__(6);\n\tvar Event = __webpack_require__(4);\n\tvar Assets = __webpack_require__(26);\n\tvar SFX = __webpack_require__(27);\n\t\n\tAFRAME.registerComponent('button', {\n\t  schema: {\n\t    disabled: { type: 'boolean', default: false },\n\t    type: { type: \"string\", default: \"raised\" },\n\t    name: { type: \"string\", default: \"\" },\n\t    value: { type: \"string\", default: \"Button\" },\n\t    buttonColor: { type: \"color\", default: \"#4076fd\" },\n\t    color: { type: \"color\", default: \"#FFF\" },\n\t    font: { type: \"string\", default: \"\" },\n\t    letterSpacing: { type: \"int\", default: 0 },\n\t    lineHeight: { type: \"string\", default: \"\" },\n\t    opacity: { type: \"number\", default: 1 },\n\t    width: { type: \"number\", default: 1 },\n\t    mute: { type: \"boolean\", default: true }\n\t  },\n\t  init: function init() {\n\t    var that = this;\n\t\n\t    // Assets\n\t    Utils.preloadAssets(Assets.filter(function (a) {\n\t      return !(that.data.mute && a.type === 'audio');\n\t    }));\n\t\n\t    // SFX\n\t    if (!this.data.mute) {\n\t      SFX.init(this.el);\n\t    }\n\t\n\t    this.wrapper = document.createElement('a-entity');\n\t    this.wrapper.setAttribute('position', '0 0 0.01');\n\t    this.el.appendChild(this.wrapper);\n\t\n\t    this.shadow = document.createElement('a-image');\n\t    this.shadow.setAttribute('height', 0.36 * 1.25);\n\t    this.shadow.setAttribute('src', '#aframeButtonShadow');\n\t    this.wrapper.appendChild(this.shadow);\n\t\n\t    // OUTLINE\n\t    this.outline = document.createElement('a-rounded');\n\t    this.outline.setAttribute('height', 0.36);\n\t    this.outline.setAttribute('radius', 0.03);\n\t    this.outline.setAttribute('position', '0 -' + 0.36 / 2 + ' 0.01');\n\t    this.wrapper.appendChild(this.outline);\n\t\n\t    // LABEL\n\t    this.label = document.createElement('a-entity');\n\t    this.outline.appendChild(this.label);\n\t\n\t    // EVENTS\n\t    this.el.addEventListener('click', function () {\n\t      if (this.components.button && this.components.button.data.disabled) {\n\t        return;\n\t      }\n\t      that.onClick();\n\t    });\n\t    this.el.addEventListener('mousedown', function () {\n\t      if (this.components.button && this.components.button.data.disabled) {\n\t        if (!this.data.mute) {\n\t          return SFX.clickDisabled(this);\n\t        }\n\t        return;\n\t      }\n\t      that.wrapper.setAttribute('position', '0 0 0.036');\n\t      if (!this.data.mute) {\n\t        SFX.click(this);\n\t      }\n\t    });\n\t    this.el.addEventListener('mouseup', function () {\n\t      if (this.components.button && this.components.button.data.disabled) {\n\t        return;\n\t      }\n\t      that.wrapper.setAttribute('position', '0 0 0');\n\t    });\n\t\n\t    this.el.getWidth = this.getWidth.bind(this);\n\t    Object.defineProperty(this.el, 'value', {\n\t      get: function get() {\n\t        return this.getAttribute('value');\n\t      },\n\t      set: function set(value) {\n\t        this.setAttribute('value', value);\n\t      },\n\t      enumerable: true,\n\t      configurable: true\n\t    });\n\t  },\n\t  onClick: function onClick() {\n\t    //Event.emit(this.el, 'click');\n\t  },\n\t  getWidth: function getWidth() {\n\t    return this.__width;\n\t  },\n\t  update: function update() {\n\t    var that = this;\n\t    this.outline.setAttribute('color', this.data.buttonColor);\n\t\n\t    var props = {\n\t      color: this.data.color,\n\t      align: 'center',\n\t      wrapCount: 10 * this.data.width,\n\t      width: this.data.width\n\t    };\n\t    if (this.data.font) {\n\t      props.font = this.data.font;\n\t    }\n\t\n\t    if (this.data.type === \"flat\") {\n\t      props.color = this.data.buttonColor;\n\t    }\n\t\n\t    // TITLE\n\t    props.value = this.data.value.toUpperCase();\n\t    this.label.setAttribute('text', props);\n\t    this.label.setAttribute('position', this.data.width / 2 + 0.24 + ' 0 0.01');\n\t\n\t    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\n\t    function getTextWidth(el, callback, _widthFactor) {\n\t      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) {\n\t        return setTimeout(function () {\n\t          getTextWidth(el, callback);\n\t        }, 10);\n\t      }\n\t      var v = el.object3D.children[0].geometry.visibleGlyphs;\n\t      if (!v) {\n\t        return setTimeout(function () {\n\t          getTextWidth(el, callback);\n\t        }, 10);\n\t      }\n\t      v = v[v.length - 1];\n\t      if (!v) {\n\t        return callback(0);\n\t      }\n\t      if (v.line) {\n\t        props.value = props.value.slice(0, -1);\n\t        el.setAttribute(\"text\", props);\n\t        return getTextWidth(el, callback);\n\t      } else {\n\t        if (!_widthFactor) {\n\t          _widthFactor = Utils.getWidthFactor(el, props.wrapCount);\n\t        }\n\t        v = (v.position[0] + v.data.width) / (_widthFactor / that.data.width);\n\t        var textRatio = v / that.data.width;\n\t        if (textRatio > 1) {\n\t          props.value = props.value.slice(0, -1);\n\t          el.setAttribute(\"text\", props);\n\t          return getTextWidth(el, callback, _widthFactor);\n\t        }\n\t      }\n\t      return callback(v);\n\t    }\n\t    setTimeout(function () {\n\t      if (that.data.value.length) {\n\t        getTextWidth(that.label, function (width) {\n\t          that.label.setAttribute('position', width / 2 + 0.28 / 2 + ' ' + 0.36 / 2 + ' 0.02'); //\n\t          width = width + 0.28;\n\t          that.outline.setAttribute('width', width);\n\t          that.__width = width;\n\t          that.shadow.setAttribute('width', width * 1.17);\n\t          that.shadow.setAttribute('position', width / 2 + ' 0 0');\n\t          Event.emit(that.el, 'change:width', width);\n\t        });\n\t      }\n\t\n\t      if (that.data.disabled) {\n\t        that.shadow.setAttribute('visible', false);\n\t        var timer = setInterval(function () {\n\t          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\n\t            clearInterval(timer);\n\t            Utils.updateOpacity(that.el, 0.4);\n\t          }\n\t        }, 10);\n\t      } else {\n\t        var _timer = setInterval(function () {\n\t          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\n\t            clearInterval(_timer);\n\t            Utils.updateOpacity(that.el, 1);\n\t          }\n\t        }, 10);\n\t      }\n\t\n\t      if (that.data.type === \"flat\") {\n\t        that.shadow.setAttribute('visible', false);\n\t        var _timer2 = setInterval(function () {\n\t          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\n\t            clearInterval(_timer2);\n\t            Utils.updateOpacity(that.outline, 0);\n\t            if (that.data.disabled) {\n\t              Utils.updateOpacity(that.label, 0.4);\n\t            }\n\t          }\n\t        }, 10);\n\t      }\n\t    }, 0);\n\t  },\n\t  tick: function tick() {},\n\t  remove: function remove() {},\n\t  pause: function pause() {},\n\t  play: function play() {}\n\t});\n\t\n\tAFRAME.registerPrimitive('a-button', {\n\t  defaultComponents: {\n\t    button: {}\n\t  },\n\t  mappings: {\n\t    disabled: 'button.disabled',\n\t    type: 'button.type',\n\t    name: 'button.name',\n\t    value: 'button.value',\n\t    'button-color': 'button.buttonColor',\n\t    color: 'button.color',\n\t    font: 'button.font',\n\t    'letter-spacing': 'button.letterSpacing',\n\t    'line-height': 'button.lineHeight',\n\t    'opacity': 'button.opacity',\n\t    'width': 'button.width',\n\t    mute: 'button.mute'\n\t  }\n\t});\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = [{ type: 'img', id: 'aframeButtonShadow', src: AFRAME.ASSETS_PATH + '/images/ButtonShadow.png' }, { type: 'audio', id: 'aframeButtonClick', src: AFRAME.ASSETS_PATH + '/sounds/ButtonClick.mp3' }, { type: 'audio', id: 'aframeButtonClickDisabled', src: AFRAME.ASSETS_PATH + '/sounds/ButtonClickDisabled.mp3' }];\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar SFX = {\n\t\n\t  init: function init(parent) {\n\t    var el = document.createElement('a-sound');\n\t    el.setAttribute('key', 'aframeButtonClickSound');\n\t    el.setAttribute('sfx', true);\n\t    el.setAttribute('src', '#aframeButtonClick');\n\t    el.setAttribute('position', '0 2 5');\n\t    parent.appendChild(el);\n\t\n\t    el = document.createElement('a-sound');\n\t    el.setAttribute('key', 'aframeButtonClickDisabledSound');\n\t    el.setAttribute('sfx', true);\n\t    el.setAttribute('src', '#aframeButtonClickDisabled');\n\t    el.setAttribute('position', '0 2 5');\n\t    parent.appendChild(el);\n\t  },\n\t\n\t  click: function click(parent) {\n\t    var el = parent.querySelector('[key=aframeButtonClickSound]');\n\t    if (!el) {\n\t      return;\n\t    }\n\t    el.components.sound.stopSound();\n\t    el.components.sound.playSound();\n\t  },\n\t\n\t  clickDisabled: function clickDisabled(parent) {\n\t    var el = parent.querySelector('[key=aframeButtonClickDisabledSound]');\n\t    if (!el) {\n\t      return;\n\t    }\n\t    el.components.sound.stopSound();\n\t    el.components.sound.playSound();\n\t  }\n\t};\n\t\n\tmodule.exports = SFX;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Utils = __webpack_require__(6);\n\tvar Event = __webpack_require__(4);\n\tvar Assets = __webpack_require__(29);\n\tvar SFX = __webpack_require__(30);\n\t\n\tAFRAME.registerComponent('toast', {\n\t  schema: {\n\t    message: { type: 'string', default: \"You are cool\" },\n\t    action: { type: 'string', default: \"\" },\n\t    backgroundColor: { type: \"color\", default: \"#222\" }, //242f35\n\t    actionColor: { type: \"color\", default: \"#4076fd\" },\n\t    color: { type: \"color\", default: \"#FFF\" },\n\t    font: { type: \"string\", default: \"\" },\n\t    letterSpacing: { type: \"int\", default: 0 },\n\t    lineHeight: { type: \"string\", default: \"\" },\n\t    width: { type: \"number\", default: 3 },\n\t    duration: { type: 'number', default: 2000 },\n\t    autoshow: { type: 'boolean', default: true },\n\t    mute: { type: \"boolean\", default: true }\n\t  },\n\t  init: function init() {\n\t    var that = this;\n\t\n\t    // Assets\n\t    Utils.preloadAssets(Assets);\n\t\n\t    // SFX\n\t    if (!this.data.mute) {\n\t      SFX.init(this.el);\n\t    }\n\t\n\t    // CONFIG\n\t    this.el.setAttribute(\"position\", '10000 10000 10000');\n\t    this.el.setAttribute(\"rotation\", \"-25 0 0\");\n\t    this.el.setAttribute(\"scale\", \"0.3 0.3 0.3\");\n\t\n\t    // OUTLINE\n\t    this.background = document.createElement('a-rounded');\n\t    this.background.setAttribute('height', 0.44);\n\t    this.background.setAttribute('radius', 0.03);\n\t    this.background.setAttribute('position', '0 -' + 0.36 / 2 + ' 0.001');\n\t    this.el.appendChild(this.background);\n\t\n\t    // LABEL\n\t    this.label = document.createElement('a-entity');\n\t    this.el.appendChild(this.label);\n\t\n\t    // LABEL\n\t    this.action = document.createElement('a-button');\n\t    that.action.setAttribute('button-color', '#222');\n\t    this.el.appendChild(this.action);\n\t\n\t    function changeWidth(e) {\n\t      var attr = that.label.getAttribute('text');\n\t      attr.width = that.data.width - e.detail;\n\t      attr.wrapCount = 10 * attr.width;\n\t      that.label.setAttribute('text', attr);\n\t      that.label.setAttribute('position', attr.width / 2 + 0.14 + ' 0.04 0.001');\n\t\n\t      this.setAttribute('position', that.data.width - e.detail + ' ' + (0.44 - 0.36) / 2 + ' 0.001');\n\t    }\n\t    this.action.addEventListener('change:width', changeWidth);\n\t    this.action.addEventListener('click', function () {\n\t      Event.emit(that.el, 'actionclick');\n\t    });\n\t\n\t    var timer = setInterval(function () {\n\t      if (that.action.object3D && that.action.object3D.children[0]) {\n\t        clearInterval(timer);\n\t        Utils.updateOpacity(that.el, 0);\n\t        Utils.updateOpacity(that.label, 0);\n\t        Utils.updateOpacity(that.action, 0);\n\t        if (that.data.autoshow) {\n\t          that.show();\n\t        }\n\t      }\n\t    }, 10);\n\t\n\t    // METHDOS\n\t    this.el.show = this.show.bind(this);\n\t    this.el.hide = this.hide.bind(this);\n\t  },\n\t  show: function show() {\n\t    if (this.hideTimer) {\n\t      clearTimeout(this.hideTimer);\n\t    }\n\t    this.el.setAttribute(\"position\", -this.data.width / (2 / this.el.object3D.scale.x) + ' 0.25 -1.6');\n\t    var that = this;\n\t    /*if (!this.el.parentNode && this.el._parentNode) {\r\n\t      this.el._parentNode.appendChild(this.el);\r\n\t    }*/\n\t    setTimeout(function () {\n\t      that.el.setAttribute('fadein', { duration: 160 });\n\t      setTimeout(function () {\n\t        Utils.updateOpacity(that.label, 1);\n\t        that.action.components.button.shadow.setAttribute('visible', false);\n\t      }, 10);\n\t    }, 0);\n\t    this.hideTimer = setTimeout(function () {\n\t      that.hide();\n\t    }, this.data.duration);\n\t\n\t    if (!this.data.mute) {\n\t      SFX.show(this.el);\n\t    }\n\t  },\n\t  hide: function hide() {\n\t    var that = this;\n\t    setTimeout(function () {\n\t      Utils.updateOpacity(that.label, 0);\n\t      that.action.components.button.shadow.setAttribute('visible', false);\n\t      setTimeout(function () {\n\t        that.el.setAttribute('fadeout', { duration: 160 });\n\t        setTimeout(function () {\n\t          /*if (that.el.parentNode) {\r\n\t            that.el._parentNode = that.el.parentNode;\r\n\t            that.el.parentNode.removeChild(that.el);\r\n\t          }*/\n\t          that.el.setAttribute(\"position\", '10000 10000 10000');\n\t        }, 200);\n\t      }, 10);\n\t    }, 0);\n\t  },\n\t  update: function update() {\n\t    var that = this;\n\t\n\t    // BACKGROUND\n\t    this.background.setAttribute('color', this.data.backgroundColor);\n\t    this.background.setAttribute('width', this.data.width);\n\t\n\t    var props = {\n\t      color: this.data.color,\n\t      align: 'left',\n\t      wrapCount: 10 * this.data.width,\n\t      width: this.data.width,\n\t      lineHeight: 64\n\t    };\n\t    if (this.data.font) {\n\t      props.font = this.data.font;\n\t    }\n\t\n\t    if (this.data.type === \"flat\") {\n\t      props.color = this.data.buttonColor;\n\t    }\n\t\n\t    // MESSAGE\n\t    props.value = this.data.message;\n\t    this.label.setAttribute('text', props);\n\t    this.label.setAttribute('position', this.data.width / 2 + 0.14 + ' 0 0.001');\n\t\n\t    // ACTION\n\t    this.action.setAttribute('value', this.data.action.toUpperCase());\n\t    this.action.setAttribute('color', this.data.actionColor);\n\t  },\n\t  tick: function tick() {},\n\t  remove: function remove() {},\n\t  pause: function pause() {},\n\t  play: function play() {}\n\t});\n\t\n\tAFRAME.registerPrimitive('a-toast', {\n\t  defaultComponents: {\n\t    toast: {}\n\t  },\n\t  mappings: {\n\t    message: 'toast.message',\n\t    action: 'toast.action',\n\t    'action-color': 'toast.actionColor',\n\t    'background-color': 'toast.backgroundColor',\n\t    color: 'toast.color',\n\t    font: 'toast.font',\n\t    'letter-spacing': 'toast.letterSpacing',\n\t    'line-height': 'toast.lineHeight',\n\t    'width': 'toast.width',\n\t    'duration': 'toast.duration',\n\t    'autoshow': 'toast.autoshow',\n\t    mute: 'toast.mute'\n\t  }\n\t});\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = [{ type: 'audio', id: 'aframeToastShow', src: AFRAME.ASSETS_PATH + '/sounds/ToastShow.mp3' }];\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar SFX = {\n\t  init: function init(parent) {\n\t    var el = document.createElement('a-sound');\n\t    el.setAttribute('key', 'aframeToastShowSound');\n\t    el.setAttribute('sfx', true);\n\t    el.setAttribute('src', '#aframeToastShow');\n\t    el.setAttribute('position', '0 2 5');\n\t    parent.appendChild(el);\n\t  },\n\t\n\t  show: function show(parent) {\n\t    var el = parent.querySelector('[key=aframeToastShowSound]');\n\t    if (!el) {\n\t      return;\n\t    }\n\t    el.components.sound.stopSound();\n\t    el.components.sound.playSound();\n\t  }\n\t};\n\t\n\tmodule.exports = SFX;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// aframe-material.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 180e7ac330c6ae43c270","(()=>{\r\n  if (!AFRAME) { return console.error('AFRAME is required!'); }\r\n  if (!AFRAME.ASSETS_PATH) { AFRAME.ASSETS_PATH = \"./assets\"; }\r\n  require('aframe-rounded');\r\n  require(\"./fade\");\r\n  //require(\"./alert\"); @TODO ;)\r\n  require(\"./keyboard\");\r\n  require(\"./input\");\r\n  require(\"./switch\");\r\n  require(\"./form\");\r\n  require(\"./radio\");\r\n  require(\"./checkbox\");\r\n  require(\"./button\");\r\n  require(\"./toast\");\r\n})();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","!function(t){function e(i){if(a[i])return a[i].exports;var d=a[i]={exports:{},id:i,loaded:!1};return t[i].call(d.exports,d,d.exports,e),d.loaded=!0,d.exports}var a={};return e.m=t,e.c=a,e.p=\"\",e(0)}([function(t,e){AFRAME.registerComponent(\"rounded\",{schema:{enabled:{default:!0},width:{type:\"number\",default:1},height:{type:\"number\",default:1},radius:{type:\"number\",default:.3},topLeftRadius:{type:\"number\",default:-1},topRightRadius:{type:\"number\",default:-1},bottomLeftRadius:{type:\"number\",default:-1},bottomRightRadius:{type:\"number\",default:-1},color:{type:\"color\",default:\"#F0F0F0\"},opacity:{type:\"number\",default:1}},init:function(){this.rounded=new THREE.Mesh(this.draw(),new THREE.MeshPhongMaterial({color:new THREE.Color(this.data.color),side:THREE.DoubleSide})),this.updateOpacity(),this.el.setObject3D(\"mesh\",this.rounded)},update:function(){this.data.enabled?this.rounded&&(this.rounded.visible=!0,this.rounded.geometry=this.draw(),this.rounded.material.color=new THREE.Color(this.data.color),this.updateOpacity()):this.rounded.visible=!1},updateOpacity:function(){this.data.opacity<0&&(this.data.opacity=0),this.data.opacity>1&&(this.data.opacity=1),this.data.opacity<1?this.rounded.material.transparent=!0:this.rounded.material.transparent=!1,this.rounded.material.opacity=this.data.opacity},tick:function(){},remove:function(){this.rounded&&(this.el.object3D.remove(this.rounded),this.rounded=null)},draw:function(){function t(t,e,a,i,d,o,u,r,s){o||(o=1e-5),u||(u=1e-5),r||(r=1e-5),s||(s=1e-5),t.moveTo(e,a+o),t.lineTo(e,a+d-o),t.quadraticCurveTo(e,a+d,e+o,a+d),t.lineTo(e+i-u,a+d),t.quadraticCurveTo(e+i,a+d,e+i,a+d-u),t.lineTo(e+i,a+s),t.quadraticCurveTo(e+i,a,e+i-s,a),t.lineTo(e+r,a),t.quadraticCurveTo(e,a,e,a+r)}var e=new THREE.Shape,a=[this.data.radius,this.data.radius,this.data.radius,this.data.radius];return this.data.topLeftRadius!=-1&&(a[0]=this.data.topLeftRadius),this.data.topRightRadius!=-1&&(a[1]=this.data.topRightRadius),this.data.bottomLeftRadius!=-1&&(a[2]=this.data.bottomLeftRadius),this.data.bottomRightRadius!=-1&&(a[3]=this.data.bottomRightRadius),t(e,0,0,this.data.width,this.data.height,a[0],a[1],a[2],a[3]),new THREE.ShapeBufferGeometry(e)},pause:function(){},play:function(){}}),AFRAME.registerPrimitive(\"a-rounded\",{defaultComponents:{rounded:{}},mappings:{enabled:\"rounded.enabled\",width:\"rounded.width\",height:\"rounded.height\",radius:\"rounded.radius\",\"top-left-radius\":\"rounded.topLeftRadius\",\"top-right-radius\":\"rounded.topRightRadius\",\"bottom-left-radius\":\"rounded.bottomLeftRadius\",\"bottom-right-radius\":\"rounded.bottomRightRadius\",color:\"rounded.color\",opacity:\"rounded.opacity\"}})}]);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/aframe-rounded/dist/aframe-rounded-component.min.js\n// module id = 2\n// module chunks = 0","const Event = require('../core/event');\r\n\r\nvar opacityUpdate = function(opacity) {\r\n  this.el.object3D.traverse(function (o) {\r\n    if (o.material) {\r\n      o.material.transparent = true;\r\n      o.material.opacity = opacity;\r\n    }\r\n  });\r\n  for (let text of this.textEntities) {\r\n    text.setAttribute('opacity', opacity);\r\n  }\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// FADEIN\r\n\r\nAFRAME.registerComponent('fadein', {\r\n  schema: {\r\n    duration: { type: 'int', default: 200 },\r\n  },\r\n  init: function() {\r\n    this.textEntities = this.el.querySelectorAll('a-text');\r\n    this.opacityUpdate(0);\r\n    this.start = null;\r\n  },\r\n  tick: function (t) {\r\n    if (!this.start) { this.start = t; }\r\n    var opacity = Math.min((t - this.start) / this.data.duration, 1);\r\n    this.opacityUpdate(opacity);\r\n    if (opacity === 1) {\r\n      this.el.removeAttribute('fadein');\r\n      Event.emit(this.el, 'animationend');\r\n    }\r\n  },\r\n  opacityUpdate: opacityUpdate\r\n});\r\n\r\n// -----------------------------------------------------------------------------\r\n// FADEOUT\r\n\r\nAFRAME.registerComponent('fadeout', {\r\n  schema: {\r\n    duration: { type: 'int', default: 200 }\r\n  },\r\n  init: function() {\r\n    this.textEntities = this.el.querySelectorAll('a-text');\r\n    this.opacityUpdate(1);\r\n    this.start = null;\r\n  },\r\n  tick: function (t) {\r\n    if (!this.start) { this.start = t; }\r\n    var opacity = 1-Math.min((t - this.start) / this.data.duration, 1);\r\n    this.opacityUpdate(opacity);\r\n    if (opacity === 0) {\r\n      this.el.removeAttribute('fadeout');\r\n      Event.emit(this.el, 'animationend');\r\n    }\r\n  },\r\n  opacityUpdate: opacityUpdate\r\n});\r\n\r\n// -----------------------------------------------------------------------------\r\n// SHOW\r\n\r\nAFRAME.registerComponent('show', {\r\n  init: function() {\r\n    this.textEntities = this.el.querySelectorAll('a-text');\r\n    this.opacityUpdate(1);\r\n    this.el.removeAttribute('show');\r\n  },\r\n  opacityUpdate: opacityUpdate\r\n});\r\n\r\n// -----------------------------------------------------------------------------\r\n// HIDE\r\n\r\nAFRAME.registerComponent('hide', {\r\n  init: function() {\r\n    this.textEntities = this.el.querySelectorAll('a-text');\r\n    this.opacityUpdate(0);\r\n    this.el.removeAttribute('hide');\r\n  },\r\n  opacityUpdate: opacityUpdate\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fade/index.js","module.exports = {\r\n  emit: (el, name, data)=> {\r\n    el.dispatchEvent( new CustomEvent(name, {detail: data}) );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/event.js","const Utils = require('../utils');\r\nconst Draw = require('./draw');\r\nconst Behaviors = require('./behaviors');\r\nconst SFX = require('./sfx');\r\nconst Event = require('../core/event');\r\n\r\nAFRAME.registerComponent('keyboard', {\r\n  schema: {\r\n    isOpen: { type: \"boolean\", default: false },\r\n    physicalKeyboard: { type: \"boolean\", default: false },\r\n    mute: { type: \"boolean\", default: true }\r\n  },\r\n  currentInput: null,\r\n  init: function () {\r\n    let that = this;\r\n\r\n    // SFX\r\n    if (!this.data.mute) {\r\n      SFX.init(this.el);\r\n    }\r\n\r\n    // Draw\r\n    Draw.init( this.el );\r\n\r\n    // Init keyboard UI\r\n    let numericalUI = Draw.numericalUI(),\r\n        mainUI      = Draw.mainUI(),\r\n        actionsUI   = Draw.actionsUI();\r\n\r\n    // Create layout\r\n    this.el.alphabeticalLayout = Draw.alphabeticalLayout();\r\n    this.el.symbolsLayout = Draw.symbolsLayout();\r\n\r\n    // Append layouts to UI\r\n    numericalUI.appendChild( Draw.numericalLayout() );\r\n    mainUI.appendChild( this.el.alphabeticalLayout );\r\n    actionsUI.appendChild( Draw.actionsLayout() );\r\n\r\n    this.el.appendChild( numericalUI );\r\n    this.el.appendChild( mainUI );\r\n    this.el.appendChild( actionsUI );\r\n\r\n    // Inject methods in elements..\r\n    this.el.show = function() { Behaviors.showKeyboard(that.el); }\r\n    this.el.hide = function() { Behaviors.hideKeyboard(that.el); }\r\n    this.el.open = function() { Behaviors.openKeyboard(that.el); }\r\n    this.el.dismiss = function() { Behaviors.dismissKeyboard(that.el); }\r\n    this.el.destroy = function() { Behaviors.destroyKeyboard(that.el); }\r\n\r\n    // Set default value\r\n    this.el.setAttribute(\"scale\", \"2 2 2\");\r\n    this.el.setAttribute(\"rotation\", \"-20 0 0\");\r\n    this.el.setAttribute(\"position\", \"-1.5 -0.3 -2\");\r\n\r\n    // Register keyboard events\r\n    this.el.addEventListener('input', this.inputEvent.bind(this));\r\n    this.el.addEventListener('backspace', this.backspaceEvent.bind(this));\r\n    this.el.addEventListener('dismiss', this.dismissEvent.bind(this));\r\n\r\n    // Register global events\r\n    document.addEventListener('keydown', this.keydownEvent.bind(this));\r\n    document.body.addEventListener('didfocusinput', this.didFocusInputEvent.bind(this));\r\n    document.body.addEventListener('didblurinput', this.didBlurInputEvent.bind(this));\r\n  },\r\n  update: function () {\r\n    if (this.data.isOpen) {\r\n      Behaviors.showKeyboard(this.el);\r\n    } else {\r\n      Behaviors.hideKeyboard(this.el);\r\n    }\r\n  },\r\n  tick: function () {},\r\n  remove: function () {\r\n    this.el.removeEventListener('input', this.inputEvent.bind(this));\r\n    this.el.removeEventListener('backspace', this.backspaceEvent.bind(this));\r\n    this.el.removeEventListener('dismiss', this.dismissEvent.bind(this));\r\n\r\n    document.removeEventListener('keydown', this.keydownEvent.bind(this));\r\n    document.body.removeEventListener('didfocusinput', this.didFocusInputEvent.bind(this));\r\n    document.body.removeEventListener('didblurinput', this.didBlurInputEvent.bind(this));\r\n  },\r\n  pause: function () {},\r\n  play: function () {},\r\n\r\n  // Fired on keyboard key press\r\n  inputEvent: function(e) {\r\n    if (this.currentInput) {\r\n      this.currentInput.appendString(e.detail);\r\n    }\r\n  },\r\n\r\n  // Fired on backspace key press\r\n  backspaceEvent: function(e){\r\n    if (this.currentInput) {\r\n      this.currentInput.deleteLast();\r\n    }\r\n  },\r\n\r\n  dismissEvent: function(e){\r\n    if (this.currentInput) {\r\n      this.currentInput.blur();\r\n    }\r\n  },\r\n\r\n  // physical keyboard event\r\n  keydownEvent: function(e) {\r\n    if (this.currentInput && this.data.physicalKeyboard) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n\r\n      if (e.key === 'Enter') {\r\n        Event.emit(Behaviors.el, 'input', '\\n');\r\n        Event.emit(Behaviors.el, 'enter', '\\n');\r\n      }\r\n      else if (e.key === 'Backspace') {\r\n        Event.emit(Behaviors.el, 'backspace');\r\n      }\r\n      else if (e.key === 'Escape') {\r\n        Event.emit(Behaviors.el, 'dismiss');\r\n      }\r\n      else if (e.key.length < 2) {\r\n        Event.emit(Behaviors.el, 'input', e.key);\r\n      }\r\n    }\r\n  },\r\n\r\n  // Fired when an input has been selected\r\n  didFocusInputEvent: function(e) {\r\n    if (this.currentInput) {\r\n      this.currentInput.blur(true);\r\n    }\r\n    this.currentInput = e.detail;\r\n    if (!this.el.isOpen) {\r\n      Behaviors.openKeyboard(this.el);\r\n    }\r\n  },\r\n\r\n  // Fired when an input has been deselected\r\n  didBlurInputEvent: function(e) {\r\n    this.currentInput = null;\r\n    Behaviors.dismissKeyboard(this.el);\r\n  }\r\n});\r\n\r\nAFRAME.registerPrimitive('a-keyboard', {\r\n  defaultComponents: {\r\n    keyboard: {}\r\n  },\r\n  mappings: {\r\n    'is-open': 'keyboard.isOpen',\r\n    'physical-keyboard': 'keyboard.physicalKeyboard',\r\n    mute: 'keyboard.mute'\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/index.js","const Utils = {};\r\n\r\n/**\r\n  Utils.preloadAssets([])\r\n  Add assets to Assets managment system.\r\n*/\r\nUtils.preloadAssets = (assets_arr)=>{\r\n  let assets = document.querySelector('a-assets'), already_exists;\r\n\r\n  if (!assets) {\r\n    var scene = document.querySelector('a-scene');\r\n    assets = document.createElement('a-assets');\r\n    scene.appendChild(assets);\r\n  }\r\n\r\n  for (let item of assets_arr) {\r\n    already_exists = false;\r\n\r\n    /***** With Edge, assets.children is a HTMLCollection, not an Array! *****/\r\n    for (let stuff of Array.from(assets.children)) {\r\n      if (item.id === stuff.id) {\r\n        already_exists = true;\r\n      }\r\n    }\r\n\r\n    if (!already_exists) {\r\n      var asset_item = document.createElement(item.type);\r\n      asset_item.setAttribute('id', item.id);\r\n      asset_item.setAttribute('src', item.src);\r\n      assets.appendChild(asset_item);\r\n    }\r\n  }\r\n}\r\n\r\n\r\n/**\r\n  Utils.extend(a, b)\r\n  Assign object to other object.\r\n*/\r\nUtils.extend = function(a, b) {\r\n\tfor (let key in b) {\r\n\t\tif (b.hasOwnProperty(key)) {\r\n\t\t\ta[key] = b[key];\r\n\t\t}\r\n\t}\r\n\treturn a;\r\n};\r\n\r\n\r\nUtils.clone = function(original) {\r\n\tif (Array.isArray(original)) {\r\n\t\treturn original.slice(0);\r\n\t}\r\n\r\n\t// First create an empty object with\r\n\t// same prototype of our original source\r\n\tconst clone = Object.create(Object.getPrototypeOf(original));\r\n\tlet i = undefined;\r\n\tconst keys = Object.getOwnPropertyNames(original);\r\n\ti = 0;\r\n\twhile (i < keys.length) {\r\n\t\t// copy each property into the clone\r\n\t\tObject.defineProperty(clone, keys[i], Object.getOwnPropertyDescriptor(original, keys[i]));\r\n\t\ti++;\r\n\t}\r\n\treturn clone;\r\n};\r\n\r\n\r\nUtils.updateOpacity = function(el, opacity) {\r\n  if (el.hasAttribute('text')) {\r\n    let props = el.getAttribute('text');\r\n    if (props) {\r\n      props.opacity = opacity;\r\n      el.setAttribute('text', props);\r\n    }\r\n  }\r\n  el.object3D.traverse(function (o) {\r\n    if (o.material) {\r\n      o.material.transparent = true;\r\n      o.material.opacity = opacity;\r\n    }\r\n  });\r\n  for (let text of el.querySelectorAll('a-text')) {\r\n    text.setAttribute('opacity', opacity);\r\n  }\r\n}\r\n\r\n\r\n// Calculate the width factor\r\nUtils.getWidthFactor = function(el, wrapCount) {\r\n  let widthFactor = 0.00001;\r\n  if (el.components.text && el.components.text.currentFont) {\r\n    widthFactor = el.components.text.currentFont.widthFactor\r\n    widthFactor = ((0.5 + wrapCount) * widthFactor);\r\n  }\r\n  return widthFactor;\r\n}\r\n\r\nmodule.exports = Utils;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","const Assets = require('./assets');\r\nconst Layouts = require('./layouts');\r\nconst Config = require('./config');\r\nconst Behaviors = require('./behaviors');\r\nconst Draw = {};\r\n\r\nDraw.el = null;\r\n\r\nDraw.init = (el)=>{\r\n  Draw.el = el;\r\n  Behaviors.el = el;\r\n  Behaviors.SFX = el.SFX;\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// DRAW NUMERICAL UI\r\n\r\nDraw.numericalUI = ()=> {\r\n  var wrapper = document.createElement('a-entity');\r\n  wrapper.setAttribute('position', '0.025 0 0.12');\r\n  wrapper.setAttribute('rotation', '0 25 0');\r\n  wrapper.setAttribute('data-ui', true);\r\n\r\n  var el = document.createElement('a-rounded');\r\n  el.setAttribute('width', '0.280');\r\n  el.setAttribute('height', '0.360');\r\n  el.setAttribute('radius', '0.02');\r\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\r\n  wrapper.appendChild(el);\r\n\r\n  return wrapper;\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// DRAW MAIN UI\r\n\r\nDraw.mainUI = ()=>{\r\n  var wrapper = document.createElement('a-entity');\r\n  wrapper.setAttribute('position', '0.312 0 0');\r\n  wrapper.setAttribute('data-ui', true);\r\n\r\n  var el = document.createElement('a-rounded');\r\n  el.setAttribute('width', '0.840');\r\n  el.setAttribute('height', '0.360');\r\n  el.setAttribute('radius', '0.02');\r\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\r\n  wrapper.appendChild(el);\r\n\r\n  return wrapper;\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// DRAW ACTION UI\r\n\r\nDraw.actionsUI = ()=> {\r\n  var wrapper = document.createElement('a-entity');\r\n  wrapper.setAttribute('position', '1.180 0 0.01');\r\n  wrapper.setAttribute('rotation', '0 -25 0');\r\n  wrapper.setAttribute('data-ui', true);\r\n\r\n  var el = document.createElement('a-rounded');\r\n  el.setAttribute('width', '0.180');\r\n  el.setAttribute('height', '0.360');\r\n  el.setAttribute('radius', '0.02');\r\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\r\n  wrapper.appendChild(el);\r\n\r\n  return wrapper;\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// DRAW NUMERICAL LAYOUT\r\n\r\nDraw.numericalLayout = ()=> {\r\n  var data = Layouts.numerical;\r\n  var wrapper = document.createElement('a-entity');\r\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\r\n\r\n  let index_y = 0;\r\n  for (var i in data) {\r\n    let key_id = 'num-'+i;\r\n    let key = Draw.key(key_id, data[i].type, data[i].value);\r\n    let index_x = i%3;\r\n    let x = Config.KEY_WIDTH*index_x;\r\n    let y = Config.KEY_WIDTH*index_y;\r\n    key.setAttribute('position', `${x} -${y} 0`);\r\n    if (index_x === 2) { index_y++; }\r\n    wrapper.appendChild(key);\r\n  }\r\n\r\n  return wrapper;\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// DRAW ALPHABETICAL LAYOUT\r\n\r\nDraw.alphabeticalLayout = ()=> {\r\n  var data = Layouts.alphabetical;\r\n  var wrapper = document.createElement('a-entity');\r\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\r\n\r\n  let index_y = 0, index_x = 0, prev_was_space = false;\r\n\r\n  for (var i in data) {\r\n    let key_id = 'main-'+i;\r\n    let key = Draw.key(key_id, data[i].type, data[i].value);\r\n\r\n    let x = Config.KEY_WIDTH*index_x;\r\n    let y = Config.KEY_WIDTH*index_y;\r\n\r\n    // Add left padding on the second line\r\n    if (index_y === 1) {\r\n      x = x + Config.KEY_WIDTH/2;\r\n    }\r\n\r\n    // Add margin on the key next to the spacebar key\r\n    if (prev_was_space) {\r\n      x = x + Config.SPACE_KEY_WIDTH - Config.KEY_WIDTH + (0.055*2);\r\n    }\r\n\r\n    // Add margin to the spacebar key\r\n    if (data[i].type === 'spacebar') {\r\n      prev_was_space = true;\r\n      x = x+0.055;\r\n      y = Config.KEY_WIDTH*index_y -  0.01;\r\n    }\r\n\r\n    key.setAttribute('position', `${x} -${y} 0`);\r\n\r\n    if (index_y === 1 && index_x === 8) {\r\n      index_x = -1;\r\n      index_y++;\r\n    } else if (index_x === 9) {\r\n      index_x = -1;\r\n      index_y++;\r\n    }\r\n    index_x++;\r\n\r\n    wrapper.appendChild(key);\r\n  }\r\n\r\n  return wrapper;\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// DRAW SYMBOLS LAYOUT\r\n\r\nDraw.symbolsLayout = ()=> {\r\n  var data = Layouts.symbols;\r\n  var wrapper = document.createElement('a-entity');\r\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\r\n\r\n  let index_y = 0, index_x = 0, prev_was_space = false;\r\n\r\n  for (var i in data) {\r\n\r\n    let key_id = 'symbols-'+i;\r\n    let key = Draw.key(key_id, data[i].type, data[i].value);\r\n    let x = Config.KEY_WIDTH*index_x;\r\n    let y = Config.KEY_WIDTH*index_y;\r\n\r\n    // Add margin on the key next to the spacebar key\r\n    if (prev_was_space) {\r\n      x = x + Config.SPACE_KEY_WIDTH - Config.KEY_WIDTH + (0.055*2);\r\n    }\r\n\r\n    // Add margin to the spacebar key\r\n    if (data[i].type === 'spacebar') {\r\n      prev_was_space = true;\r\n      x = x+0.055;\r\n      y = Config.KEY_WIDTH*index_y -  0.01;\r\n    }\r\n\r\n    key.setAttribute('position', `${x} -${y} 0`);\r\n\r\n    if (index_x === 9) {\r\n      index_x = -1;\r\n      index_y++;\r\n    }\r\n    index_x++;\r\n    wrapper.appendChild(key);\r\n  }\r\n\r\n  return wrapper;\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// DRAW ACTIONS LAYOUT\r\n\r\nDraw.actionsLayout = ()=> {\r\n  var data = Layouts.actions;\r\n  var wrapper = document.createElement('a-entity');\r\n  wrapper.setAttribute('position', '0.02 0.26 0.001');\r\n\r\n  let val_y = 0;\r\n  for (var i in data) {\r\n    let key_id = 'action-'+i;\r\n    let key = Draw.key(key_id, data[i].type, data[i].value);\r\n\r\n    key.setAttribute('position', `0 -${val_y} 0`);\r\n    if (i == 0) {\r\n      val_y += Config.ACTION_WIDTH+0.01;\r\n    }\r\n    else if (i == 1) {\r\n      val_y += Config.KEY_WIDTH+0.01;\r\n    }\r\n    wrapper.appendChild(key);\r\n  }\r\n\r\n  return wrapper;\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// DRAW KEY\r\n\r\nDraw.key = (id, type, value)=> {\r\n  var that = this;\r\n\r\n  var el = document.createElement('a-rounded');\r\n  el.setAttribute('key-id', id);\r\n  el.setAttribute('width', Config.KEY_WIDTH);\r\n  el.setAttribute('height', Config.KEY_WIDTH);\r\n  el.setAttribute('radius', '0.008');\r\n  el.setAttribute('position', '0 0 0');\r\n  el.setAttribute('key-type', type);\r\n  el.setAttribute('key-value', value);\r\n  el.setAttribute('color', Config.KEYBOARD_COLOR);\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // EVENTS\r\n\r\n  Behaviors.addKeyEvents(el);\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // SHADOW\r\n\r\n  el.shadow_el = document.createElement('a-image');\r\n  el.shadow_el.setAttribute('width', Config.KEY_WIDTH*1.25);\r\n  el.shadow_el.setAttribute('height', Config.KEY_WIDTH*1.25);\r\n  el.shadow_el.setAttribute('position', Config.KEY_WIDTH/2+' '+Config.KEY_WIDTH/2+' -0.002');\r\n  el.shadow_el.setAttribute('src', Assets.aframeKeyboardShadow);\r\n  el.appendChild(el.shadow_el);\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // TEXT KEY\r\n\r\n  if (type === 'text' || type === 'spacebar' || type ===  'symbol') {\r\n    var letter_el = document.createElement('a-text');\r\n    letter_el.setAttribute('value', value);\r\n    letter_el.setAttribute('color', '#dbddde');\r\n    letter_el.setAttribute('position', Config.KEY_WIDTH/2+' '+Config.KEY_WIDTH/2+' 0.01');\r\n    letter_el.setAttribute('scale', '0.16 0.16 0.16');\r\n    letter_el.setAttribute('align', 'center');\r\n    letter_el.setAttribute('baseline', 'center');\r\n    el.appendChild(letter_el);\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // SPACEBAR KEY\r\n\r\n  if (type === 'spacebar') {\r\n    el.setAttribute('width', Config.SPACE_KEY_WIDTH);\r\n    el.setAttribute('height', Config.SPACE_KEY_HEIGHT);\r\n    el.setAttribute('color', '#404b50');\r\n    el.shadow_el.setAttribute('width', Config.SPACE_KEY_WIDTH*1.12);\r\n    el.shadow_el.setAttribute('height', Config.SPACE_KEY_HEIGHT*1.2);\r\n    el.shadow_el.setAttribute('position', Config.SPACE_KEY_WIDTH/2+' '+Config.SPACE_KEY_HEIGHT/2+' -0.02');\r\n    letter_el.setAttribute('color', '#adb1b3');\r\n    letter_el.setAttribute('scale', '0.12 0.12 0.12');\r\n    letter_el.setAttribute('position', Config.SPACE_KEY_WIDTH/2+' '+Config.SPACE_KEY_HEIGHT/2+' 0');\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // SYMBOL KEY\r\n\r\n  else if (type === 'symbol') {\r\n    letter_el.setAttribute('scale', '0.12 0.12 0.12');\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // ACTION KEY\r\n\r\n  if (type === 'backspace' || type === 'enter' || type === 'dismiss') {\r\n    el.setAttribute('width', Config.ACTION_WIDTH);\r\n    el.shadow_el.setAttribute('width', Config.ACTION_WIDTH*1.25);\r\n    el.shadow_el.setAttribute('position', Config.ACTION_WIDTH/2+' '+Config.KEY_WIDTH/2+' -0.02');\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // SHIFT KEY\r\n\r\n  if (type === 'shift') {\r\n    var icon_el = document.createElement('a-image');\r\n    icon_el.setAttribute('data-type', 'icon');\r\n    icon_el.setAttribute('width', '0.032');\r\n    icon_el.setAttribute('height', '0.032');\r\n    icon_el.setAttribute('position', '0.04 0.04 0.01')\r\n    icon_el.setAttribute('src', Assets.aframeKeyboardShift);\r\n    el.appendChild(icon_el);\r\n    Draw.el.shiftKey = el;\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // GLOBAL\r\n\r\n  else if (type === 'global') {\r\n    var icon_el = document.createElement('a-image');\r\n    icon_el.setAttribute('width', '0.032');\r\n    icon_el.setAttribute('height', '0.032');\r\n    icon_el.setAttribute('position', '0.04 0.04 0.01')\r\n    icon_el.setAttribute('src', Assets.aframeKeyboardGlobal);\r\n    el.appendChild(icon_el);\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // BACKSPACE\r\n\r\n  else if (type === 'backspace') {\r\n    var icon_el = document.createElement('a-image');\r\n    icon_el.setAttribute('width', '0.046');\r\n    icon_el.setAttribute('height', '0.046');\r\n    icon_el.setAttribute('position', '0.07 0.04 0.01')\r\n    icon_el.setAttribute('src', Assets.aframeKeyboardBackspace);\r\n    el.appendChild(icon_el);\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // ENTER\r\n\r\n  else if (type === 'enter') {\r\n    el.setAttribute('height', Config.ACTION_WIDTH);\r\n    el.shadow_el.setAttribute('height', Config.ACTION_WIDTH*1.25);\r\n    el.shadow_el.setAttribute('position', Config.ACTION_WIDTH/2+' '+Config.ACTION_WIDTH/2+' -0.02');\r\n\r\n    var circle_el = document.createElement('a-circle');\r\n    circle_el.setAttribute('color', '#4285f4');\r\n    circle_el.setAttribute('radius', 0.044);\r\n    circle_el.setAttribute('position', '0.07 0.07 0.01')\r\n    el.appendChild(circle_el);\r\n\r\n    var icon_el = document.createElement('a-image');\r\n    icon_el.setAttribute('width', '0.034');\r\n    icon_el.setAttribute('height', '0.034');\r\n    icon_el.setAttribute('position', '0.07 0.07 0.011')\r\n    icon_el.setAttribute('src', Assets.aframeKeyboardEnter);\r\n    el.appendChild(icon_el);\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // DISMISS\r\n\r\n  else if (type === 'dismiss') {\r\n    var icon_el = document.createElement('a-image');\r\n    icon_el.setAttribute('width', '0.046');\r\n    icon_el.setAttribute('height', '0.046');\r\n    icon_el.setAttribute('position', '0.07 0.04 0.01')\r\n    icon_el.setAttribute('src', Assets.aframeKeyboardDismiss);\r\n    el.appendChild(icon_el);\r\n  }\r\n\r\n  return el;\r\n}\r\n\r\nmodule.exports = Draw;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/draw.js","module.exports = {\r\n  aframeKeyboardShift: `${AFRAME.ASSETS_PATH}/images/ShiftIcon.png`,\r\n  aframeKeyboardShiftActive: `${AFRAME.ASSETS_PATH}/images/ShiftActiveIcon.png`,\r\n  aframeKeyboardGlobal: `${AFRAME.ASSETS_PATH}/images/GlobalIcon.png`,\r\n  aframeKeyboardBackspace: `${AFRAME.ASSETS_PATH}/images/BackspaceIcon.png`,\r\n  aframeKeyboardEnter: `${AFRAME.ASSETS_PATH}/images/EnterIcon.png`,\r\n  aframeKeyboardDismiss: `${AFRAME.ASSETS_PATH}/images/DismissIcon.png`,\r\n  aframeKeyboardShadow: `${AFRAME.ASSETS_PATH}/images/KeyShadow.png`,\r\n  aframeKeyboardKeyIn: `${AFRAME.ASSETS_PATH}/sounds/KeyIn.mp3`,\r\n  aframeKeyboardKeyDown: `${AFRAME.ASSETS_PATH}/sounds/KeyDown.mp3`\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/assets.js","const Layouts = {\r\n  numerical: [\r\n    { type: 'text', value: '1'},\r\n    { type: 'text', value: '2'},\r\n    { type: 'text', value: '3'},\r\n    { type: 'text', value: '4'},\r\n    { type: 'text', value: '5'},\r\n    { type: 'text', value: '6'},\r\n    { type: 'text', value: '7'},\r\n    { type: 'text', value: '8'},\r\n    { type: 'text', value: '9'},\r\n    { type: 'text', value: '.'},\r\n    { type: 'text', value: '0'},\r\n    { type: 'text', value: '-'}\r\n  ],\r\n\r\n  alphabetical: [\r\n    { type: 'text', value: 'q'},\r\n    { type: 'text', value: 'w'},\r\n    { type: 'text', value: 'e'},\r\n    { type: 'text', value: 'r'},\r\n    { type: 'text', value: 't'},\r\n    { type: 'text', value: 'y'},\r\n    { type: 'text', value: 'u'},\r\n    { type: 'text', value: 'i'},\r\n    { type: 'text', value: 'o'},\r\n    { type: 'text', value: 'p'},\r\n\r\n    { type: 'text', value: 'a'},\r\n    { type: 'text', value: 's'},\r\n    { type: 'text', value: 'd'},\r\n    { type: 'text', value: 'f'},\r\n    { type: 'text', value: 'g'},\r\n    { type: 'text', value: 'h'},\r\n    { type: 'text', value: 'j'},\r\n    { type: 'text', value: 'k'},\r\n    { type: 'text', value: 'l'},\r\n\r\n    { type: 'shift'},\r\n    { type: 'text', value: 'z'},\r\n    { type: 'text', value: 'x'},\r\n    { type: 'text', value: 'c'},\r\n    { type: 'text', value: 'v'},\r\n    { type: 'text', value: 'b'},\r\n    { type: 'text', value: 'n'},\r\n    { type: 'text', value: 'm'},\r\n    { type: 'text', value: '!'},\r\n    { type: 'text', value: '?'},\r\n\r\n    { type: 'symbol', value: '#+='},\r\n    { type: 'text', value: '@'},\r\n    { type: 'spacebar', value: ''},\r\n    { type: 'text', value: ','},\r\n    { type: 'text', value: '.'}\r\n  ],\r\n\r\n  symbols: [\r\n    { type: 'text', value: '@'},\r\n    { type: 'text', value: '#'},\r\n    { type: 'text', value: '$'},\r\n    { type: 'text', value: '%'},\r\n    { type: 'text', value: '&'},\r\n    { type: 'text', value: '*'},\r\n    { type: 'text', value: '-'},\r\n    { type: 'text', value: '+'},\r\n    { type: 'text', value: '('},\r\n    { type: 'text', value: ')'},\r\n\r\n    { type: 'text', value: '~'},\r\n    { type: 'text', value: '`'},\r\n    { type: 'text', value: '\"'},\r\n    { type: 'text', value: '\\''},\r\n    { type: 'text', value: ':'},\r\n    { type: 'text', value: ';'},\r\n    { type: 'text', value: '_'},\r\n    { type: 'text', value: '='},\r\n    { type: 'text', value: '\\\\'},\r\n    { type: 'text', value: '/'},\r\n\r\n    { type: 'text', value: '{'},\r\n    { type: 'text', value: '}'},\r\n    { type: 'text', value: '['},\r\n    { type: 'text', value: ']'},\r\n    { type: 'text', value: '<'},\r\n    { type: 'text', value: '>'},\r\n    { type: 'text', value: '^'},\r\n    { type: 'text', value: '|'},\r\n    { type: 'text', value: '!'},\r\n    { type: 'text', value: '?'},\r\n\r\n    { type: 'symbol', value: 'ABC'},\r\n    { type: 'text', value: '@'},\r\n    { type: 'spacebar', value: ''},\r\n    { type: 'text', value: ','},\r\n    { type: 'text', value: '.'}\r\n  ],\r\n\r\n  actions: [\r\n    { type: 'backspace', value: 'Del'},\r\n    { type: 'enter', value: 'OK'},\r\n    { type: 'dismiss', value: 'W'},\r\n  ]\r\n}\r\n\r\nmodule.exports = Layouts;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/layouts.js","const Config = {\r\n  KEYBOARD_COLOR: \"#263238\",\r\n  KEY_COLOR_HIGHLIGHT: \"#29363c\",\r\n  KEY_COLOR_ACTIVE: \"#404b50\",\r\n  SPACEBAR_COLOR_ACTIVE: \"#3c464b\",\r\n  SPACEBAR_COLOR_HIGHLIGHT: \"#445055\",\r\n  KEY_WIDTH: 0.08,\r\n  SPACE_KEY_WIDTH: 0.368,\r\n  SPACE_KEY_HEIGHT: 0.05,\r\n  ACTION_WIDTH: 0.140,\r\n}\r\n\r\nmodule.exports = Config;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/config.js","const Assets = require('./assets');\r\nconst Config = require('./config');\r\nconst Utils = require('../utils');\r\nconst Event = require('../core/event');\r\nconst SFX = require('./sfx');\r\nconst Behaviors = {};\r\n\r\nBehaviors.el = null;\r\n\r\n// -----------------------------------------------------------------------------\r\n// KEYBOARD METHODS\r\n\r\nBehaviors.showKeyboard = function(el) {\r\n  if (el.o_position) {\r\n    el.object3D.position.copy(el.o_position);\r\n  }\r\n  el.isOpen = true;\r\n  for(let item of el.querySelectorAll('[data-ui]') ) {\r\n    for (let child of item.children) {\r\n      child.setAttribute('show', true);\r\n    }\r\n  }\r\n  let parent = el.parentNode;\r\n  if (parent) { return; }\r\n  el.sceneEl.appendChild(el);\r\n};\r\n\r\nBehaviors.hideKeyboard = function(el) {\r\n  let position = el.getAttribute(\"position\");\r\n  if (position.x !== -10000) {\r\n    if (!el.o_position) {\r\n      el.o_position = new THREE.Vector3();\r\n    }\r\n    el.o_position.copy(position);\r\n  }\r\n  el.isOpen = false;\r\n  el.setAttribute(\"position\", \"-10000 -10000 -10000\");\r\n  el.setAttribute('fadeout', {duration: 1});\r\n}\r\n\r\nBehaviors.destroyKeyboard = function(el) {\r\n  let parent = el.parentNode;\r\n  if (!parent) { return; }\r\n  parent.removeChild(el);\r\n};\r\n\r\nBehaviors.openKeyboard = function(el) {\r\n  if (el.o_position) {\r\n    el.object3D.position.copy(el.o_position);\r\n  }\r\n  el.isOpen = true;\r\n  el._transitioning = true;\r\n  let parent = el.parentNode;\r\n  if (!parent) { el.sceneEl.appendChild(el); }\r\n  for(let item of el.querySelectorAll('[data-ui]') ) {\r\n    for (let child of item.children) {\r\n      child.setAttribute('hide', true);\r\n    }\r\n    function animationend() {\r\n      item.children[0].removeEventListener('animationend', animationend)\r\n      setTimeout(function() {\r\n        item.children[1].setAttribute('fadein', {duration: 160});\r\n        Event.emit(Behaviors.el, 'didopen');\r\n        el._transitioning = false;\r\n      }, 10)\r\n    }\r\n    item.children[0].setAttribute('fadein', {duration: 160});\r\n    item.children[0].addEventListener('animationend', animationend)\r\n  }\r\n};\r\n\r\nBehaviors.dismissKeyboard = function(el) {\r\n  el._transitioning = true;\r\n  for(let item of el.querySelectorAll('[data-ui]') ) {\r\n    for (let child of item.children) {\r\n      child.setAttribute('show', true);\r\n    }\r\n    el.isOpen = false;\r\n    function animationend() {\r\n      item.children[1].removeEventListener('animationend', animationend)\r\n      setTimeout(function() {\r\n        function animationend() {\r\n          item.children[0].removeEventListener('animationend', animationend);\r\n          Behaviors.hideKeyboard(el);\r\n          Event.emit(Behaviors.el, 'diddismiss');\r\n          el._transitioning = false;\r\n        }\r\n        item.children[0].setAttribute('fadeout', {duration: 160});\r\n        item.children[0].addEventListener('animationend', animationend);\r\n      }, 10)\r\n    }\r\n    item.children[1].setAttribute('fadeout', {duration: 160});\r\n    item.children[1].addEventListener('animationend', animationend)\r\n  }\r\n};\r\n\r\n// -----------------------------------------------------------------------------\r\n// KEY EVENTS\r\n\r\nBehaviors.addKeyEvents = (el)=>{\r\n  el.addEventListener('click', Behaviors.keyClick);\r\n  el.addEventListener('mousedown', Behaviors.keyDown);\r\n  el.addEventListener('mouseup', Behaviors.keyOut);\r\n  el.addEventListener('raycaster-intersected', Behaviors.keyIn );\r\n  el.addEventListener('raycaster-intersected-cleared', Behaviors.keyOut );\r\n  //triggerdown\r\n  // https://aframe.io/docs/0.6.0/components/hand-controls.html\r\n};\r\n\r\n// -----------------------------------------------------------------------------\r\n// KEYCLICK\r\n\r\nBehaviors.keyClick = function() {\r\n  if (!Behaviors.el.data.mute) {\r\n    SFX.keyDown(Behaviors.el);\r\n  }\r\n\r\n  let type = this.getAttribute('key-type');\r\n  let value = this.getAttribute('key-value');\r\n\r\n  if (type === 'text' || type === 'spacebar') {\r\n    if (type === 'spacebar') { value = ' '; }\r\n    if (Behaviors.isShiftEnabled) {\r\n      value = value.toUpperCase();\r\n      Behaviors.shiftToggle();\r\n    }\r\n    else if (Behaviors.isSymbols) {\r\n      Behaviors.symbolsToggle();\r\n    }\r\n    Event.emit(Behaviors.el, 'input', value);\r\n  }\r\n  else if (type === 'shift') {\r\n    Behaviors.shiftToggle();\r\n  }\r\n  else if (type === 'symbol') {\r\n    Behaviors.symbolsToggle();\r\n  }\r\n  else if (type === 'backspace') {\r\n    Event.emit(Behaviors.el, 'backspace');\r\n  }\r\n  else if (type === 'enter') {\r\n    Event.emit(Behaviors.el, 'input', '\\n');\r\n    Event.emit(Behaviors.el, 'enter', '\\n');\r\n  }\r\n  else if (type === 'dismiss') {\r\n    Event.emit(Behaviors.el, 'dismiss');\r\n  }\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// KEYDOWN\r\n\r\nBehaviors.keyDown = function() {\r\n  if (Behaviors.el._transitioning) { return; }\r\n  this.object3D.position.z = 0.003;\r\n  if (this.getAttribute('key-type') === 'spacebar') {\r\n    this.setAttribute('color', Config.SPACEBAR_COLOR_ACTIVE);\r\n  } else {\r\n    this.setAttribute('color', Config.KEY_COLOR_ACTIVE);\r\n  }\r\n};\r\n\r\n// -----------------------------------------------------------------------------\r\n// KEYIN\r\n\r\nBehaviors.keyIn = function() {\r\n  if (Behaviors.el._transitioning) { return; }\r\n  if (this.object3D.children[2] && this.object3D.children[2].material && !this.object3D.children[2].material.opacity) {\r\n    return\r\n  }\r\n  if (!Behaviors.el.data.mute) {\r\n    SFX.keyIn(Behaviors.el);\r\n  }\r\n  if (this.getAttribute('key-type') === 'spacebar') {\r\n    this.setAttribute('color', Config.SPACEBAR_COLOR_HIGHLIGHT);\r\n  } else {\r\n    this.setAttribute('color', Config.KEY_COLOR_HIGHLIGHT);\r\n  }\r\n};\r\n\r\n// -----------------------------------------------------------------------------\r\n// KEYOUT\r\n\r\nBehaviors.keyOut = function() {\r\n  this.object3D.position.z = 0;\r\n  if (this.getAttribute('key-type') === 'spacebar') {\r\n    this.setAttribute('color', Config.KEY_COLOR_ACTIVE);\r\n  } else {\r\n    this.setAttribute('color', Config.KEYBOARD_COLOR);\r\n  }\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// SHIFT\r\n\r\nBehaviors.isShiftEnabled = false;\r\nBehaviors.shiftToggle = function() {\r\n  Behaviors.isShiftEnabled = !Behaviors.isShiftEnabled;\r\n\r\n  var icon_el = Behaviors.el.shiftKey.querySelector('[data-type]');\r\n  if (Behaviors.isShiftEnabled) {\r\n    icon_el.setAttribute('src', Assets.aframeKeyboardShiftActive);\r\n  } else {\r\n    icon_el.setAttribute('src', Assets.aframeKeyboardShift);\r\n  }\r\n\r\n  for ( let keyEl of document.querySelectorAll(\"[key-id]\") ) {\r\n    let key_id = keyEl.getAttribute('key-id'), key_type = keyEl.getAttribute('key-type');\r\n    if (key_id.startsWith('main-') && key_type === \"text\") {\r\n      let textEl = keyEl.querySelector('a-text');\r\n      if (textEl) {\r\n        let value = textEl.getAttribute('value').toLowerCase();\r\n        if (this.isShiftEnabled) { value = value.toUpperCase(); }\r\n        textEl.setAttribute('value', value);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// SYMBOLS\r\n\r\nBehaviors.isSymbols = false;\r\nBehaviors.symbolsToggle = function() {\r\n  Behaviors.isSymbols = !Behaviors.isSymbols;\r\n  if (!Behaviors.isSymbols) {\r\n    let parent = Behaviors.el.symbolsLayout.parentNode;\r\n    parent.removeChild(Behaviors.el.symbolsLayout);\r\n    parent.appendChild(Behaviors.el.alphabeticalLayout);\r\n    setTimeout(function() {\r\n      Utils.updateOpacity(Behaviors.el.alphabeticalLayout, 1);\r\n    }, 0)\r\n  } else {\r\n    let parent = Behaviors.el.alphabeticalLayout.parentNode;\r\n    parent.removeChild(Behaviors.el.alphabeticalLayout);\r\n    parent.appendChild(Behaviors.el.symbolsLayout);\r\n  }\r\n}\r\n\r\n\r\n\r\nmodule.exports = Behaviors;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/behaviors.js","var Assets = require('./Assets');\r\n\r\nconst SFX = {\r\n\r\n  init: function(parent) {\r\n    let el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeKeyboardKeyInSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', Assets.aframeKeyboardKeyIn);\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n\r\n    el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeKeyboardKeyDownSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', Assets.aframeKeyboardKeyDown);\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n  },\r\n\r\n  keyIn: function(parent) {\r\n    let el = parent.querySelector('[key=aframeKeyboardKeyInSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  },\r\n\r\n  keyDown: function(parent) {\r\n    let el = parent.querySelector('[key=aframeKeyboardKeyDownSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  }\r\n}\r\n\r\nmodule.exports = SFX;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/sfx.js","module.exports = {\r\n  aframeKeyboardShift: `${AFRAME.ASSETS_PATH}/images/ShiftIcon.png`,\r\n  aframeKeyboardShiftActive: `${AFRAME.ASSETS_PATH}/images/ShiftActiveIcon.png`,\r\n  aframeKeyboardGlobal: `${AFRAME.ASSETS_PATH}/images/GlobalIcon.png`,\r\n  aframeKeyboardBackspace: `${AFRAME.ASSETS_PATH}/images/BackspaceIcon.png`,\r\n  aframeKeyboardEnter: `${AFRAME.ASSETS_PATH}/images/EnterIcon.png`,\r\n  aframeKeyboardDismiss: `${AFRAME.ASSETS_PATH}/images/DismissIcon.png`,\r\n  aframeKeyboardShadow: `${AFRAME.ASSETS_PATH}/images/KeyShadow.png`,\r\n  aframeKeyboardKeyIn: `${AFRAME.ASSETS_PATH}/sounds/KeyIn.mp3`,\r\n  aframeKeyboardKeyDown: `${AFRAME.ASSETS_PATH}/sounds/KeyDown.mp3`\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard/Assets.js","const Utils = require('../utils');\r\nconst Event = require('../core/event');\r\n\r\n/*\r\n@BUG: Space has not effect when no letter comes after.\r\n@TODO: <progress value=\"70\" max=\"100\">70 %</progress>\r\n*/\r\n\r\nAFRAME.registerComponent('input', {\r\n  schema: {\r\n    value: { type: \"string\", default: \"\" },\r\n    name: { type: \"string\", default: \"\" },\r\n    disabled: { type: \"boolean\", default: false },\r\n    color: { type: \"color\", default: \"#000\" },\r\n    align: { type: \"string\", default: \"left\" },\r\n    font: { type: \"string\", default: \"\" },\r\n    letterSpacing: { type: \"int\", default: 0 },\r\n    lineHeight: { type: \"string\", default: \"\" },\r\n    opacity: { type: \"number\", default: 1 },\r\n    side: { type: \"string\", default: 'front' },\r\n    tabSize: { type: \"int\", default: 4 },\r\n    placeholder: { type: \"string\", default: \"\" },\r\n    placeholderColor: { type: \"color\", default: \"#AAA\" },\r\n    maxLength: { type: \"int\", default: 0 },\r\n    type: { type: \"string\", default: \"text\" },\r\n    width: { type: \"number\", default: 1 },\r\n    cursorWidth: { type: \"number\", default: 0.01 },\r\n    cursorHeight: { type: \"number\", default: 0.08 },\r\n    cursorColor: { type: \"color\", default: \"#007AFF\" },\r\n    backgroundColor: { type: \"color\", default: \"#FFF\" },\r\n    backgroundOpacity: { type: \"number\", default: 1 },\r\n  },\r\n\r\n  init: function () {\r\n    let that = this;\r\n\r\n    this.background = document.createElement('a-rounded');\r\n    this.background.setAttribute('radius', 0.01)\r\n    this.background.setAttribute('height', 0.18)\r\n    this.background.setAttribute('side', 'double')\r\n    this.el.appendChild(this.background);\r\n\r\n    this.cursor = document.createElement('a-plane');\r\n    this.cursor.setAttribute('position', '0 0 0.003');\r\n    this.cursor.setAttribute('visible', false);\r\n    this.el.appendChild(this.cursor);\r\n\r\n    this.text = document.createElement('a-entity');\r\n    this.el.appendChild(this.text);\r\n\r\n    this.placeholder = document.createElement('a-entity');\r\n    this.placeholder.setAttribute('visible', false);\r\n    this.el.appendChild(this.placeholder);\r\n\r\n    this.el.focus = this.focus.bind(this);\r\n    this.el.blur = this.blur.bind(this);\r\n    this.el.appendString = this.appendString.bind(this);\r\n    this.el.deleteLast = this.deleteLast.bind(this);\r\n\r\n    //setTimeout(function() { that.updateText(); }, 0);\r\n    this.blink();\r\n\r\n    this.el.addEventListener('click', function() {\r\n      if (this.components.input.data.disabled) { return; }\r\n      that.focus();\r\n    });\r\n\r\n    Object.defineProperty(this.el, 'value', {\r\n      get: function() { return this.getAttribute('value'); },\r\n      set: function(value) { this.setAttribute('value', value); },\r\n      enumerable: true,\r\n      configurable: true\r\n    });\r\n  },\r\n  blink: function() {\r\n    let that = this;\r\n    if (!this.isFocused) {\r\n      that.cursor.setAttribute('visible', false);\r\n      clearInterval(this.cursorInterval);\r\n      this.cursorInterval = null;\r\n      return\r\n    }\r\n    this.cursorInterval = setInterval(function(){\r\n      that.cursor.setAttribute('visible', !that.cursor.getAttribute('visible'));\r\n    }, 500);\r\n  },\r\n  isFocused: false,\r\n  focus: function(noemit) {\r\n    if (this.isFocused) { return; }\r\n    this.isFocused = true;\r\n    this.cursor.setAttribute('visible', true);\r\n    this.blink();\r\n    Event.emit(this.el, 'focus');\r\n    if (!noemit) { Event.emit(document.body, 'didfocusinput', this.el); }\r\n  },\r\n  blur: function(noemit) {\r\n    if (!this.isFocused) { return; }\r\n    this.isFocused = false;\r\n    if (this.cursorInterval) {\r\n      clearInterval(this.cursorInterval);\r\n      this.cursorInterval = null;\r\n    }\r\n    this.cursor.setAttribute('visible', false);\r\n    Event.emit(this.el, 'blur');\r\n    if (!noemit) { Event.emit(document.body, 'didblurinput', this.el); }\r\n  },\r\n  appendString: function(data) {\r\n    if(data === '\\n') {\r\n      return this.blur();\r\n    }\r\n    let str = this.el.getAttribute(\"value\");\r\n    if (!str) { str = \"\" }\r\n    str = str+data;\r\n    this.el.setAttribute(\"value\", str)\r\n    Event.emit(this.el, 'change', str);\r\n  },\r\n  deleteLast: function() {\r\n    let str = this.el.getAttribute(\"value\");\r\n    if (!str) { str = \"\" }\r\n    str = str.slice(0, -1);\r\n    this.el.setAttribute(\"value\", str)\r\n    Event.emit(this.el, 'change', str);\r\n  },\r\n  updateText: function() {\r\n    let that = this;\r\n    let padding = {\r\n      left: 0.021,\r\n      right: 0.021\r\n    };\r\n\r\n    let props = {\r\n      color: this.data.color,\r\n      align: this.data.align,\r\n      side: this.data.side,\r\n      tabSize: this.data.tabSize,\r\n      wrapCount: 24*this.data.width,\r\n      width: this.data.width\r\n    }\r\n\r\n    // Make cursor stop blinking when typing..\r\n    // (and blinking again after typing stop).\r\n    let attr = this.text.getAttribute(\"text\");\r\n    if (attr) {\r\n      if (this.data.value !== attr.value) {\r\n        if (this.cursorInterval) {\r\n          clearInterval(this.cursorInterval);\r\n          this.cursorInterval = null;\r\n        }\r\n        if (this.cursorTimer) {\r\n          clearTimeout(this.cursorTimer);\r\n          this.cursorTimer = null;\r\n        }\r\n        this.cursor.setAttribute('visible', true);\r\n        this.cursorTimer = setTimeout(function(){\r\n          that.blink();\r\n        }, 50);\r\n      }\r\n    }\r\n\r\n    // Max length\r\n    if (this.data.maxLength) {\r\n      props.value = this.data.value.substring(0, this.data.maxLength);\r\n      this.el.setAttribute('value', props.value)\r\n    } else {\r\n      props.value = this.data.value;\r\n    }\r\n\r\n    if (this.data.type === \"password\") {\r\n      props.value = \"*\".repeat(this.data.value.length);\r\n    }\r\n\r\n    if (this.data.font.length) { props.font = this.data.font }\r\n    if (this.data.letterSpacing) { props.letterSpacing = this.data.letterSpacing; }\r\n    if (this.data.lineHeight.length) { props.lineHeight = this.data.lineHeight; }\r\n    this.text.setAttribute('visible', false);\r\n    this.text.setAttribute(\"text\", props);\r\n\r\n    function getTextWidth(el, data, trimFirst, _widthFactor) {\r\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) { return 0; }\r\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\r\n      if (!v) { return 0; }\r\n      v = v[v.length-1];\r\n      if (!v) { return 0; }\r\n      if (v.line) {\r\n        if (trimFirst) {\r\n          data.value = data.value.substr(1);\r\n        } else {\r\n          data.value = data.value.slice(0, -1);\r\n        }\r\n        el.setAttribute(\"text\", data);\r\n        return getTextWidth(el, data, trimFirst);\r\n      } else {\r\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, data.wrapCount); }\r\n        v = (v.position[0] + v.data.width) / (_widthFactor/that.data.width);\r\n        let textRatio = (v+padding.left+padding.right) / that.data.width;\r\n\r\n        if (textRatio > 1) {\r\n          if (trimFirst) {\r\n            data.value = data.value.substr(1);\r\n          } else {\r\n            data.value = data.value.slice(0, -1);\r\n          }\r\n          el.setAttribute(\"text\", data);\r\n          return getTextWidth(el, data, trimFirst, _widthFactor);\r\n        }\r\n      }\r\n      return v;\r\n    }\r\n\r\n\r\n    if (props.value.length) {\r\n      this.placeholder.setAttribute('visible', false);\r\n    } else {\r\n      this.placeholder.setAttribute('visible', true);\r\n    }\r\n\r\n    let placeholder_props = Utils.clone(props);\r\n    placeholder_props.value = this.data.placeholder;\r\n    placeholder_props.color = this.data.placeholderColor;\r\n    this.placeholder.setAttribute(\"text\", placeholder_props);\r\n\r\n    setTimeout(function() {\r\n      if (that.text.object3D) {\r\n        let children = that.text.object3D.children;\r\n        if (children[0] && children[0].geometry && children[0].geometry.visibleGlyphs) {\r\n          let v = 0;\r\n          if (children[0].geometry.visibleGlyphs.length) {\r\n            v = getTextWidth(that.text, props, true);\r\n            that.text.setAttribute('visible', true);\r\n          }\r\n          that.cursor.setAttribute('position', v+padding.left+' 0 0.003');\r\n        } else {\r\n          that.cursor.setAttribute('position', padding.left+' 0 0.003');\r\n        }\r\n      } else {  that.cursor.setAttribute('position', padding.left+' 0 0.003'); }\r\n      getTextWidth(that.placeholder, placeholder_props);\r\n    }, 0)\r\n\r\n    this.background.setAttribute('color', this.data.backgroundColor)\r\n    /*if (this.data.backgroundOpacity) {\r\n      setTimeout(function() {\r\n        Utils.updateOpacity(that.background, that.data.backgroundOpacity);\r\n      }, 0);\r\n    }*/\r\n    this.background.setAttribute('width', this.data.width);\r\n    //this.background.setAttribute('position', this.data.width/2+' 0 0');\r\n    this.background.setAttribute('position', '0 -0.09 0.001');\r\n    this.text.setAttribute('position', padding.left-0.001+this.data.width/2+' 0 0.002');\r\n    this.placeholder.setAttribute('position', padding.left-0.001+this.data.width/2+' 0 0.002');\r\n  },\r\n  updateCursor: function() {\r\n    this.cursor.setAttribute('width', this.data.cursorWidth)\r\n    this.cursor.setAttribute('height', this.data.cursorHeight)\r\n    this.cursor.setAttribute('color', this.data.cursorColor);\r\n  },\r\n  update: function () {\r\n    let that = this;\r\n    setTimeout(function() {\r\n    //  Utils.updateOpacity(that.el, that.data.opacity);\r\n    }, 0)\r\n\r\n    this.updateCursor();\r\n    this.updateText();\r\n  },\r\n  tick: function () {},\r\n  remove: function () {},\r\n  pause: function () {},\r\n  play: function () {}\r\n});\r\n\r\nAFRAME.registerPrimitive('a-input', {\r\n  defaultComponents: {\r\n    input: {}\r\n  },\r\n  mappings: {\r\n    value: 'input.value',\r\n    name: 'input.name',\r\n    disabled: 'input.disabled',\r\n    color: 'input.color',\r\n    align: 'input.align',\r\n    font: 'input.font',\r\n    'letter-spacing': 'input.letterSpacing',\r\n    'line-height': 'input.lineHeight',\r\n    'opacity': 'input.opacity',\r\n    'side': 'input.side',\r\n    'tab-size': 'input.tabSize',\r\n    placeholder: 'input.placeholder',\r\n    'placeholder-color': 'input.placeholderColor',\r\n    'max-length': 'input.maxLength',\r\n    type: 'input.type',\r\n    width: 'input.width',\r\n    'cursor-width': \"input.cursorWidth\",\r\n    'cursor-height': \"input.cursorHeight\",\r\n    'cursor-color': \"input.cursorColor\",\r\n    'background-color': 'input.backgroundColor',\r\n    'background-opacity': 'input.backgroundOpacity'\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/input/index.js","const Utils = require('../utils');\r\nconst Event = require('../core/event');\r\nconst Assets = require('./assets');\r\nconst SFX = require('./sfx');\r\n\r\nAFRAME.registerComponent('switch', {\r\n  schema: {\r\n    name: { type: \"string\", default: \"\" },\r\n    enabled: { type: 'boolean', default: false },\r\n    disabled: { type: 'boolean', default: false },\r\n    fillColor: { type: \"color\", default: \"#bababa\" },\r\n    knobColor: { type: \"color\", default: \"#f5f5f5\" },\r\n    fillColorEnabled: { type: \"color\", default: \"#80a8ff\" },\r\n    knobColorEnabled: { type: \"color\", default: \"#4076fd\" },\r\n    fillColorDisabled: { type: \"color\", default: \"#939393\" },\r\n    knobColorDisabled: { type: \"color\", default: \"#a2a2a2\" },\r\n    mute: { type: \"boolean\", default: true }\r\n  },\r\n  init: function () {\r\n    var that = this;\r\n\r\n    // Assets\r\n    Utils.preloadAssets( Assets );\r\n\r\n    // SFX\r\n    if (!this.data.mute) {\r\n      SFX.init(this.el);\r\n    }\r\n\r\n    // FILL\r\n    this.el.fill = document.createElement('a-rounded');\r\n    this.el.fill.setAttribute('width', 0.36)\r\n    this.el.fill.setAttribute('height', 0.16)\r\n    this.el.fill.setAttribute('radius', 0.08)\r\n    this.el.fill.setAttribute('side', 'double')\r\n    this.el.fill.setAttribute('position', '0 0 0.01')\r\n    this.el.appendChild(this.el.fill);\r\n\r\n    // KNOB\r\n    this.el.knob = document.createElement('a-circle');\r\n    this.el.knob.setAttribute('position', '0.06 0.08 0.02')\r\n    this.el.knob.setAttribute('radius', 0.12)\r\n    this.el.knob.setAttribute('side', 'double')\r\n    this.el.appendChild(this.el.knob);\r\n\r\n    // SHADOW\r\n    this.el.shadow_el = document.createElement('a-image');\r\n    this.el.shadow_el.setAttribute('width', 0.24*1.25);\r\n    this.el.shadow_el.setAttribute('height', 0.24*1.25);\r\n    this.el.shadow_el.setAttribute('position', '0 0 -0.001');\r\n    this.el.shadow_el.setAttribute('src', '#aframeSwitchShadow');\r\n    this.el.knob.appendChild(this.el.shadow_el);\r\n\r\n    this.el.addEventListener('click', function() {\r\n      if (this.components.switch.data.disabled) { return; }\r\n      this.setAttribute('enabled', !this.components.switch.data.enabled );\r\n      Event.emit(this, 'change', this.components.switch.data.enabled);\r\n    });\r\n    this.el.addEventListener('mousedown', function() {\r\n      if (this.components.switch.data.disabled) {\r\n        if (!this.data.mute) {\r\n          return SFX.clickDisabled(this);\r\n        }\r\n        return;\r\n      }\r\n      if (!this.data.mute) {\r\n        SFX.click(this);\r\n      }\r\n    });\r\n\r\n    Object.defineProperty(this.el, 'enabled', {\r\n      get: function() { return this.getAttribute('enabled'); },\r\n      set: function(value) { this.setAttribute('enabled', value); },\r\n      enumerable: true,\r\n      configurable: true\r\n    });\r\n  },\r\n  on: function() {\r\n    this.el.fill.setAttribute('color', this.data.fillColorEnabled)\r\n    this.el.knob.setAttribute('position', '0.32 0.08 0.02');\r\n    this.el.knob.setAttribute('color', this.data.knobColorEnabled)\r\n  },\r\n  off: function() {\r\n    this.el.fill.setAttribute('color', this.data.fillColor)\r\n    this.el.knob.setAttribute('position', '0.06 0.08 0.02');\r\n    this.el.knob.setAttribute('color', this.data.knobColor)\r\n  },\r\n  disable: function() {\r\n    this.el.fill.setAttribute('color', this.data.fillColorDisabled)\r\n    this.el.knob.setAttribute('color', this.data.knobColorDisabled)\r\n  },\r\n  update: function () {\r\n    if (this.data.enabled) {\r\n      this.on();\r\n    } else {\r\n      this.off();\r\n    }\r\n    if (this.data.disabled) {\r\n      this.disable();\r\n    }\r\n  },\r\n  tick: function () {},\r\n  remove: function () {},\r\n  pause: function () {},\r\n  play: function () {}\r\n});\r\n\r\nAFRAME.registerPrimitive('a-switch', {\r\n  defaultComponents: {\r\n    switch: {}\r\n  },\r\n  mappings: {\r\n    name: 'switch.name',\r\n    enabled: 'switch.enabled',\r\n    disabled: 'switch.disabled',\r\n    'fill-color': 'switch.fillColor',\r\n    'knob-color': 'switch.knobColor',\r\n    'fill-color-enabled': 'switch.fillColorEnabled',\r\n    'knob-color-enabled': 'switch.knobColorEnabled',\r\n    'fill-color-disabled': 'switch.fillColorDisabled',\r\n    'knob-color-disabled': 'switch.knobColorDisabled',\r\n    mute: 'switch.mute'\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/switch/index.js","module.exports = [\r\n  { type: 'img', id: 'aframeSwitchShadow', src: `${AFRAME.ASSETS_PATH}/images/SwitchShadow.png`},\r\n  { type: 'audio', id: 'aframeSwitchClick', src: `${AFRAME.ASSETS_PATH}/sounds/InputClick.mp3`},\r\n  { type: 'audio', id: 'aframeSwitchClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\r\n]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/switch/assets.js","const SFX = {\r\n\r\n  init: function(parent) {\r\n    let el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeSwitchClickSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', '#aframeSwitchClick');\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n\r\n    el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeSwitchClickDisabledSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', '#aframeSwitchClickDisabled');\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n  },\r\n\r\n  click: function(parent) {\r\n    let el = parent.querySelector('[key=aframeSwitchClickSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  },\r\n\r\n  clickDisabled: function(parent) {\r\n    let el = parent.querySelector('[key=aframeSwitchClickDisabledSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  }\r\n}\r\n\r\nmodule.exports = SFX;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/switch/sfx.js","const Utils = require('../utils');\r\nconst Event = require('../core/event');\r\n\r\nAFRAME.registerComponent('form', {\r\n  schema: {\r\n  },\r\n  init: function () {\r\n  },\r\n  update: function () {\r\n  },\r\n  tick: function () {},\r\n  remove: function () {},\r\n  pause: function () {},\r\n  play: function () {}\r\n});\r\n\r\nAFRAME.registerPrimitive('a-form', {\r\n  defaultComponents: {\r\n    form: {}\r\n  },\r\n  mappings: {\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/form/index.js","const Utils = require('../utils');\r\nconst Event = require('../core/event');\r\nconst Assets = require('./assets');\r\nconst SFX = require('./sfx');\r\n\r\nAFRAME.registerComponent('radio', {\r\n  schema: {\r\n    checked: { type: 'boolean', default: false },\r\n    disabled: { type: 'boolean', default: false },\r\n    name: { type: \"string\", default: \"\" },\r\n    value: { type: \"string\", default: \"\" },\r\n    label: { type: \"string\", default: \"\" },\r\n    radioColor: { type: \"color\", default: \"#757575\"},\r\n    radioColorChecked: { type: \"color\", default: \"#4076fd\"},\r\n    color: { type: \"color\", default: \"#757575\" },\r\n    font: { type: \"string\", default: \"\" },\r\n    letterSpacing: { type: \"int\", default: 0 },\r\n    lineHeight: { type: \"string\", default: \"\" },\r\n    opacity: { type: \"number\", default: 1 },\r\n    width: { type: \"number\", default: 1 },\r\n    mute: { type: \"boolean\", default: true }\r\n  },\r\n  init: function () {\r\n    var that = this;\r\n\r\n    // Assets\r\n    Utils.preloadAssets( Assets );\r\n\r\n    // SFX\r\n    if (!this.data.mute) {\r\n      SFX.init(this.el);\r\n    }\r\n\r\n    // HITBOX\r\n    this.hitbox = document.createElement('a-plane');\r\n    this.hitbox.setAttribute('height', 0.2);\r\n    this.hitbox.setAttribute('opacity', 0);\r\n    this.hitbox.setAttribute('position', '0 0 0.001')\r\n    this.el.appendChild(this.hitbox);\r\n\r\n    // OUTLINE\r\n    this.outline = document.createElement('a-ring');\r\n    this.outline.setAttribute('radius-outer', 0.1)\r\n    this.outline.setAttribute('radius-inner', 0.078);\r\n    this.outline.setAttribute('position', '0.1 0 0.002');\r\n    this.el.appendChild(this.outline);\r\n\r\n    // CIRCLE\r\n    this.circle = document.createElement('a-circle');\r\n    this.circle.setAttribute('radius', 0.05)\r\n    this.circle.setAttribute('position', '0.1 0 0.002');\r\n    this.el.appendChild(this.circle);\r\n\r\n    // LABEL\r\n    this.label = document.createElement('a-entity');\r\n    this.el.appendChild(this.label);\r\n\r\n    // EVENTS\r\n    this.el.addEventListener('click', function() {\r\n      if (this.components.radio.data.disabled) { return; }\r\n      this.setAttribute('checked', true);\r\n      that.onClick();\r\n    });\r\n    this.el.addEventListener('mousedown', function() {\r\n      if (this.components.radio.data.disabled) {\r\n        if (!this.data.mute) {\r\n          return SFX.clickDisabled(this);\r\n        }\r\n        return;\r\n      }\r\n      if (!this.data.mute) {\r\n        SFX.click(this);\r\n      }\r\n    });\r\n\r\n    Object.defineProperty(this.el, 'value', {\r\n      get: function() { return this.getAttribute('value'); },\r\n      set: function(value) { this.setAttribute('value', value); },\r\n      enumerable: true,\r\n      configurable: true\r\n    });\r\n  },\r\n  onClick: function(noemit) {\r\n    if (this.data.name) {\r\n      let nearestForm = this.el.closest(\"a-form\");\r\n      if (nearestForm) {\r\n        let didCheck = false;\r\n        let children = Array.from(nearestForm.querySelectorAll(`[name=${this.data.name}]`));\r\n        children.reverse();\r\n        for (let child of children) {\r\n          // Radio + not disabled\r\n          if (child.components.radio ) {\r\n            // Currently checked\r\n            if (child === this.el && child.hasAttribute('checked')) {\r\n              didCheck = true;\r\n              child.components.radio.check();\r\n              if (!noemit) { Event.emit(child, 'change', true); }\r\n            } else {\r\n              if (!didCheck && !this.data.checked && child.hasAttribute('checked')) {\r\n                didCheck = true;\r\n                child.components.radio.check();\r\n              } else {\r\n                child.components.radio.uncheck();\r\n              }\r\n            }\r\n          }\r\n        }\r\n        if (!didCheck && this.el.hasAttribute('checked')) {\r\n          this.check();\r\n          if (!noemit) { Event.emit(this.el, 'change', true); }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  check: function() {\r\n    this.outline.setAttribute('color', this.data.radioColorChecked);\r\n    this.circle.setAttribute('color', this.data.radioColorChecked);\r\n    this.circle.setAttribute('visible', true);\r\n    if (this.data.disabled) { this.disabled(); }\r\n  },\r\n  uncheck: function() {\r\n    this.outline.setAttribute('color', this.data.radioColor);\r\n    this.circle.setAttribute('visible', false);\r\n    if (this.data.disabled) { this.disabled(); }\r\n  },\r\n  disabled: function() {\r\n    this.outline.setAttribute('color', this.data.radioColor);\r\n    this.circle.setAttribute('color', this.data.radioColor);\r\n  },\r\n  update: function () {\r\n    var that = this;\r\n    this.onClick(true);\r\n\r\n    // HITBOX\r\n    this.hitbox.setAttribute('width', this.data.width)\r\n    this.hitbox.setAttribute('position', this.data.width/2+' 0 0.001');\r\n\r\n    let props = {\r\n      color: this.data.color,\r\n      align: 'left',\r\n      wrapCount: 10*(this.data.width+0.2),\r\n      width: this.data.width,\r\n    }\r\n    if (this.data.font) { props.font = this.data.font; }\r\n\r\n    // TITLE\r\n    props.value = this.data.label;\r\n    props.color = this.data.color;\r\n    this.label.setAttribute('text', props);\r\n    this.label.setAttribute('position', this.data.width/2+0.24+' 0 0.002');\r\n\r\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\r\n    function getTextWidth(el, _widthFactor) {\r\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) { return 0; }\r\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\r\n      if (!v) { return 0; }\r\n      v = v[v.length-1];\r\n      if (!v) { return 0; }\r\n      if (v.line) {\r\n        props.value = props.value.slice(0, -1);\r\n        el.setAttribute(\"text\", props);\r\n        return getTextWidth(el);\r\n      } else {\r\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, props.wrapCount); }\r\n        v = (v.position[0] + v.data.width) / (_widthFactor/that.data.width);\r\n        let textRatio = v / that.data.width;\r\n        if (textRatio > 1) {\r\n          props.value = props.value.slice(0, -1);\r\n          el.setAttribute(\"text\", props);\r\n          return getTextWidth(el, _widthFactor);\r\n        }\r\n      }\r\n      return v;\r\n    }\r\n    setTimeout(function() {\r\n      if (that.data.label.length) {\r\n        getTextWidth(that.label);\r\n      }\r\n      if (that.data.disabled) {\r\n        let timer = setInterval(function() {\r\n          if (that.outline.object3D.children[0]) {\r\n            clearInterval(timer);\r\n            Utils.updateOpacity(that.outline, 0.4);\r\n            Utils.updateOpacity(that.circle, 0.4);\r\n            Utils.updateOpacity(that.label, 0.4);\r\n          }\r\n        }, 10)\r\n      } else {\r\n        let timer = setInterval(function() {\r\n          if (that.outline.object3D.children[0]) {\r\n            clearInterval(timer);\r\n            Utils.updateOpacity(that.outline, 1);\r\n            Utils.updateOpacity(that.circle, 1);\r\n            Utils.updateOpacity(that.label, 1);\r\n          }\r\n        }, 10)\r\n      }\r\n    }, 0);\r\n  },\r\n  tick: function () {},\r\n  remove: function () {},\r\n  pause: function () {},\r\n  play: function () {}\r\n});\r\n\r\nAFRAME.registerPrimitive('a-radio', {\r\n  defaultComponents: {\r\n    radio: {}\r\n  },\r\n  mappings: {\r\n    checked: 'radio.checked',\r\n    disabled: 'radio.disabled',\r\n    name: 'radio.name',\r\n    value: 'radio.value',\r\n    label: 'radio.label',\r\n    'radio-color': 'radio.radioColor',\r\n    'radio-color-checked': 'radio.radioColorChecked',\r\n    color: 'radio.color',\r\n    align: 'radio.align',\r\n    font: 'radio.font',\r\n    'letter-spacing': 'radio.letterSpacing',\r\n    'line-height': 'radio.lineHeight',\r\n    'opacity': 'radio.opacity',\r\n    width: 'radio.width',\r\n    mute: 'radio.mute'\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/radio/index.js","module.exports = [\r\n  { type: 'audio', id: 'aframeRadioClick', src: `${AFRAME.ASSETS_PATH}/sounds/InputClick.mp3`},\r\n  { type: 'audio', id: 'aframeRadioClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\r\n]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/radio/assets.js","const SFX = {\r\n\r\n  init: function(parent) {\r\n    let el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeRadioClickSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', '#aframeRadioClick');\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n\r\n    el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeRadioClickDisabledSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', '#aframeRadioClickDisabled');\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n  },\r\n\r\n  click: function(parent) {\r\n    let el = parent.querySelector('[key=aframeRadioClickSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  },\r\n\r\n  clickDisabled: function(parent) {\r\n    let el = parent.querySelector('[key=aframeRadioClickDisabledSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  }\r\n}\r\n\r\nmodule.exports = SFX;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/radio/sfx.js","const Utils = require('../utils');\r\nconst Event = require('../core/event');\r\nconst Assets = require('./assets');\r\nconst SFX = require('./sfx');\r\n\r\nAFRAME.registerComponent('checkbox', {\r\n  schema: {\r\n    checked: { type: 'boolean', default: false },\r\n    disabled: { type: 'boolean', default: false },\r\n    name: { type: \"string\", default: \"\" },\r\n    value: { type: \"string\", default: \"\" },\r\n    label: { type: \"string\", default: \"\" },\r\n    checkboxColor: { type: \"color\", default: \"#757575\"},\r\n    checkboxColorChecked: { type: \"color\", default: \"#4076fd\"},\r\n    color: { type: \"color\", default: \"#757575\" },\r\n    font: { type: \"string\", default: \"\" },\r\n    letterSpacing: { type: \"int\", default: 0 },\r\n    lineHeight: { type: \"string\", default: \"\" },\r\n    opacity: { type: \"number\", default: 1 },\r\n    width: { type: \"number\", default: 1 },\r\n    mute: { type: \"boolean\", default: true }\r\n  },\r\n  init: function () {\r\n    var that = this;\r\n\r\n    // Assets\r\n    Utils.preloadAssets( Assets );\r\n\r\n    // SFX\r\n    if (!this.data.mute) {\r\n      SFX.init(this.el);\r\n    }\r\n\r\n    // HITBOX\r\n    this.hitbox = document.createElement('a-plane');\r\n    this.hitbox.setAttribute('height', 0.2);\r\n    this.hitbox.setAttribute('opacity', 0);\r\n    this.el.appendChild(this.hitbox);\r\n\r\n    // OUTLINE\r\n    this.outline = document.createElement('a-rounded');\r\n    this.outline.setAttribute('width', 0.2);\r\n    this.outline.setAttribute('height', 0.2);\r\n    this.outline.setAttribute('radius', 0.02);\r\n    this.outline.setAttribute('position', `0 -${0.2/2} 0.01`);\r\n    this.el.appendChild(this.outline);\r\n\r\n    // INSIDE\r\n    this.inside = document.createElement('a-rounded');\r\n    this.inside.setAttribute('width', 0.156);\r\n    this.inside.setAttribute('height', 0.156);\r\n    this.inside.setAttribute('radius', 0.01);\r\n    this.inside.setAttribute('color', \"#EEE\");\r\n    this.inside.setAttribute('position', `${0.156/8} -${0.156/2} 0.02`);\r\n    this.el.appendChild(this.inside);\r\n\r\n    // CHECKMARK\r\n    this.checkmark = document.createElement('a-image');\r\n    this.checkmark.setAttribute('width', 0.16);\r\n    this.checkmark.setAttribute('height', 0.16);\r\n    this.checkmark.setAttribute('src', \"#aframeCheckboxMark\");\r\n    this.checkmark.setAttribute('position', '0.1 0 0.03');\r\n    this.el.appendChild(this.checkmark);\r\n\r\n    // LABEL\r\n    this.label = document.createElement('a-entity');\r\n    this.el.appendChild(this.label);\r\n\r\n    // EVENTS\r\n    this.el.addEventListener('click', function() {\r\n      if (this.components.checkbox.data.disabled) { return; }\r\n      this.components.checkbox.data.checked = !this.components.checkbox.data.checked;\r\n      this.setAttribute('checked', this.components.checkbox.data.checked);\r\n      that.onClick();\r\n    });\r\n    this.el.addEventListener('mousedown', function() {\r\n      if (this.components.checkbox.data.disabled) {\r\n        if (!this.data.mute) {\r\n          return SFX.clickDisabled(this);\r\n        }\r\n        return;\r\n      }\r\n      if (!this.data.mute) {\r\n        SFX.click(this);\r\n      }\r\n    });\r\n\r\n    Object.defineProperty(this.el, 'value', {\r\n      get: function() { return this.getAttribute('value'); },\r\n      set: function(value) { this.setAttribute('value', value); },\r\n      enumerable: true,\r\n      configurable: true\r\n    });\r\n  },\r\n  onClick: function(noemit) {\r\n    if (this.data.checked) {\r\n      this.check();\r\n    } else {\r\n      this.uncheck();\r\n    }\r\n    if (!noemit) { Event.emit(this.el, 'change', this.data.checked); }\r\n  },\r\n  check: function() {\r\n    this.outline.setAttribute('color', this.data.checkboxColorChecked);\r\n    this.inside.setAttribute('color', this.data.checkboxColorChecked);\r\n    this.checkmark.setAttribute('visible', true);\r\n    if (this.data.disabled) { this.disabled(); }\r\n  },\r\n  uncheck: function() {\r\n    this.outline.setAttribute('color', this.data.checkboxColor);\r\n    this.inside.setAttribute('color', \"#EEE\");\r\n    this.checkmark.setAttribute('visible', false);\r\n    if (this.data.disabled) { this.disabled(); }\r\n  },\r\n  disabled: function() {\r\n    this.outline.setAttribute('color', this.data.checkboxColor);\r\n    this.inside.setAttribute('color', this.data.checkboxColor);\r\n  },\r\n  update: function () {\r\n    var that = this;\r\n    this.onClick(true);\r\n\r\n    // HITBOX\r\n    this.hitbox.setAttribute('width', this.data.width)\r\n    this.hitbox.setAttribute('position', this.data.width/2+' 0 0.01');\r\n\r\n    let props = {\r\n      color: this.data.color,\r\n      align: 'left',\r\n      wrapCount: 10*(this.data.width+0.2),\r\n      width: this.data.width,\r\n    }\r\n    if (this.data.font) { props.font = this.data.font; }\r\n\r\n    // TITLE\r\n    props.value = this.data.label;\r\n    props.color = this.data.color;\r\n    this.label.setAttribute('text', props);\r\n    this.label.setAttribute('position', this.data.width/2+0.24+' 0 0.01');\r\n\r\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\r\n    function getTextWidth(el, _widthFactor) {\r\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) { return 0; }\r\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\r\n      if (!v) { return 0; }\r\n      v = v[v.length-1];\r\n      if (!v) { return 0; }\r\n      if (v.line) {\r\n        props.value = props.value.slice(0, -1);\r\n        el.setAttribute(\"text\", props);\r\n        return getTextWidth(el);\r\n      } else {\r\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, props.wrapCount); }\r\n        v = (v.position[0] + v.data.width) / (_widthFactor/that.data.width);\r\n        let textRatio = v / that.data.width;\r\n        if (textRatio > 1) {\r\n          props.value = props.value.slice(0, -1);\r\n          el.setAttribute(\"text\", props);\r\n          return getTextWidth(el, _widthFactor);\r\n        }\r\n      }\r\n      return v;\r\n    }\r\n    setTimeout(function() {\r\n      if (that.data.label.length) {\r\n        getTextWidth(that.label);\r\n      }\r\n      if (that.data.disabled) {\r\n        let timer = setInterval(function() {\r\n          if (that.checkmark.object3D.children[0]) {\r\n            clearInterval(timer);\r\n            Utils.updateOpacity(that.checkmark, 0.4);\r\n            Utils.updateOpacity(that.label, 0.4);\r\n          }\r\n        }, 10)\r\n      } else {\r\n        let timer = setInterval(function() {\r\n          if (that.checkmark.object3D.children[0]) {\r\n            clearInterval(timer);\r\n            Utils.updateOpacity(that.checkmark, 1);\r\n            Utils.updateOpacity(that.label, 1);\r\n          }\r\n        }, 10)\r\n      }\r\n    }, 0);\r\n  },\r\n  tick: function () {},\r\n  remove: function () {},\r\n  pause: function () {},\r\n  play: function () {}\r\n});\r\n\r\nAFRAME.registerPrimitive('a-checkbox', {\r\n  defaultComponents: {\r\n    checkbox: {}\r\n  },\r\n  mappings: {\r\n    checked: 'checkbox.checked',\r\n    disabled: 'checkbox.disabled',\r\n    name: 'checkbox.name',\r\n    value: 'checkbox.value',\r\n    label: 'checkbox.label',\r\n    'checkbox-color': 'checkbox.checkboxColor',\r\n    'checkbox-color-checked': 'checkbox.checkboxColorChecked',\r\n    color: 'checkbox.color',\r\n    align: 'checkbox.align',\r\n    font: 'checkbox.font',\r\n    'letter-spacing': 'checkbox.letterSpacing',\r\n    'line-height': 'checkbox.lineHeight',\r\n    'opacity': 'checkbox.opacity',\r\n    width: 'checkbox.width',\r\n    mute: 'checkbox.mute'\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkbox/index.js","module.exports = [\r\n  { type: 'img', id: 'aframeCheckboxMark', src: `${AFRAME.ASSETS_PATH}/images/CheckmarkIcon.png`},\r\n  { type: 'audio', id: 'aframeCheckboxClick', src: `${AFRAME.ASSETS_PATH}/sounds/InputClick.mp3`},\r\n  { type: 'audio', id: 'aframeCheckboxClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\r\n]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkbox/assets.js","const SFX = {\r\n\r\n  init: function(parent) {\r\n    let el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeCheckboxClickSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', '#aframeCheckboxClick');\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n\r\n    el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeButtonClickDisabledSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', '#aframeButtonClickDisabled');\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n  },\r\n\r\n  click: function(parent) {\r\n    let el = parent.querySelector('[key=aframeCheckboxClickSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  },\r\n\r\n  clickDisabled: function(parent) {\r\n    let el = parent.querySelector('[key=aframeButtonClickDisabledSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  }\r\n}\r\n\r\nmodule.exports = SFX;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/checkbox/sfx.js","const Utils = require('../utils');\r\nconst Event = require('../core/event');\r\nconst Assets = require('./assets');\r\nconst SFX = require('./sfx');\r\n\r\nAFRAME.registerComponent('button', {\r\n  schema: {\r\n    disabled: { type: 'boolean', default: false },\r\n    type: { type: \"string\", default: \"raised\" },\r\n    name: { type: \"string\", default: \"\" },\r\n    value: { type: \"string\", default: \"Button\" },\r\n    buttonColor: { type: \"color\", default: \"#4076fd\"},\r\n    color: { type: \"color\", default: \"#FFF\" },\r\n    font: { type: \"string\", default: \"\" },\r\n    letterSpacing: { type: \"int\", default: 0 },\r\n    lineHeight: { type: \"string\", default: \"\" },\r\n    opacity: { type: \"number\", default: 1 },\r\n    width: { type: \"number\", default: 1 },\r\n    mute: { type: \"boolean\", default: true }\r\n  },\r\n  init: function () {\r\n    var that = this;\r\n\r\n    // Assets\r\n    Utils.preloadAssets( Assets.filter(function (a) { return !(that.data.mute && a.type === 'audio'); }));\r\n\r\n    // SFX\r\n    if (!this.data.mute) {\r\n      SFX.init(this.el);\r\n    }\r\n\r\n    this.wrapper = document.createElement('a-entity');\r\n    this.wrapper.setAttribute('position', '0 0 0.01')\r\n    this.el.appendChild(this.wrapper);\r\n\r\n    this.shadow = document.createElement('a-image');\r\n    this.shadow.setAttribute('height', 0.36*1.25);\r\n    this.shadow.setAttribute('src', '#aframeButtonShadow');\r\n    this.wrapper.appendChild(this.shadow);\r\n\r\n    // OUTLINE\r\n    this.outline = document.createElement('a-rounded');\r\n    this.outline.setAttribute('height', 0.36);\r\n    this.outline.setAttribute('radius', 0.03);\r\n    this.outline.setAttribute('position', `0 -${0.36/2} 0.01`);\r\n    this.wrapper.appendChild(this.outline);\r\n\r\n    // LABEL\r\n    this.label = document.createElement('a-entity');\r\n    this.outline.appendChild(this.label);\r\n\r\n    // EVENTS\r\n    this.el.addEventListener('click', function() {\r\n      if (this.components.button && this.components.button.data.disabled) { return; }\r\n      that.onClick();\r\n    });\r\n    this.el.addEventListener('mousedown', function() {\r\n      if (this.components.button && this.components.button.data.disabled) {\r\n        if (!this.data.mute) {\r\n          return SFX.clickDisabled(this);\r\n        }\r\n        return;\r\n      }\r\n      that.wrapper.setAttribute('position', `0 0 0.036`);\r\n      if (!this.data.mute) {\r\n        SFX.click(this);\r\n      }\r\n    });\r\n    this.el.addEventListener('mouseup', function() {\r\n      if (this.components.button && this.components.button.data.disabled) { return; }\r\n      that.wrapper.setAttribute('position', `0 0 0`);\r\n    });\r\n\r\n    this.el.getWidth = this.getWidth.bind(this);\r\n    Object.defineProperty(this.el, 'value', {\r\n      get: function() { return this.getAttribute('value'); },\r\n      set: function(value) { this.setAttribute('value', value); },\r\n      enumerable: true,\r\n      configurable: true\r\n    });\r\n  },\r\n  onClick: function() {\r\n    //Event.emit(this.el, 'click');\r\n  },\r\n  getWidth: function() {\r\n    return this.__width;\r\n  },\r\n  update: function () {\r\n    var that = this;\r\n    this.outline.setAttribute('color', this.data.buttonColor);\r\n\r\n    let props = {\r\n      color: this.data.color,\r\n      align: 'center',\r\n      wrapCount: 10*this.data.width,\r\n      width: this.data.width,\r\n    }\r\n    if (this.data.font) { props.font = this.data.font; }\r\n\r\n    if (this.data.type === \"flat\") {\r\n      props.color = this.data.buttonColor;\r\n    }\r\n\r\n    // TITLE\r\n    props.value = this.data.value.toUpperCase();\r\n    this.label.setAttribute('text', props);\r\n    this.label.setAttribute('position', this.data.width/2+0.24+' 0 0.01');\r\n\r\n    // TRIM TEXT IF NEEDED.. @TODO: optimize this mess..\r\n    function getTextWidth(el, callback, _widthFactor) {\r\n      if (!el.object3D || !el.object3D.children || !el.object3D.children[0]) {\r\n        return setTimeout(function() {\r\n          getTextWidth(el, callback);\r\n        }, 10);\r\n       }\r\n      let v = el.object3D.children[0].geometry.visibleGlyphs;\r\n      if (!v) {\r\n        return setTimeout(function() {\r\n          getTextWidth(el, callback);\r\n        }, 10);\r\n      }\r\n      v = v[v.length-1];\r\n      if (!v) { return callback(0); }\r\n      if (v.line) {\r\n        props.value = props.value.slice(0, -1);\r\n        el.setAttribute(\"text\", props);\r\n        return getTextWidth(el, callback);\r\n      } else {\r\n        if (!_widthFactor) { _widthFactor = Utils.getWidthFactor(el, props.wrapCount); }\r\n        v = (v.position[0] + v.data.width ) / (_widthFactor/that.data.width);\r\n        let textRatio = v / that.data.width;\r\n        if (textRatio > 1) {\r\n          props.value = props.value.slice(0, -1);\r\n          el.setAttribute(\"text\", props);\r\n          return getTextWidth(el, callback, _widthFactor);\r\n        }\r\n      }\r\n      return callback(v);\r\n    }\r\n    setTimeout(function() {\r\n      if (that.data.value.length) {\r\n        getTextWidth(that.label, (width)=>{\r\n          that.label.setAttribute('position', `${width/2+0.28/2} ${0.36/2} 0.02`);//\r\n          width = width+0.28;\r\n          that.outline.setAttribute('width', width);\r\n          that.__width = width;\r\n          that.shadow.setAttribute('width', width*1.17);\r\n          that.shadow.setAttribute('position', width/2+' 0 0');\r\n          Event.emit(that.el, 'change:width', width)\r\n        });\r\n      }\r\n\r\n      if (that.data.disabled) {\r\n        that.shadow.setAttribute('visible', false);\r\n        let timer = setInterval(function() {\r\n          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\r\n            clearInterval(timer);\r\n            Utils.updateOpacity(that.el, 0.4);\r\n          }\r\n        }, 10)\r\n      } else {\r\n        let timer = setInterval(function() {\r\n          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\r\n            clearInterval(timer);\r\n            Utils.updateOpacity(that.el, 1);\r\n          }\r\n        }, 10)\r\n      }\r\n\r\n      if (that.data.type === \"flat\") {\r\n        that.shadow.setAttribute('visible', false);\r\n        let timer = setInterval(function() {\r\n          if (that.label.object3D.children[0] && that.label.object3D.children[0].geometry.visibleGlyphs) {\r\n            clearInterval(timer);\r\n            Utils.updateOpacity(that.outline, 0);\r\n            if (that.data.disabled) {\r\n              Utils.updateOpacity(that.label, 0.4);\r\n            }\r\n          }\r\n        }, 10)\r\n      }\r\n    }, 0);\r\n  },\r\n  tick: function () {},\r\n  remove: function () {},\r\n  pause: function () {},\r\n  play: function () {}\r\n});\r\n\r\nAFRAME.registerPrimitive('a-button', {\r\n  defaultComponents: {\r\n    button: {}\r\n  },\r\n  mappings: {\r\n    disabled: 'button.disabled',\r\n    type: 'button.type',\r\n    name: 'button.name',\r\n    value: 'button.value',\r\n    'button-color': 'button.buttonColor',\r\n    color: 'button.color',\r\n    font: 'button.font',\r\n    'letter-spacing': 'button.letterSpacing',\r\n    'line-height': 'button.lineHeight',\r\n    'opacity': 'button.opacity',\r\n    'width': 'button.width',\r\n    mute: 'button.mute'\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/button/index.js","module.exports = [\r\n  { type: 'img', id: 'aframeButtonShadow', src: `${AFRAME.ASSETS_PATH}/images/ButtonShadow.png`},\r\n  { type: 'audio', id: 'aframeButtonClick', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClick.mp3`},\r\n  { type: 'audio', id: 'aframeButtonClickDisabled', src: `${AFRAME.ASSETS_PATH}/sounds/ButtonClickDisabled.mp3`}\r\n]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/button/assets.js","const SFX = {\r\n\r\n  init: function(parent) {\r\n    let el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeButtonClickSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', '#aframeButtonClick');\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n\r\n    el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeButtonClickDisabledSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', '#aframeButtonClickDisabled');\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n  },\r\n\r\n  click: function(parent) {\r\n    let el = parent.querySelector('[key=aframeButtonClickSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  },\r\n\r\n  clickDisabled: function(parent) {\r\n    let el = parent.querySelector('[key=aframeButtonClickDisabledSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  }\r\n}\r\n\r\nmodule.exports = SFX;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/button/sfx.js","const Utils = require('../utils');\r\nconst Event = require('../core/event');\r\nconst Assets = require('./assets');\r\nconst SFX = require('./sfx');\r\n\r\nAFRAME.registerComponent('toast', {\r\n  schema: {\r\n    message: { type: 'string', default: \"You are cool\" },\r\n    action: { type: 'string', default: \"\" },\r\n    backgroundColor: { type: \"color\", default: \"#222\" },//242f35\r\n    actionColor: { type: \"color\", default: \"#4076fd\"},\r\n    color: { type: \"color\", default: \"#FFF\" },\r\n    font: { type: \"string\", default: \"\" },\r\n    letterSpacing: { type: \"int\", default: 0 },\r\n    lineHeight: { type: \"string\", default: \"\" },\r\n    width: { type: \"number\", default: 3 },\r\n    duration: { type: 'number', default: 2000 },\r\n    autoshow: { type: 'boolean', default: true },\r\n    mute: { type: \"boolean\", default: true }\r\n  },\r\n  init: function () {\r\n    var that = this;\r\n\r\n    // Assets\r\n    Utils.preloadAssets( Assets );\r\n\r\n    // SFX\r\n    if (!this.data.mute) {\r\n      SFX.init(this.el);\r\n    }\r\n\r\n    // CONFIG\r\n    this.el.setAttribute(\"position\", `10000 10000 10000`);\r\n    this.el.setAttribute(\"rotation\", \"-25 0 0\");\r\n    this.el.setAttribute(\"scale\", \"0.3 0.3 0.3\");\r\n\r\n    // OUTLINE\r\n    this.background = document.createElement('a-rounded');\r\n    this.background.setAttribute('height', 0.44);\r\n    this.background.setAttribute('radius', 0.03);\r\n    this.background.setAttribute('position', `0 -${0.36/2} 0.001`);\r\n    this.el.appendChild(this.background);\r\n\r\n    // LABEL\r\n    this.label = document.createElement('a-entity');\r\n    this.el.appendChild(this.label);\r\n\r\n    // LABEL\r\n    this.action = document.createElement('a-button');\r\n    that.action.setAttribute('button-color', '#222')\r\n    this.el.appendChild(this.action);\r\n\r\n    function changeWidth(e){\r\n      let attr = that.label.getAttribute('text');\r\n      attr.width = that.data.width-e.detail;\r\n      attr.wrapCount = 10*attr.width;\r\n      that.label.setAttribute('text', attr);\r\n      that.label.setAttribute('position', attr.width/2+0.14+' 0.04 0.001');\r\n\r\n      this.setAttribute('position', `${that.data.width-e.detail} ${(0.44-0.36)/2} 0.001`)\r\n    }\r\n    this.action.addEventListener('change:width', changeWidth);\r\n    this.action.addEventListener('click', function() {\r\n      Event.emit(that.el, 'actionclick');\r\n    });\r\n\r\n    let timer = setInterval(function() {\r\n      if (that.action.object3D && that.action.object3D.children[0]) {\r\n        clearInterval(timer);\r\n        Utils.updateOpacity(that.el, 0);\r\n        Utils.updateOpacity(that.label, 0);\r\n        Utils.updateOpacity(that.action, 0);\r\n        if (that.data.autoshow) { that.show(); }\r\n      }\r\n    }, 10);\r\n\r\n    // METHDOS\r\n    this.el.show = this.show.bind(this);\r\n    this.el.hide = this.hide.bind(this);\r\n  },\r\n  show: function() {\r\n    if (this.hideTimer) {\r\n      clearTimeout(this.hideTimer);\r\n    }\r\n    this.el.setAttribute(\"position\", `${-this.data.width/(2/this.el.object3D.scale.x)} 0.25 -1.6`);\r\n    let that = this;\r\n    /*if (!this.el.parentNode && this.el._parentNode) {\r\n      this.el._parentNode.appendChild(this.el);\r\n    }*/\r\n    setTimeout(function() {\r\n      that.el.setAttribute('fadein', {duration: 160});\r\n      setTimeout(function() {\r\n        Utils.updateOpacity(that.label, 1);\r\n        that.action.components.button.shadow.setAttribute('visible', false);\r\n      }, 10)\r\n    }, 0)\r\n    this.hideTimer = setTimeout(function() {\r\n      that.hide();\r\n    }, this.data.duration);\r\n\r\n    if (!this.data.mute) {\r\n      SFX.show(this.el);\r\n    }\r\n  },\r\n  hide: function() {\r\n    let that = this;\r\n    setTimeout(function() {\r\n      Utils.updateOpacity(that.label, 0);\r\n      that.action.components.button.shadow.setAttribute('visible', false);\r\n      setTimeout(function() {\r\n        that.el.setAttribute('fadeout', {duration: 160});\r\n        setTimeout(function() {\r\n          /*if (that.el.parentNode) {\r\n            that.el._parentNode = that.el.parentNode;\r\n            that.el.parentNode.removeChild(that.el);\r\n          }*/\r\n          that.el.setAttribute(\"position\", `10000 10000 10000`);\r\n        }, 200);\r\n      }, 10)\r\n    }, 0);\r\n  },\r\n  update: function () {\r\n    var that = this;\r\n\r\n    // BACKGROUND\r\n    this.background.setAttribute('color', this.data.backgroundColor);\r\n    this.background.setAttribute('width', this.data.width);\r\n\r\n    let props = {\r\n      color: this.data.color,\r\n      align: 'left',\r\n      wrapCount: 10*this.data.width,\r\n      width: this.data.width,\r\n      lineHeight: 64\r\n    }\r\n    if (this.data.font) { props.font = this.data.font; }\r\n\r\n    if (this.data.type === \"flat\") {\r\n      props.color = this.data.buttonColor;\r\n    }\r\n\r\n    // MESSAGE\r\n    props.value = this.data.message\r\n    this.label.setAttribute('text', props);\r\n    this.label.setAttribute('position', this.data.width/2+0.14+' 0 0.001');\r\n\r\n    // ACTION\r\n    this.action.setAttribute('value', this.data.action.toUpperCase());\r\n    this.action.setAttribute('color', this.data.actionColor);\r\n  },\r\n  tick: function () {},\r\n  remove: function () {},\r\n  pause: function () {},\r\n  play: function () {}\r\n});\r\n\r\nAFRAME.registerPrimitive('a-toast', {\r\n  defaultComponents: {\r\n    toast: {}\r\n  },\r\n  mappings: {\r\n    message: 'toast.message',\r\n    action: 'toast.action',\r\n    'action-color': 'toast.actionColor',\r\n    'background-color': 'toast.backgroundColor',\r\n    color: 'toast.color',\r\n    font: 'toast.font',\r\n    'letter-spacing': 'toast.letterSpacing',\r\n    'line-height': 'toast.lineHeight',\r\n    'width': 'toast.width',\r\n    'duration': 'toast.duration',\r\n    'autoshow': 'toast.autoshow',\r\n    mute: 'toast.mute'\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/toast/index.js","module.exports = [\r\n  { type: 'audio', id: 'aframeToastShow', src: `${AFRAME.ASSETS_PATH}/sounds/ToastShow.mp3`}\r\n]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/toast/assets.js","const SFX = {\r\n  init: function(parent) {\r\n    let el = document.createElement('a-sound');\r\n    el.setAttribute('key', 'aframeToastShowSound');\r\n    el.setAttribute('sfx', true);\r\n    el.setAttribute('src', '#aframeToastShow');\r\n    el.setAttribute('position', '0 2 5');\r\n    parent.appendChild(el);\r\n  },\r\n\r\n  show: function(parent) {\r\n    let el = parent.querySelector('[key=aframeToastShowSound]');\r\n    if (!el) { return; }\r\n    el.components.sound.stopSound();\r\n    el.components.sound.playSound();\r\n  }\r\n}\r\n\r\nmodule.exports = SFX;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/toast/sfx.js"],"sourceRoot":""}